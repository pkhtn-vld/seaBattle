const _0x267c7e=_0x47f8;function _0x47f8(_0x2d4f08,_0x1b35a9){const _0x3dbcf7=_0x2472();return _0x47f8=function(_0x457478,_0x5d822a){_0x457478=_0x457478-(-0x10bb+0x60*0x61+-0x5d*0x35);let _0x438ffa=_0x3dbcf7[_0x457478];return _0x438ffa;},_0x47f8(_0x2d4f08,_0x1b35a9);}(function(_0x246df8,_0x37063b){const _0x33399f=_0x47f8,_0x5aeda9=_0x246df8();while(!![]){try{const _0xa6d6ff=parseInt(_0x33399f(0x86))/(-0x1abc*-0x1+0x24d*-0x7+-0xaa0)+-parseInt(_0x33399f(0xa9))/(0xd11+0x1*0x2479+-0x3188)*(parseInt(_0x33399f(0x8b))/(0x1058*-0x1+0x20a*0x6+0x41f))+parseInt(_0x33399f(0x70))/(0x2531*-0x1+0xbc6+0x196f)+-parseInt(_0x33399f(0xa2))/(0x1ecf+-0x1526*0x1+-0x269*0x4)+-parseInt(_0x33399f(0x9e))/(0x1d04+0x1*-0x1ead+0x1af)+parseInt(_0x33399f(0x81))/(0x1*0xf19+-0x13f*0x17+0xd97)+parseInt(_0x33399f(0xb3))/(0x1*-0x5e0+-0x1*-0x18ed+0x1*-0x1305)*(parseInt(_0x33399f(0xab))/(0xbd7+0x1*0x1b7f+-0x274d));if(_0xa6d6ff===_0x37063b)break;else _0x5aeda9['push'](_0x5aeda9['shift']());}catch(_0x1e6da6){_0x5aeda9['push'](_0x5aeda9['shift']());}}}(_0x2472,-0x6066c+-0x22b1d+0xc7722));export function send(_0x4616b2,_0x5840cf){const _0xa4daa9=_0x47f8,_0x1b97d8={'eYTVO':function(_0x2e65f9,_0xd6b6c8){return _0x2e65f9===_0xd6b6c8;}};_0x4616b2&&_0x1b97d8[_0xa4daa9(0x93)](_0x4616b2[_0xa4daa9(0xad)],_0x4616b2[_0xa4daa9(0xb4)])&&_0x4616b2[_0xa4daa9(0x91)](JSON[_0xa4daa9(0x7c)](_0x5840cf));}export function queueSessionOp(_0x15c330,_0x4fdfcf,_0x283309){const _0x184787={'HjJiK':function(_0x652cf0){return _0x652cf0();},'ytEic':function(_0x2e3d20,_0x1c537c){return _0x2e3d20(_0x1c537c);},'JHheB':function(_0x18e762,_0x3319d2){return _0x18e762===_0x3319d2;}};_0x283309[_0x15c330]||(_0x283309[_0x15c330]=[]);const _0x2c7439=_0x283309[_0x15c330];return new Promise((_0x16a9a7,_0x460424)=>{const _0x3deb42=_0x47f8,_0xd080fc=async()=>{const _0x28c77e=_0x47f8;try{const _0x226d58=await _0x184787[_0x28c77e(0x9c)](_0x4fdfcf);_0x184787[_0x28c77e(0x9a)](_0x16a9a7,_0x226d58);}catch(_0x4128f2){_0x184787[_0x28c77e(0x9a)](_0x460424,_0x4128f2);}finally{_0x2c7439[_0x28c77e(0x85)](),_0x2c7439[_0x28c77e(0xae)]?_0x2c7439[-0x1c0d+-0xc0a*0x2+0x3421]():delete _0x283309[_0x15c330];}};_0x2c7439[_0x3deb42(0x75)](_0xd080fc),_0x184787[_0x3deb42(0x95)](_0x2c7439[_0x3deb42(0xae)],-0x1*0x1141+0x250*-0x6+0x1*0x1f22)&&_0x184787[_0x3deb42(0x9c)](_0xd080fc);});}export async function postProcessMessage(_0x168996,_0x385197,_0x311bca,_0x262eaf){const _0x24c388=_0x47f8,_0x31c1bd={'Kjsxo':function(_0x124e5c,_0x64907f,_0xe11f2){return _0x124e5c(_0x64907f,_0xe11f2);},'mNrAe':_0x24c388(0x89),'VLEFa':_0x24c388(0xbb),'VeSBM':function(_0x1dd733,_0x120381,_0x53324a){return _0x1dd733(_0x120381,_0x53324a);},'IOEDp':_0x24c388(0x7a)+_0x24c388(0x68),'FjXjE':function(_0x6ad78d,_0x5c1870){return _0x6ad78d&&_0x5c1870;},'OmRcR':function(_0x4073fd,_0x2fc3ad){return _0x4073fd===_0x2fc3ad;},'lxZRm':_0x24c388(0x87),'nzBSG':function(_0x40c0f,_0x181ef4,_0xb4290b){return _0x40c0f(_0x181ef4,_0xb4290b);},'Tscmn':_0x24c388(0x76),'FfFFF':function(_0x3c6b33,_0x183c03,_0x1592b0){return _0x3c6b33(_0x183c03,_0x1592b0);},'QSExn':_0x24c388(0x7e),'IDKBU':function(_0x3225d0,_0x2babac,_0x5e9bc3){return _0x3225d0(_0x2babac,_0x5e9bc3);},'PAzNl':function(_0x57dd0d,_0x2070b1,_0x19dd69){return _0x57dd0d(_0x2070b1,_0x19dd69);},'LUORy':_0x24c388(0x7b),'NlOMM':_0x24c388(0xb5),'fsXSQ':_0x24c388(0x64)};_0x385197[_0x24c388(0xa5)]=_0x262eaf,_0x311bca[_0x24c388(0x9f)][_0x385197[_0x24c388(0x79)]]=_0x385197,_0x31c1bd[_0x24c388(0xa7)](log,_0x24c388(0x82)+_0x24c388(0x99)+_0x385197[_0x24c388(0x79)]+_0x24c388(0xba)+_0x262eaf,_0x31c1bd[_0x24c388(0x7d)]),_0x31c1bd[_0x24c388(0x97)](send,_0x385197,{'type':_0x31c1bd[_0x24c388(0x94)],'role':_0x385197[_0x24c388(0x79)]});const _0x187fc5=_0x311bca[_0x24c388(0x9f)][_0x24c388(0xb5)],_0x38c353=_0x311bca[_0x24c388(0x9f)][_0x24c388(0x64)],_0x49d230=!!_0x31c1bd[_0x24c388(0x6b)](_0x187fc5,_0x38c353);_0x31c1bd[_0x24c388(0xa4)](_0x168996,_0x31c1bd[_0x24c388(0x9d)])?_0x49d230?(_0x31c1bd[_0x24c388(0xa7)](log,_0x24c388(0xa8)+_0x24c388(0xb1)+_0x24c388(0x73)+_0x262eaf,_0x31c1bd[_0x24c388(0x7d)]),_0x31c1bd[_0x24c388(0x92)](send,_0x187fc5,{'type':_0x31c1bd[_0x24c388(0xa3)]}),_0x31c1bd[_0x24c388(0x92)](send,_0x38c353,{'type':_0x31c1bd[_0x24c388(0xa3)]})):_0x31c1bd[_0x24c388(0x77)](send,_0x385197,{'type':_0x31c1bd[_0x24c388(0xb7)]}):_0x49d230?(_0x31c1bd[_0x24c388(0x8c)](log,_0x24c388(0xb6)+_0x24c388(0x6a)+':\x20'+_0x262eaf,_0x31c1bd[_0x24c388(0x7d)]),_0x31c1bd[_0x24c388(0x74)](send,_0x187fc5,{'type':_0x31c1bd[_0x24c388(0x6c)]}),_0x31c1bd[_0x24c388(0x74)](send,_0x38c353,{'type':_0x31c1bd[_0x24c388(0x6c)]})):_0x31c1bd[_0x24c388(0x97)](send,_0x385197,{'type':_0x31c1bd[_0x24c388(0xb7)]}),_0x311bca[_0x24c388(0xaa)]?.[_0x24c388(0xb5)]&&_0x311bca[_0x24c388(0xaa)]?.[_0x24c388(0x64)]&&_0x49d230&&(_0x31c1bd[_0x24c388(0x8c)](log,_0x24c388(0x98)+_0x24c388(0xac)+_0x24c388(0xb8)+_0x262eaf,_0x31c1bd[_0x24c388(0x7d)]),[_0x31c1bd[_0x24c388(0x78)],_0x31c1bd[_0x24c388(0x67)]][_0x24c388(0x66)](_0x142154=>{const _0x9b43c6=_0x24c388;_0x31c1bd[_0x9b43c6(0xa7)](send,_0x311bca[_0x9b43c6(0x9f)][_0x142154],{'type':_0x31c1bd[_0x9b43c6(0xa0)],'initialFleet':_0x311bca[_0x9b43c6(0x96)+_0x9b43c6(0xa6)][_0x142154],'battle_ready':!(0x1f5b+0x3*-0x707+-0xa46),'turn':_0x311bca[_0x9b43c6(0xaa)][_0x9b43c6(0xb9)],'shots':_0x311bca[_0x9b43c6(0xaa)][_0x9b43c6(0xb0)]});}));}export function getSession(_0x215405,_0x47bfa5){return _0x47bfa5[_0x215405]||(_0x47bfa5[_0x215405]={'playerIds':{'player1':null,'player2':null},'sockets':{'player1':null,'player2':null}}),_0x47bfa5[_0x215405];}export function log(_0x33e56e,_0x3ab632=_0x267c7e(0xbb)){const _0x5f309c=_0x267c7e,_0x22584e=new Date()[_0x5f309c(0x8e)+'g']()[_0x5f309c(0x71)]('T','\x20')[_0x5f309c(0x90)]('.')[-0x1f78+-0x11d*-0x1a+0x286];console[_0x5f309c(0x88)]('['+_0x22584e+_0x5f309c(0x65)+_0x3ab632+']\x20'+_0x33e56e);}export function startSessionGarbageCollector(_0x362da4,_0x2b800a,_0x3e2f3f,_0x130ee4){const _0x397217=_0x267c7e,_0x5d3ce3={'FfNrx':_0x397217(0xb5),'hXSxF':_0x397217(0x64),'RcYHR':function(_0x185d74,_0x4602c1){return _0x185d74>_0x4602c1;},'SyOxC':function(_0x13b09f,_0x154221){return _0x13b09f-_0x154221;},'DKPDb':function(_0x2909b7,_0x3ce1da,_0x2bde11){return _0x2909b7(_0x3ce1da,_0x2bde11);},'whQDO':_0x397217(0xbb)};_0x5d3ce3[_0x397217(0xaf)](setInterval,()=>{const _0x2e530f=_0x397217,_0x1fe0c8=Date[_0x2e530f(0x83)]();for(const [_0x12a5d8,_0x56bb04]of Object[_0x2e530f(0x6e)](_0x3e2f3f))![_0x5d3ce3[_0x2e530f(0x8f)],_0x5d3ce3[_0x2e530f(0x9b)]][_0x2e530f(0x69)](_0x1e1ee2=>_0x56bb04[_0x2e530f(0x9f)][_0x1e1ee2]?.[_0x2e530f(0xad)]===_0x130ee4[_0x2e530f(0xb4)])&&_0x5d3ce3[_0x2e530f(0x6d)](_0x5d3ce3[_0x2e530f(0x7f)](_0x1fe0c8,_0x56bb04[_0x2e530f(0x72)]),_0x2b800a)&&(_0x5d3ce3[_0x2e530f(0xaf)](log,_0x2e530f(0x84)+_0x2e530f(0x6f)+_0x12a5d8,_0x5d3ce3[_0x2e530f(0xbc)]),delete _0x3e2f3f[_0x12a5d8]);},_0x362da4);}function _0x2472(){const _0x3452ae=['battle','isAlive','6FKNewD','IDKBU','terminate','toISOStrin','FfNrx','split','send','nzBSG','eYTVO','IOEDp','JHheB','initialFle','VeSBM','Рестарт\x20бо','роль\x20','ytEic','hXSxF','HjJiK','lxZRm','822702oWKjIb','sockets','mNrAe','clients','437515tAdHry','Tscmn','OmRcR','secret_id','ets','Kjsxo','Оба\x20игрока','436972ZtbNWS','battleData','27JauILW','я\x20для\x20сесс','readyState','length','DKPDb','shots','\x20подключен','RcjRv','850952rJAMRB','OPEN','player1','Сессия\x20вос','QSExn','ии\x20','turn','\x20в\x20сессии\x20','info','whQDO','player2',']\x20[','forEach','fsXSQ','ned','some','становлена','FjXjE','LUORy','RcYHR','entries','ссию\x20','339840jHzKxR','replace','lastActive','ы:\x20','PAzNl','push','connected','FfFFF','NlOMM','role','role_assig','resume','stringify','VLEFa','waiting','SyOxC','ping','2070383IaTAgt','Назначена\x20','now','Удаляем\x20се','shift','241717cOrmrZ','connect','log'];_0x2472=function(){return _0x3452ae;};return _0x2472();}export function startWebSocketHeartbeat(_0x4e68c5,_0x215f89){const _0x366fc6=_0x267c7e,_0x288beb={'RcjRv':function(_0x2fbd73,_0xd77674,_0x1beb3a){return _0x2fbd73(_0xd77674,_0x1beb3a);}};_0x288beb[_0x366fc6(0xb2)](setInterval,()=>{const _0xcc353e=_0x366fc6;_0x4e68c5[_0xcc353e(0xa1)][_0xcc353e(0x66)](_0x52af1d=>{const _0x48cf5f=_0xcc353e;if(!_0x52af1d[_0x48cf5f(0x8a)])return _0x52af1d[_0x48cf5f(0x8d)]();_0x52af1d[_0x48cf5f(0x8a)]=!(-0x1c19+0x1*-0x171f+0x3339),_0x52af1d[_0x48cf5f(0x80)]();});},_0x215f89);}