const _0x28e2c2=_0x2355;(function(_0x12053f,_0x30cc99){const _0x3de567=_0x2355,_0xf54726=_0x12053f();while(!![]){try{const _0x4a2ace=parseInt(_0x3de567(0x121))/(-0x4*0x22f+-0x10b5+0x1972)+parseInt(_0x3de567(0x118))/(-0x1fad+-0x239f+0x434e)*(parseInt(_0x3de567(0x109))/(0x29*-0x97+-0x3*-0x25b+0x1121))+-parseInt(_0x3de567(0x11a))/(0xa9*0x5+0x1fb8+-0x2301)+parseInt(_0x3de567(0x11c))/(-0x2ad+-0x1*-0x14b8+0x301*-0x6)+-parseInt(_0x3de567(0xff))/(0x841+-0x509*-0x3+-0x1756)+parseInt(_0x3de567(0x114))/(-0x9c*0x3+0xe5+-0x7b*-0x2)+parseInt(_0x3de567(0x112))/(-0x1*0x21ff+0x79e+0x1a69*0x1);if(_0x4a2ace===_0x30cc99)break;else _0xf54726['push'](_0xf54726['shift']());}catch(_0x3a3f92){_0xf54726['push'](_0xf54726['shift']());}}}(_0xe568,-0xf673*0x2+-0x3c183+0xb08d2));import{promises as _0x115351}from'fs';import _0x5474b1 from'path';const i=_0x5474b1[_0x28e2c2(0x10e)](_0x28e2c2(0x111)+_0x28e2c2(0x116));export async function ensureGamesFolder(){const _0x3d7816=_0x28e2c2;try{await _0x115351[_0x3d7816(0x119)](i,{'recursive':!(0xb9*-0x1b+-0x5*0x59d+0x1d*0x1a4)});}catch(_0x3ccbfc){console[_0x3d7816(0x107)](_0x3d7816(0x105)+_0x3d7816(0x101)+_0x3d7816(0x103)+_0x3ccbfc[_0x3d7816(0x122)]);}}function _0x2355(_0x5d8d1a,_0x24c71c){const _0x2836d0=_0xe568();return _0x2355=function(_0x43c1ad,_0x3b24f1){_0x43c1ad=_0x43c1ad-(0xe49+0xf6+0x40*-0x39);let _0x8e3df0=_0x2836d0[_0x43c1ad];return _0x8e3df0;},_0x2355(_0x5d8d1a,_0x24c71c);}export async function saveGame(_0x3a3c22,_0xa9b898){const _0x169b40=_0x28e2c2,_0x439c4f=_0x5474b1[_0x169b40(0x10e)](i,_0x3a3c22+_0x169b40(0x10a)),_0x1a5182=JSON[_0x169b40(0x10f)](_0xa9b898,null,-0x1*-0x1357+0x200*0x1+-0x1555);await _0x115351[_0x169b40(0x11e)](_0x439c4f,_0x1a5182);}export async function deleteGame(_0x14c2e7){const _0x531ba1=_0x28e2c2,_0x4eb9ba={'eOsfL':function(_0x3203bf,_0xd98243){return _0x3203bf!==_0xd98243;},'cAKsJ':_0x531ba1(0x106)},_0x4c0978=_0x5474b1[_0x531ba1(0x10e)](i,_0x14c2e7+_0x531ba1(0x10a));try{await _0x115351[_0x531ba1(0x115)](_0x4c0978);}catch(_0x9f056d){if(_0x4eb9ba[_0x531ba1(0x104)](_0x9f056d[_0x531ba1(0x108)],_0x4eb9ba[_0x531ba1(0x11b)]))throw _0x9f056d;}}function _0xe568(){const _0x68ab35=['cAKsJ','844420DjcUOH','IBbKY','writeFile','battleData','bMIcY','120125wscmBP','message','initialFle','3074796XZOBVx','Qmcsx','\x20создать\x20п','utf-8','апку\x20игр:\x20','eOsfL','Не\x20удалось','ENOENT','error','code','675ImcVXI','.json','player1','parse','ets','join','stringify','amWOS','./server/g','1874808WdTwTb','player2','3032022frHYvg','unlink','ames','readFile','5322EncpKi','mkdir','2767760RWqpzD'];_0xe568=function(){return _0x68ab35;};return _0xe568();}export async function loadGame(_0x4a3ad6){const _0x4757b9=_0x28e2c2,_0x40ab51={'amWOS':_0x4757b9(0x102),'bMIcY':function(_0x212c0d,_0x51ad0b){return _0x212c0d===_0x51ad0b;},'Qmcsx':_0x4757b9(0x106)},_0x36959c=_0x5474b1[_0x4757b9(0x10e)](i,_0x4a3ad6+_0x4757b9(0x10a));try{const _0x3f1ef1=await _0x115351[_0x4757b9(0x117)](_0x36959c,_0x40ab51[_0x4757b9(0x110)]);return JSON[_0x4757b9(0x10c)](_0x3f1ef1);}catch(_0x3f58bf){if(_0x40ab51[_0x4757b9(0x120)](_0x3f58bf[_0x4757b9(0x108)],_0x40ab51[_0x4757b9(0x100)]))return null;throw _0x3f58bf;}}export async function restoreGame(_0x576e2a,_0x5b1225){const _0x28a489=_0x28e2c2,_0x34471b={'IBbKY':function(_0x15f2db,_0x391add){return _0x15f2db(_0x391add);}},_0x15da43=await _0x34471b[_0x28a489(0x11d)](loadGame,_0x5b1225);return _0x15da43&&_0x15da43[_0x28a489(0x10b)]&&_0x15da43[_0x28a489(0x113)]?(_0x576e2a[_0x28a489(0x11f)]=_0x15da43,_0x576e2a[_0x28a489(0x123)+_0x28a489(0x10d)]={'player1':JSON[_0x28a489(0x10c)](JSON[_0x28a489(0x10f)](_0x15da43[_0x28a489(0x123)+_0x28a489(0x10d)][_0x28a489(0x10b)])),'player2':JSON[_0x28a489(0x10c)](JSON[_0x28a489(0x10f)](_0x15da43[_0x28a489(0x123)+_0x28a489(0x10d)][_0x28a489(0x113)]))},!(-0x15c6+-0x1c02+0x4*0xc72)):!(0x10b3+0x14b4+-0x2566);}