const _0x23d954=_0x328e;(function(_0x3d815e,_0x14d940){const _0x17e6ef=_0x328e,_0x246f14=_0x3d815e();while(!![]){try{const _0x2d1e4c=-parseInt(_0x17e6ef(0xf2))/(0x1*0x1e59+-0x41b*-0x2+-0x5*0x7b6)+parseInt(_0x17e6ef(0x75))/(-0x1*-0xc97+-0x454*0x9+0x2b*0x9d)+parseInt(_0x17e6ef(0xbd))/(0x14f9+-0x1*-0x22a1+-0x85*0x6b)+parseInt(_0x17e6ef(0x109))/(0x1307*-0x2+0x21bd+-0x455*-0x1)*(-parseInt(_0x17e6ef(0x7b))/(-0x18fa+0x1b7e+-0x27f))+parseInt(_0x17e6ef(0xbc))/(0x2629+-0x12b1+-0x1372)+parseInt(_0x17e6ef(0x91))/(0xa3d*-0x1+-0x121*-0x9+0x1b)*(-parseInt(_0x17e6ef(0xc0))/(0x1*0x26cb+0x2f8+-0x29bb))+parseInt(_0x17e6ef(0xb7))/(0x1*0xd64+-0x222d+0x14d2)*(parseInt(_0x17e6ef(0xe9))/(0xe73+0x4a2+-0xc3*0x19));if(_0x2d1e4c===_0x14d940)break;else _0x246f14['push'](_0x246f14['shift']());}catch(_0x5b5482){_0x246f14['push'](_0x246f14['shift']());}}}(_0x6e21,0x5*-0x1dc62+0x5c*-0x1b7+0x10f7bd));import _0x47dc87 from'express';import{WebSocketServer as _0x44b790}from'ws';import _0x4aed77 from'fs';import _0x4e1502 from'path';function _0x6e21(){const _0x3396a6=['HkAsr','\x20потоплен!',':\x20до=','\x20у\x20','LDRsb','.json','turn','secret_id\x20','обязателен','sunk','айл\x20','playerIds','qPOKu','\x20файл\x20удал','bSocket-по','PORT','ый\x20JSON','→\x20Новое\x20We','\x20удалить\x20ф','\x20подключен','TnLCG','OLHuO','Оба\x20игрока','reconnect','initialFle','public','info','роль\x20','\x20в\x20сессии\x20','HgSzJ','ваш\x20ход','10YScKYP','utf-8','log','QgjSj','secret_id','тся:\x20','battleData','flpHz','ока\x20','611415reuYzL','replace','existsSync','\x20в\x20','resume','shoot','Отключён\x20с','role_assig','connect','includes','fQLkS','Попадание\x20','Неизвестны','split','gameOver','NvYyU','vaIOd','env','ы:\x20','Рестарт\x20бо','ии\x20','battle_sta','send','12HzlPAJ','GTaII','HTvmM','Не\x20удалось','connection','splice','join','mkdirSync','entries','cOPZl','CfFGT','./server/g','zVaok','twcvE','rCjqb','←\x20Получено','wqyzv','\x20сохранены','shot_resul','playerId','debug','pause','winner','listen','WPBVb','emcfq','NBaMd','readFileSy','voQrI','lReQv','battle','stringify','sockets','окет:\x20','ets','abQHx','ZkQRQ',']\x20[','шает\x20http:','1079528pRJNiQ','MFvMy','WkXnx','Игра\x20','становлена','Создана\x20но','252345CXdmNw','writeFileS','файла\x20для\x20','fptRa','close','Создана\x20па','JTuDp','qdshQ','waiting','Сейчас\x20не\x20','player1','Некорректн','unlinkSync','findIndex','ned','HktGu','Подгружены','\x20флоты\x20из\x20','fCpkx','вая\x20сессия','isAlive','\x20сообщение','2849VLYUkd','message','SbPJF','WlRkD','xTEFM','дключение','PoEYP','forEach','push','shots','SlIrN','RVHQR',',\x20ходит\x20','init','ync','length','values','vZJDT','Назначена\x20','\x20обновлена','use','rt\x20от\x20','parse','ой\x20начинае','vrBAE','Данные\x20игр','\x20окончена,','Сервер\x20слу','ADCOP','connected','\x20после\x20выс','toISOStrin','pGNek','gPgFM','static',',\x20после=','я\x20для\x20сесс','ames','6465447uwNpJH','role','//localhos','fleet','пка\x20games','361926pocUjw','1114182jzrhxo','LADJH','warn','9144mAzGes','error','player2','й\x20тип','трела','FuLfS','Сессия\x20вос','every','→\x20Корабль\x20','\x20готовы.\x20Б'];_0x6e21=function(){return _0x3396a6;};return _0x6e21();}import{send as _0x141faf}from'./utils.js';const P=process[_0x23d954(0x103)][_0x23d954(0xd9)]||-0xbed+-0x704*-0x5+-0xb6f,u=_0x4e1502[_0x23d954(0x10f)](_0x23d954(0x114)+_0x23d954(0xb6)),b={};function a(_0x2f52a6,_0x5689dc=_0x23d954(0xe4)){const _0x4940b5=_0x23d954,_0x43b5eb=new Date()[_0x4940b5(0xb0)+'g']()[_0x4940b5(0xf3)]('T','\x20')[_0x4940b5(0xff)]('.')[0x1ae7+0x1ddb*0x1+-0x38c2];console[_0x4940b5(0xeb)]('['+_0x43b5eb+_0x4940b5(0x73)+_0x5689dc+']\x20'+_0x2f52a6);}_0x4aed77[_0x23d954(0xf4)](u)||(_0x4aed77[_0x23d954(0x110)](u,{'recursive':!(-0x4a*0x36+0x54*-0x61+-0x2*-0x17b8)}),a(_0x23d954(0x80)+_0x23d954(0xbb),_0x23d954(0x9e)));function _0x328e(_0x385f67,_0xba3fb0){const _0x1cf981=_0x6e21();return _0x328e=function(_0x15a2e5,_0x290cf7){_0x15a2e5=_0x15a2e5-(-0x2265+-0x1*0xa3+-0x8dd*-0x4);let _0x2d4ac6=_0x1cf981[_0x15a2e5];return _0x2d4ac6;},_0x328e(_0x385f67,_0xba3fb0);}const T=_0x47dc87();T[_0x23d954(0xa5)](_0x47dc87[_0x23d954(0xb3)](_0x23d954(0xe3)));const W=T[_0x23d954(0x120)](P,()=>a(_0x23d954(0xac)+_0x23d954(0x74)+_0x23d954(0xb9)+'t:'+P,_0x23d954(0x9e))),B=new _0x44b790({'server':W});B['on'](_0x23d954(0x10d),_0x4ceb71=>{const _0x5c26f8=_0x23d954,_0x2bb3eb={'PoEYP':function(_0x1e5311,_0x49ff67,_0x28250d){return _0x1e5311(_0x49ff67,_0x28250d);},'fptRa':_0x5c26f8(0x6c),'SbPJF':_0x5c26f8(0x86)+_0x5c26f8(0xda),'rCjqb':_0x5c26f8(0xbf),'flpHz':_0x5c26f8(0x11d),'wqyzv':_0x5c26f8(0xc1),'LADJH':_0x5c26f8(0xd1)+_0x5c26f8(0xd2),'pGNek':_0x5c26f8(0xfa),'HktGu':function(_0x460162,_0x776dd4){return _0x460162===_0x776dd4;},'vrBAE':_0x5c26f8(0x85),'qdshQ':function(_0x95a54d,_0x207bee){return _0x95a54d===_0x207bee;},'emcfq':_0x5c26f8(0xc2),'HTvmM':_0x5c26f8(0xea),'ADCOP':function(_0x2a5f5d,_0x58b748,_0x39248e){return _0x2a5f5d(_0x58b748,_0x39248e);},'zVaok':_0x5c26f8(0xe4),'WkXnx':_0x5c26f8(0xe1),'FuLfS':function(_0x4fb243,_0x1083de){return _0x4fb243!==_0x1083de;},'xTEFM':function(_0x28d309,_0x5af2fb,_0x35845b){return _0x28d309(_0x5af2fb,_0x35845b);},'LDRsb':_0x5c26f8(0x107)+'rt','fQLkS':function(_0x152005,_0x2c8d13,_0x37f282){return _0x152005(_0x2c8d13,_0x37f282);},'NvYyU':function(_0x125265,_0x2fc11b,_0x541726){return _0x125265(_0x2fc11b,_0x541726);},'MFvMy':_0x5c26f8(0xf7),'HkAsr':function(_0x1fa193,_0x3171d5){return _0x1fa193!==_0x3171d5;},'JTuDp':_0x5c26f8(0x84)+_0x5c26f8(0xe8),'RVHQR':function(_0x2a450b,_0x1afd3b){return _0x2a450b===_0x1afd3b;},'vaIOd':function(_0x28d953,_0x4af023){return _0x28d953!==_0x4af023;},'HgSzJ':function(_0x41cef7,_0x4862b1,_0x146bed){return _0x41cef7(_0x4862b1,_0x146bed);},'twcvE':function(_0x1844fe,_0xcb5a04){return _0x1844fe&&_0xcb5a04;},'CfFGT':_0x5c26f8(0x11b)+'t','TnLCG':function(_0x11bfff,_0x16b282){return _0x11bfff||_0x16b282;},'cOPZl':function(_0xb351a3,_0x270816,_0x42382e){return _0xb351a3(_0x270816,_0x42382e);},'WPBVb':_0x5c26f8(0xfe)+_0x5c26f8(0xc3),'QgjSj':function(_0x539d80,_0x13bb44,_0x479f31){return _0x539d80(_0x13bb44,_0x479f31);},'abQHx':_0x5c26f8(0xf9)+_0x5c26f8(0x89),'fCpkx':_0x5c26f8(0xae),'NBaMd':_0x5c26f8(0x83),'voQrI':_0x5c26f8(0xf6),'qPOKu':function(_0x3a3be5,_0x12181a,_0x1fbf42){return _0x3a3be5(_0x12181a,_0x1fbf42);},'lReQv':function(_0x299c3f,_0x40a2b9){return _0x299c3f===_0x40a2b9;},'GTaII':function(_0xf6d7c3,_0x51bb3a,_0xfcdb04){return _0xf6d7c3(_0x51bb3a,_0xfcdb04);},'SlIrN':_0x5c26f8(0x11e),'WlRkD':function(_0x38f659,_0x283244){return _0x38f659(_0x283244);},'OLHuO':_0x5c26f8(0xdb)+_0x5c26f8(0xd8)+_0x5c26f8(0x96),'vZJDT':_0x5c26f8(0x92),'gPgFM':_0x5c26f8(0x7f)};_0x2bb3eb[_0x5c26f8(0x94)](a,_0x2bb3eb[_0x5c26f8(0xdf)]),_0x4ceb71[_0x5c26f8(0x8f)]=!(0x1ea3+0x1a7c+-0x391f),_0x4ceb71[_0x5c26f8(0xb8)]=null,_0x4ceb71[_0x5c26f8(0xed)]=null,_0x4ceb71['on'](_0x2bb3eb[_0x5c26f8(0xa2)],_0x42a54b=>{const _0xde5e9=_0x5c26f8,_0x3a6f0b={'ZkQRQ':_0x2bb3eb[_0xde5e9(0x7e)]};let _0x3796f9;try{_0x3796f9=JSON[_0xde5e9(0xa7)](_0x42a54b);}catch{_0x2bb3eb[_0xde5e9(0x97)](a,_0x2bb3eb[_0xde5e9(0x93)],_0x2bb3eb[_0xde5e9(0x117)]);return;}const {type:_0x4a7e15,secret_id:_0x152397,role:_0x42d282,playerId:_0x5accba}=_0x3796f9;if(_0x2bb3eb[_0xde5e9(0x97)](a,_0xde5e9(0x118)+_0xde5e9(0x90)+'\x20'+_0x4a7e15,_0x2bb3eb[_0xde5e9(0xf0)]),!_0x152397){_0x4ceb71[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x119)],'message':_0x2bb3eb[_0xde5e9(0xbe)]}));return;}b[_0x152397]||(b[_0x152397]={'sockets':{'player1':null,'player2':null}},_0x2bb3eb[_0xde5e9(0x97)](a,_0xde5e9(0x7a)+_0xde5e9(0x8e)+'\x20'+_0x152397,_0x2bb3eb[_0xde5e9(0xf0)]));const _0x29e97f=b[_0x152397];switch(_0x29e97f[_0xde5e9(0xd5)]=_0x29e97f[_0xde5e9(0xd5)]||{'player1':null,'player2':null},_0x4a7e15){case _0x2bb3eb[_0xde5e9(0xb1)]:_0x2bb3eb[_0xde5e9(0x8a)](_0x29e97f[_0xde5e9(0xd5)][_0xde5e9(0x85)],_0x5accba)?_0x4ceb71[_0xde5e9(0xb8)]=_0x2bb3eb[_0xde5e9(0xa9)]:_0x2bb3eb[_0xde5e9(0x82)](_0x29e97f[_0xde5e9(0xd5)][_0xde5e9(0xc2)],_0x5accba)?_0x4ceb71[_0xde5e9(0xb8)]=_0x2bb3eb[_0xde5e9(0x122)]:(_0x4ceb71[_0xde5e9(0xb8)]=_0x29e97f[_0xde5e9(0x6e)][_0xde5e9(0x85)]?_0x2bb3eb[_0xde5e9(0x122)]:_0x2bb3eb[_0xde5e9(0xa9)],_0x29e97f[_0xde5e9(0xd5)][_0x4ceb71[_0xde5e9(0xb8)]]=_0x5accba),_0x4ceb71[_0xde5e9(0x11c)]=_0x5accba;{const _0x4da162=_0x4e1502[_0xde5e9(0x10f)](u,_0x152397+_0xde5e9(0xcf));if(_0x4aed77[_0xde5e9(0xf4)](_0x4da162)){const _0xcf4bd8=JSON[_0xde5e9(0xa7)](_0x4aed77[_0xde5e9(0x124)+'nc'](_0x4da162,_0x2bb3eb[_0xde5e9(0x10b)]));_0xcf4bd8[_0xde5e9(0x85)]&&_0xcf4bd8[_0xde5e9(0xc2)]&&(_0x29e97f[_0xde5e9(0xef)]=_0xcf4bd8,_0x29e97f[_0xde5e9(0xe2)+_0xde5e9(0x70)]={'player1':JSON[_0xde5e9(0xa7)](JSON[_0xde5e9(0x6d)](_0xcf4bd8[_0xde5e9(0x85)])),'player2':JSON[_0xde5e9(0xa7)](JSON[_0xde5e9(0x6d)](_0xcf4bd8[_0xde5e9(0xc2)]))},_0x2bb3eb[_0xde5e9(0xad)](a,_0xde5e9(0x8b)+_0xde5e9(0x8c)+_0xde5e9(0x7d)+_0x4ceb71[_0xde5e9(0xb8)],_0x2bb3eb[_0xde5e9(0x115)]));}}break;case _0x2bb3eb[_0xde5e9(0x77)]:if(![_0x2bb3eb[_0xde5e9(0xa9)],_0x2bb3eb[_0xde5e9(0x122)]][_0xde5e9(0xfb)](_0x42d282)||_0x2bb3eb[_0xde5e9(0xc5)](_0x29e97f[_0xde5e9(0xd5)][_0x42d282],_0x5accba))return;_0x4ceb71[_0xde5e9(0xb8)]=_0x42d282,_0x4ceb71[_0xde5e9(0x11c)]=_0x5accba,_0x29e97f[_0xde5e9(0xd5)][_0x4ceb71[_0xde5e9(0xb8)]]=_0x5accba;{const _0x210a98=_0x4e1502[_0xde5e9(0x10f)](u,_0x152397+_0xde5e9(0xcf));if(_0x4aed77[_0xde5e9(0xf4)](_0x210a98)){const _0x5184ec=JSON[_0xde5e9(0xa7)](_0x4aed77[_0xde5e9(0x124)+'nc'](_0x210a98,_0x2bb3eb[_0xde5e9(0x10b)]));_0x5184ec[_0xde5e9(0x85)]&&_0x5184ec[_0xde5e9(0xc2)]&&(_0x29e97f[_0xde5e9(0xef)]=_0x5184ec,_0x29e97f[_0xde5e9(0xe2)+_0xde5e9(0x70)]={'player1':JSON[_0xde5e9(0xa7)](JSON[_0xde5e9(0x6d)](_0x5184ec[_0xde5e9(0x85)])),'player2':JSON[_0xde5e9(0xa7)](JSON[_0xde5e9(0x6d)](_0x5184ec[_0xde5e9(0xc2)]))},_0x2bb3eb[_0xde5e9(0x95)](a,_0xde5e9(0x8b)+_0xde5e9(0x8c)+_0xde5e9(0x7d)+_0x4ceb71[_0xde5e9(0xb8)],_0x2bb3eb[_0xde5e9(0x115)]));}}break;case _0x2bb3eb[_0xde5e9(0xce)]:_0x2bb3eb[_0xde5e9(0x97)](a,_0xde5e9(0x107)+_0xde5e9(0xa6)+_0x4ceb71[_0xde5e9(0xb8)]+_0xde5e9(0xe6)+_0x152397,_0x2bb3eb[_0xde5e9(0x115)]),_0x29e97f[_0xde5e9(0xef)]=_0x29e97f[_0xde5e9(0xef)]||{},_0x29e97f[_0xde5e9(0xef)][_0x4ceb71[_0xde5e9(0xb8)]]=_0x3796f9[_0xde5e9(0xba)],_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0x9a)]=_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0x9a)]||[],_0x4aed77[_0xde5e9(0x7c)+_0xde5e9(0x9f)](_0x4e1502[_0xde5e9(0x10f)](u,_0x152397+_0xde5e9(0xcf)),JSON[_0xde5e9(0x6d)](_0x29e97f[_0xde5e9(0xef)],null,-0x2052+0x5d*0x59+-0x1)),_0x2bb3eb[_0xde5e9(0xfc)](a,_0xde5e9(0xaa)+_0xde5e9(0xf1)+_0x4ceb71[_0xde5e9(0xb8)]+_0xde5e9(0x11a),_0x2bb3eb[_0xde5e9(0xf0)]),_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0x85)]&&_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0xc2)]&&(_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0xd0)]=_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0xd0)]||_0x2bb3eb[_0xde5e9(0xa9)],_0x29e97f[_0xde5e9(0xe2)+_0xde5e9(0x70)]={'player1':JSON[_0xde5e9(0xa7)](JSON[_0xde5e9(0x6d)](_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0x85)])),'player2':JSON[_0xde5e9(0xa7)](JSON[_0xde5e9(0x6d)](_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0xc2)]))},_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0xe2)+_0xde5e9(0x70)]=_0x29e97f[_0xde5e9(0xe2)+_0xde5e9(0x70)],_0x4aed77[_0xde5e9(0x7c)+_0xde5e9(0x9f)](_0x4e1502[_0xde5e9(0x10f)](u,_0x152397+_0xde5e9(0xcf)),JSON[_0xde5e9(0x6d)](_0x29e97f[_0xde5e9(0xef)],null,-0xbe*-0x13+0x20f5+-0xdb*0x37)),_0x2bb3eb[_0xde5e9(0x101)](a,_0xde5e9(0xe0)+_0xde5e9(0xc9)+_0xde5e9(0xa8)+_0xde5e9(0xee)+_0x152397+_0xde5e9(0x9d)+_0x29e97f[_0xde5e9(0xef)][_0xde5e9(0xd0)],_0x2bb3eb[_0xde5e9(0x115)]),[_0x2bb3eb[_0xde5e9(0xa9)],_0x2bb3eb[_0xde5e9(0x122)]][_0xde5e9(0x98)](_0x34df31=>{const _0x1b6c2f=_0xde5e9;_0x2bb3eb[_0x1b6c2f(0x97)](_0x141faf,_0x29e97f[_0x1b6c2f(0x6e)][_0x34df31],{'type':_0x2bb3eb[_0x1b6c2f(0x7e)],'fleet':_0x29e97f[_0x1b6c2f(0xef)][_0x34df31],'battle_ready':!(0x1fc7*0x1+-0x7c5*0x2+0x1*-0x103d),'turn':_0x29e97f[_0x1b6c2f(0xef)][_0x1b6c2f(0xd0)],'shots':_0x29e97f[_0x1b6c2f(0xef)][_0x1b6c2f(0x9a)]});}));return;case _0x2bb3eb[_0xde5e9(0x76)]:{const {x:_0x20908d,y:_0x4341fc}=_0x3796f9,_0x3b630d=b[_0x152397],_0x2ad5cc=_0x3b630d[_0xde5e9(0xef)];if(_0x2bb3eb[_0xde5e9(0xca)](_0x2ad5cc[_0xde5e9(0xd0)],_0x4ceb71[_0xde5e9(0xb8)]))return _0x2bb3eb[_0xde5e9(0x95)](_0x141faf,_0x4ceb71,{'type':_0x2bb3eb[_0xde5e9(0x119)],'message':_0x2bb3eb[_0xde5e9(0x81)]});const _0x1ab2c8=_0x2bb3eb[_0xde5e9(0x9c)](_0x4ceb71[_0xde5e9(0xb8)],_0x2bb3eb[_0xde5e9(0xa9)])?_0x2bb3eb[_0xde5e9(0x122)]:_0x2bb3eb[_0xde5e9(0xa9)],_0x378b47=_0x2ad5cc[_0x1ab2c8];let _0x28e702=!(0x263e+-0x14f7+-0x1146),_0x2704cb=null;for(const [_0x225f16,_0x27d6a9]of Object[_0xde5e9(0x111)](_0x378b47)){const _0x5e7a72=_0x27d6a9[_0xde5e9(0x88)](_0x350394=>_0x350394['x']===_0x20908d&&_0x350394['y']===_0x4341fc);if(_0x2bb3eb[_0xde5e9(0x102)](_0x5e7a72,-(0x1*0xa5b+0x6b*0x3b+-0x2303))){_0x28e702=!(0x102*0x20+0xcf4*0x1+-0x2d34);const _0x58c0e7=_0x27d6a9[_0xde5e9(0xa0)];_0x27d6a9[_0xde5e9(0x10e)](_0x5e7a72,-0xd*0x1fb+0x1*0x921+0x109f);const _0x190551=_0x27d6a9[_0xde5e9(0xa0)];_0x2bb3eb[_0xde5e9(0xad)](a,_0xde5e9(0xfd)+'в\x20'+_0x225f16+_0xde5e9(0xcd)+_0x1ab2c8+_0xde5e9(0xcc)+_0x58c0e7+_0xde5e9(0xb4)+_0x190551,_0x2bb3eb[_0xde5e9(0xf0)]),_0x2bb3eb[_0xde5e9(0x9c)](_0x190551,-0xb4b+-0x4*0x8f5+0x2f1f)&&(_0x2bb3eb[_0xde5e9(0xe7)](a,_0xde5e9(0xc8)+_0x225f16+_0xde5e9(0xcb),_0x2bb3eb[_0xde5e9(0x115)]),_0x2704cb={'ship':_0x225f16,'coords':_0x3b630d[_0xde5e9(0xe2)+_0xde5e9(0x70)][_0x1ab2c8][_0x225f16]});break;}}const _0x218e62=Object[_0xde5e9(0xa1)](_0x378b47)[_0xde5e9(0xc7)](_0x53fdd8=>_0x53fdd8[_0xde5e9(0xa0)]===0x32e+-0x1f*-0x7a+-0x11f4*0x1);_0x2bb3eb[_0xde5e9(0x116)](!_0x28e702,!_0x218e62)&&(_0x2ad5cc[_0xde5e9(0xd0)]=_0x1ab2c8);const _0x5dfe03={'type':_0x2bb3eb[_0xde5e9(0x113)],'x':_0x20908d,'y':_0x4341fc,'isHit':_0x28e702,'by':_0x4ceb71[_0xde5e9(0xb8)],'turn':_0x2ad5cc[_0xde5e9(0xd0)]};_0x218e62&&(_0x5dfe03[_0xde5e9(0x100)]=!(0x7f*-0x4d+0x12c5+0x136e),_0x5dfe03[_0xde5e9(0x11f)]=_0x4ceb71[_0xde5e9(0xb8)]),_0x2704cb&&(_0x5dfe03[_0xde5e9(0xd3)]=_0x2704cb),_0x2ad5cc[_0xde5e9(0x9a)]=_0x2ad5cc[_0xde5e9(0x9a)]||[],_0x2ad5cc[_0xde5e9(0x9a)][_0xde5e9(0x99)]({'x':_0x20908d,'y':_0x4341fc,'isHit':_0x28e702,'by':_0x4ceb71[_0xde5e9(0xb8)],'sunk':_0x2bb3eb[_0xde5e9(0xde)](_0x2704cb,null),'gameOver':_0x218e62,'winner':_0x218e62?_0x4ceb71[_0xde5e9(0xb8)]:null});const _0x492c3f=_0x4e1502[_0xde5e9(0x10f)](u,_0x152397+_0xde5e9(0xcf));if(_0x218e62){try{_0x4aed77[_0xde5e9(0x87)](_0x492c3f),_0x2bb3eb[_0xde5e9(0x97)](a,_0xde5e9(0x78)+_0x152397+(_0xde5e9(0xab)+_0xde5e9(0xd7)+'ён'),_0x2bb3eb[_0xde5e9(0x115)]);}catch(_0xc0238d){_0x2bb3eb[_0xde5e9(0x97)](a,_0xde5e9(0x10c)+_0xde5e9(0xdc)+_0xde5e9(0xd4)+_0x492c3f+':\x20'+_0xc0238d[_0xde5e9(0x92)],_0x2bb3eb[_0xde5e9(0x119)]);}delete b[_0x152397];}else _0x4aed77[_0xde5e9(0x7c)+_0xde5e9(0x9f)](_0x492c3f,JSON[_0xde5e9(0x6d)](_0x2ad5cc,null,-0x3*-0x46+-0xec5*0x1+0xdf5)),_0x2bb3eb[_0xde5e9(0x101)](a,_0xde5e9(0x78)+_0x152397+(_0xde5e9(0xa4)+_0xde5e9(0xaf)+_0xde5e9(0xc4)),_0x2bb3eb[_0xde5e9(0xf0)]);_0x2bb3eb[_0xde5e9(0xad)](_0x141faf,_0x3b630d[_0xde5e9(0x6e)][_0xde5e9(0x85)],_0x5dfe03),_0x2bb3eb[_0xde5e9(0x112)](_0x141faf,_0x3b630d[_0xde5e9(0x6e)][_0xde5e9(0xc2)],_0x5dfe03);return;}default:_0x4ceb71[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x119)],'message':_0x2bb3eb[_0xde5e9(0x121)]}));return;}_0x4ceb71[_0xde5e9(0xed)]=_0x152397,_0x29e97f[_0xde5e9(0x6e)][_0x4ceb71[_0xde5e9(0xb8)]]=_0x4ceb71,_0x2bb3eb[_0xde5e9(0xec)](a,_0xde5e9(0xa3)+_0xde5e9(0xe5)+_0x4ceb71[_0xde5e9(0xb8)]+_0xde5e9(0xe6)+_0x152397,_0x2bb3eb[_0xde5e9(0x115)]),_0x4ceb71[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x71)],'role':_0x4ceb71[_0xde5e9(0xb8)]}));const _0x28fbe3=_0x29e97f[_0xde5e9(0x6e)][_0xde5e9(0x85)],_0xc5c53e=_0x29e97f[_0xde5e9(0x6e)][_0xde5e9(0xc2)],_0x440b92=!!_0x2bb3eb[_0xde5e9(0x116)](_0x28fbe3,_0xc5c53e);_0x2bb3eb[_0xde5e9(0x8a)](_0x4a7e15,_0x2bb3eb[_0xde5e9(0xb1)])?_0x440b92?(_0x2bb3eb[_0xde5e9(0x112)](a,_0xde5e9(0xe0)+_0xde5e9(0xdd)+_0xde5e9(0x104)+_0x152397,_0x2bb3eb[_0xde5e9(0x115)]),_0x28fbe3[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x8d)]})),_0xc5c53e[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x8d)]}))):_0x4ceb71[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x123)]})):_0x440b92?(_0x2bb3eb[_0xde5e9(0x95)](a,_0xde5e9(0xc6)+_0xde5e9(0x79)+':\x20'+_0x152397,_0x2bb3eb[_0xde5e9(0x115)]),_0x28fbe3[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x125)]})),_0xc5c53e[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x125)]}))):_0x4ceb71[_0xde5e9(0x108)](JSON[_0xde5e9(0x6d)]({'type':_0x2bb3eb[_0xde5e9(0x123)]})),_0x29e97f[_0xde5e9(0xef)]?.[_0xde5e9(0x85)]&&_0x29e97f[_0xde5e9(0xef)]?.[_0xde5e9(0xc2)]&&_0x440b92&&(_0x2bb3eb[_0xde5e9(0xad)](a,_0xde5e9(0x105)+_0xde5e9(0xb5)+_0xde5e9(0x106)+_0x152397,_0x2bb3eb[_0xde5e9(0x115)]),[_0x2bb3eb[_0xde5e9(0xa9)],_0x2bb3eb[_0xde5e9(0x122)]][_0xde5e9(0x98)](_0x4f2f1d=>{const _0x59b7d9=_0xde5e9;_0x29e97f[_0x59b7d9(0x6e)][_0x4f2f1d][_0x59b7d9(0x108)](JSON[_0x59b7d9(0x6d)]({'type':_0x3a6f0b[_0x59b7d9(0x72)],'fleet':_0x29e97f[_0x59b7d9(0xef)][_0x4f2f1d],'battle_ready':!(0x4*-0x7df+0x1b53+0x5*0xd5),'turn':_0x29e97f[_0x59b7d9(0xef)][_0x59b7d9(0xd0)],'shots':_0x29e97f[_0x59b7d9(0xef)][_0x59b7d9(0x9a)]}));}));}),_0x4ceb71['on'](_0x2bb3eb[_0x5c26f8(0xb2)],()=>{const _0x4023a1=_0x5c26f8,{secret_id:_0x4fcf00,role:_0x3db07b}=_0x4ceb71;if(_0x2bb3eb[_0x4023a1(0xde)](!_0x4fcf00,!_0x3db07b))return;const _0x1ad3b4=b[_0x4fcf00];if(!_0x1ad3b4)return;_0x2bb3eb[_0x4023a1(0xd6)](a,_0x4023a1(0xf8)+_0x4023a1(0x6f)+_0x3db07b+_0x4023a1(0xf5)+_0x4fcf00,_0x2bb3eb[_0x4023a1(0x115)]),_0x1ad3b4[_0x4023a1(0x6e)][_0x3db07b]=null;const _0x1ef5cb=_0x2bb3eb[_0x4023a1(0x126)](_0x3db07b,_0x2bb3eb[_0x4023a1(0xa9)])?_0x2bb3eb[_0x4023a1(0x122)]:_0x2bb3eb[_0x4023a1(0xa9)],_0x36e97d=_0x1ad3b4[_0x4023a1(0x6e)][_0x1ef5cb];_0x2bb3eb[_0x4023a1(0x10a)](_0x141faf,_0x36e97d,{'type':_0x2bb3eb[_0x4023a1(0x9b)]});});});