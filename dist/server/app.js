const _0x114e64=_0xacb0;(function(_0x4888cc,_0x36d111){const _0x4d8689=_0xacb0,_0x8ed69=_0x4888cc();while(!![]){try{const _0x243f40=-parseInt(_0x4d8689(0xea))/(-0x5*0x351+0x3*-0xb36+0x3238)*(-parseInt(_0x4d8689(0x132))/(0x1f11+-0x1*0x1967+-0x2d4*0x2))+parseInt(_0x4d8689(0x100))/(0x132b*-0x2+-0xa1*-0x17+-0x7f6*-0x3)*(parseInt(_0x4d8689(0xef))/(-0x1475+-0x1*-0x26f6+0x1*-0x127d))+-parseInt(_0x4d8689(0x102))/(0xb79+0x1*-0x132a+0x7b6)*(-parseInt(_0x4d8689(0x99))/(-0x16ac+0x120+0x1592))+-parseInt(_0x4d8689(0xf7))/(0x45+-0x1add+-0x553*-0x5)+parseInt(_0x4d8689(0x14f))/(0x1b54+-0x6bc+0x1c*-0xbc)*(parseInt(_0x4d8689(0x11c))/(0x1a3d+-0xa0a+-0x102a))+parseInt(_0x4d8689(0x13f))/(0x1eb2+-0x1*-0x3+0x1eab*-0x1)*(-parseInt(_0x4d8689(0x105))/(-0x1*-0x18fd+-0x1c1b+0x329))+parseInt(_0x4d8689(0x151))/(0x183c+-0xca+-0x4ae*0x5)*(-parseInt(_0x4d8689(0xb9))/(-0x41*0x11+-0x219*-0xb+-0x12b5));if(_0x243f40===_0x36d111)break;else _0x8ed69['push'](_0x8ed69['shift']());}catch(_0x2330c3){_0x8ed69['push'](_0x8ed69['shift']());}}}(_0x3878,-0x13abdb*0x1+-0x3*0x38e7b+0xbb*0x38c7));import _0x7eaef2 from'express';function _0xacb0(_0x677c18,_0x2d958c){const _0x44f766=_0x3878();return _0xacb0=function(_0xcaa51f,_0x27592b){_0xcaa51f=_0xcaa51f-(-0xc*-0x2+-0x1*-0x8cb+0x5*-0x1ab);let _0x3f3b33=_0x44f766[_0xcaa51f];return _0x3f3b33;},_0xacb0(_0x677c18,_0x2d958c);}import{WebSocketServer as _0x45ee5a}from'ws';import _0x14631e from'fs';import _0x23453d from'path';import{send as _0x21f1a9}from'./utils.js';const P=process[_0x114e64(0x12a)][_0x114e64(0x101)]||0x4e6+0x1*0xc20+-0x54e,d=_0x23453d[_0x114e64(0xa9)](_0x114e64(0x10c)+_0x114e64(0x122)),b={};function a(_0x306677,_0x713671=_0x114e64(0xeb)){const _0x412b9b=_0x114e64,_0x5422d2=new Date()[_0x412b9b(0xca)+'g']()[_0x412b9b(0x90)]('T','\x20')[_0x412b9b(0x10b)]('.')[-0x2659+0x7e5*-0x1+-0x1*-0x2e3e];console[_0x412b9b(0x9e)]('['+_0x5422d2+_0x412b9b(0x153)+_0x713671+']\x20'+_0x306677);}_0x14631e[_0x114e64(0xaa)](d)||(_0x14631e[_0x114e64(0xd5)](d,{'recursive':!(-0x143b+-0x25e7+0x3a22)}),a(_0x114e64(0xc2)+_0x114e64(0x93),_0x114e64(0x97)));function _0x3878(){const _0x32d705=['static','AUWaZ','тся:\x20','айл\x20','qPCka','nxLoP','ned','juYWP','readFileSy','DTIYp','45lXweFp','waiting','//localhos','debug','файла\x20для\x20',',\x20ходит\x20','ames','player2','public','jIgAd','gGnfK','Создана\x20но','\x20обновлена','Подгружены','env','Zmvvt','→\x20Корабль\x20','playerIds','CEygj','\x20удалить\x20ф','Сессия\x20вос','Отключён\x20с','10ExGgGh','listen','\x20сообщение','yZmHs','←\x20Получено','DDIWZ','battle_sta','bYMDP','secret_id','RryjK','resume','winner','Рестарт\x20бо','10ylbleb','\x20у\x20','bECwb','battleData','KKGVI','typke','shKYF','zShMn','.json','readyState','\x20подключен','Некорректн','connected','Eyptn',':\x20до=','shots','1299328WgBRSj','KLxRt','7668IAZhyW','PEump',']\x20[','quQBj','WAanE','\x20в\x20сессии\x20','\x20готовы.\x20Б','connection','TRysz','replace','close','reconnect','пка\x20games','Назначена\x20','Данные\x20игр','ync','init','use','4670418ubrDya','дключение','gameOver','findIndex','окет:\x20','log','ваш\x20ход','unlinkSync','dADqP','isAlive','rjgMJ','ока\x20','slice','abmlD','роль\x20','становлена','join','existsSync','writeFileS','sockets','PiewW','вая\x20сессия','parse','Попадание\x20','chat','initialFle','\x20окончена,','Оба\x20игрока','\x20в\x20','й\x20тип','teFcK','rt\x20от\x20','30680wkrcFi','\x20сохранены','ljUGd','includes','Не\x20удалось','\x20файл\x20удал','secret_id\x20',',\x20после=','ы:\x20','Создана\x20па','battle','length','pause','Zhifz','ztIJo','ии\x20','player1','toISOStrin','saHEJ','PptdK','Сервер\x20слу','message','role_assig','обязателен','\x20флоты\x20из\x20','OPEN','ets','sunk','mkdirSync','nIOvQ','send','qBlHk','BxSBu','Сейчас\x20не\x20','splice','role','shoot','BeYWV','turn','ZHbmc','bSHcN','XDJQA','\x20после\x20выс','трела','XuffA','DQQKH','\x20потоплен!','gOhVp','every','143553iqFIFA','info','Bjzoa','kNeKS','Неизвестны','460fXmrdT','BxxAm','mZgeE','entries','Blvvf','connect','stringify','Rphkn','3817030lyMjFY','forEach','шает\x20http:','values','warn','push','playerId','Игра\x20','bSocket-по','38049axXpuN','PORT','5omfgMH','я\x20для\x20сесс','fleet','10822306nCnXzv','ый\x20JSON','utf-8','lnJJp','shot_resul','Jkjgn','split','./server/g','→\x20Новое\x20We','nblFL','string','error','ой\x20начинае'];_0x3878=function(){return _0x32d705;};return _0x3878();}const T=_0x7eaef2();T[_0x114e64(0x98)](_0x7eaef2[_0x114e64(0x112)](_0x114e64(0x124)));const W=T[_0x114e64(0x133)](P,()=>a(_0x114e64(0xcd)+_0x114e64(0xf9)+_0x114e64(0x11e)+'t:'+P,_0x114e64(0x97))),B=new _0x45ee5a({'server':W});B['on'](_0x114e64(0x8e),_0x1ad742=>{const _0x523e63=_0x114e64,_0x58a898={'abmlD':function(_0x3d06b3,_0x30c13d,_0x32324c){return _0x3d06b3(_0x30c13d,_0x32324c);},'lnJJp':_0x523e63(0xc3),'teFcK':function(_0x46dba4,_0x33d739){return _0x46dba4===_0x33d739;},'bSHcN':_0x523e63(0x14a)+_0x523e63(0x106),'ljUGd':_0x523e63(0xfb),'saHEJ':function(_0x433a65,_0x2b3d95,_0xd5896a){return _0x433a65(_0x2b3d95,_0xd5896a);},'gGnfK':_0x523e63(0x11f),'DTIYp':_0x523e63(0x110),'rjgMJ':_0x523e63(0xbf)+_0x523e63(0xd0),'bYMDP':function(_0x406f61,_0x523fd0,_0x2c668e){return _0x406f61(_0x523fd0,_0x2c668e);},'quQBj':_0x523e63(0xf4),'Zmvvt':_0x523e63(0xc9),'mZgeE':_0x523e63(0x123),'bECwb':_0x523e63(0x107),'DDIWZ':_0x523e63(0xeb),'yZmHs':_0x523e63(0x92),'TRysz':function(_0x13895a,_0x31cb3b){return _0x13895a!==_0x31cb3b;},'KKGVI':_0x523e63(0x138)+'rt','XDJQA':function(_0x143615,_0x1c72e9,_0x175eba){return _0x143615(_0x1c72e9,_0x175eba);},'qPCka':function(_0x2de979,_0x1b634a,_0x1e4499){return _0x2de979(_0x1b634a,_0x1e4499);},'Blvvf':_0x523e63(0xdd),'Eyptn':function(_0x1886ab,_0x16af36){return _0x1886ab!==_0x16af36;},'BxSBu':_0x523e63(0xda)+_0x523e63(0x9f),'Zhifz':function(_0xbfa082,_0x487cfd){return _0xbfa082===_0x487cfd;},'nxLoP':function(_0x58b918,_0x227bf2){return _0x58b918!==_0x227bf2;},'ztIJo':function(_0xdb2a5b,_0x180fb5){return _0xdb2a5b===_0x180fb5;},'zShMn':function(_0x5a150e,_0xe6b1f7,_0x1167aa){return _0x5a150e(_0xe6b1f7,_0x1167aa);},'DQQKH':function(_0x485b9e,_0x83bd5d){return _0x485b9e&&_0x83bd5d;},'PiewW':_0x523e63(0x109)+'t','ZHbmc':function(_0x2cff84,_0x2a1126){return _0x2cff84||_0x2a1126;},'KLxRt':function(_0x44d9c2,_0x525f65,_0x3153e2){return _0x44d9c2(_0x525f65,_0x3153e2);},'PEump':function(_0x17b3d1,_0x2b3cbc,_0xe83588){return _0x17b3d1(_0x2b3cbc,_0xe83588);},'qBlHk':function(_0xa13692,_0x48fe75,_0x369daf){return _0xa13692(_0x48fe75,_0x369daf);},'kNeKS':_0x523e63(0xb1),'BeYWV':function(_0x4decd5,_0x1365bc){return _0x4decd5!=_0x1365bc;},'Jkjgn':_0x523e63(0x10f),'typke':_0x523e63(0xee)+_0x523e63(0xb6),'nIOvQ':_0x523e63(0xcf)+_0x523e63(0x118),'gOhVp':function(_0x58d584,_0x4f975d){return _0x58d584&&_0x4f975d;},'nblFL':function(_0x2bdb21,_0x3385ed,_0x21684e){return _0x2bdb21(_0x3385ed,_0x21684e);},'shKYF':_0x523e63(0x14b),'AUWaZ':_0x523e63(0x11d),'WAanE':function(_0x12f012,_0x46bb0e,_0x29432a){return _0x12f012(_0x46bb0e,_0x29432a);},'PptdK':_0x523e63(0x13c),'XuffA':function(_0x22824a,_0x50759d,_0x15160b){return _0x22824a(_0x50759d,_0x15160b);},'juYWP':function(_0x25c1ed,_0x1bcaf1){return _0x25c1ed||_0x1bcaf1;},'RryjK':function(_0x4679c7,_0x5ef8e6,_0xaba7d0){return _0x4679c7(_0x5ef8e6,_0xaba7d0);},'jIgAd':_0x523e63(0xc5),'Rphkn':function(_0x16e441,_0x374b51){return _0x16e441(_0x374b51);},'dADqP':_0x523e63(0x10d)+_0x523e63(0xff)+_0x523e63(0x9a),'BxxAm':_0x523e63(0xce),'Bjzoa':_0x523e63(0x91)};_0x58a898[_0x523e63(0xf6)](a,_0x58a898[_0x523e63(0xa1)]),_0x1ad742[_0x523e63(0xa2)]=!(-0xb*-0x2b0+-0x2bf*0x4+-0x1294),_0x1ad742[_0x523e63(0xdc)]=null,_0x1ad742[_0x523e63(0x13a)]=null,_0x1ad742['on'](_0x58a898[_0x523e63(0xf0)],_0x26a6a2=>{const _0x88d653=_0x523e63,_0x2706b9={'CEygj':_0x58a898[_0x88d653(0x108)]};let _0x583bc8;try{_0x583bc8=JSON[_0x88d653(0xaf)](_0x26a6a2);}catch{_0x58a898[_0x88d653(0xa6)](a,_0x58a898[_0x88d653(0xe1)],_0x58a898[_0x88d653(0xbb)]);return;}const {type:_0x3c1349,secret_id:_0xc9905f,role:_0x1af11d,playerId:_0x30c4a7}=_0x583bc8;if(_0x58a898[_0x88d653(0xcb)](a,_0x88d653(0x136)+_0x88d653(0x134)+'\x20'+_0x3c1349,_0x58a898[_0x88d653(0x126)]),!_0xc9905f){_0x1ad742[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0x11b)],'message':_0x58a898[_0x88d653(0xa3)]}));return;}b[_0xc9905f]||(b[_0xc9905f]={'sockets':{'player1':null,'player2':null}},_0x58a898[_0x88d653(0x139)](a,_0x88d653(0x127)+_0x88d653(0xae)+'\x20'+_0xc9905f,_0x58a898[_0x88d653(0x126)]));const _0x456deb=b[_0xc9905f];switch(_0x456deb[_0x88d653(0x12d)]=_0x456deb[_0x88d653(0x12d)]||{'player1':null,'player2':null},_0x3c1349){case _0x58a898[_0x88d653(0x154)]:_0x58a898[_0x88d653(0xb7)](_0x456deb[_0x88d653(0x12d)][_0x88d653(0xc9)],_0x30c4a7)?_0x1ad742[_0x88d653(0xdc)]=_0x58a898[_0x88d653(0x12b)]:_0x58a898[_0x88d653(0xb7)](_0x456deb[_0x88d653(0x12d)][_0x88d653(0x123)],_0x30c4a7)?_0x1ad742[_0x88d653(0xdc)]=_0x58a898[_0x88d653(0xf1)]:(_0x1ad742[_0x88d653(0xdc)]=_0x456deb[_0x88d653(0xac)][_0x88d653(0xc9)]?_0x58a898[_0x88d653(0xf1)]:_0x58a898[_0x88d653(0x12b)],_0x456deb[_0x88d653(0x12d)][_0x1ad742[_0x88d653(0xdc)]]=_0x30c4a7),_0x1ad742[_0x88d653(0xfd)]=_0x30c4a7;{const _0x29fc14=_0x23453d[_0x88d653(0xa9)](d,_0xc9905f+_0x88d653(0x147));if(_0x14631e[_0x88d653(0xaa)](_0x29fc14)){const _0x17340e=JSON[_0x88d653(0xaf)](_0x14631e[_0x88d653(0x11a)+'nc'](_0x29fc14,_0x58a898[_0x88d653(0x141)]));_0x17340e[_0x88d653(0xc9)]&&_0x17340e[_0x88d653(0x123)]&&(_0x456deb[_0x88d653(0x142)]=_0x17340e,_0x456deb[_0x88d653(0xb2)+_0x88d653(0xd3)]={'player1':JSON[_0x88d653(0xaf)](JSON[_0x88d653(0xf5)](_0x17340e[_0x88d653(0xc9)])),'player2':JSON[_0x88d653(0xaf)](JSON[_0x88d653(0xf5)](_0x17340e[_0x88d653(0x123)]))},_0x58a898[_0x88d653(0x139)](a,_0x88d653(0x129)+_0x88d653(0xd1)+_0x88d653(0x120)+_0x1ad742[_0x88d653(0xdc)],_0x58a898[_0x88d653(0x137)]));}}break;case _0x58a898[_0x88d653(0x135)]:if(![_0x58a898[_0x88d653(0x12b)],_0x58a898[_0x88d653(0xf1)]][_0x88d653(0xbc)](_0x1af11d)||_0x58a898[_0x88d653(0x8f)](_0x456deb[_0x88d653(0x12d)][_0x1af11d],_0x30c4a7))return;_0x1ad742[_0x88d653(0xdc)]=_0x1af11d,_0x1ad742[_0x88d653(0xfd)]=_0x30c4a7,_0x456deb[_0x88d653(0x12d)][_0x1ad742[_0x88d653(0xdc)]]=_0x30c4a7;{const _0xe886f2=_0x23453d[_0x88d653(0xa9)](d,_0xc9905f+_0x88d653(0x147));if(_0x14631e[_0x88d653(0xaa)](_0xe886f2)){const _0x3a6229=JSON[_0x88d653(0xaf)](_0x14631e[_0x88d653(0x11a)+'nc'](_0xe886f2,_0x58a898[_0x88d653(0x141)]));_0x3a6229[_0x88d653(0xc9)]&&_0x3a6229[_0x88d653(0x123)]&&(_0x456deb[_0x88d653(0x142)]=_0x3a6229,_0x456deb[_0x88d653(0xb2)+_0x88d653(0xd3)]={'player1':JSON[_0x88d653(0xaf)](JSON[_0x88d653(0xf5)](_0x3a6229[_0x88d653(0xc9)])),'player2':JSON[_0x88d653(0xaf)](JSON[_0x88d653(0xf5)](_0x3a6229[_0x88d653(0x123)]))},_0x58a898[_0x88d653(0xcb)](a,_0x88d653(0x129)+_0x88d653(0xd1)+_0x88d653(0x120)+_0x1ad742[_0x88d653(0xdc)],_0x58a898[_0x88d653(0x137)]));}}break;case _0x58a898[_0x88d653(0x143)]:_0x58a898[_0x88d653(0xe2)](a,_0x88d653(0x138)+_0x88d653(0xb8)+_0x1ad742[_0x88d653(0xdc)]+_0x88d653(0x8c)+_0xc9905f,_0x58a898[_0x88d653(0x137)]),_0x456deb[_0x88d653(0x142)]=_0x456deb[_0x88d653(0x142)]||{},_0x456deb[_0x88d653(0x142)][_0x1ad742[_0x88d653(0xdc)]]=_0x583bc8[_0x88d653(0x104)],_0x456deb[_0x88d653(0x142)][_0x88d653(0x14e)]=_0x456deb[_0x88d653(0x142)][_0x88d653(0x14e)]||[],_0x14631e[_0x88d653(0xab)+_0x88d653(0x96)](_0x23453d[_0x88d653(0xa9)](d,_0xc9905f+_0x88d653(0x147)),JSON[_0x88d653(0xf5)](_0x456deb[_0x88d653(0x142)],null,-0x1d7*0xb+-0x1*-0x109d+0x3a2)),_0x58a898[_0x88d653(0x116)](a,_0x88d653(0x95)+_0x88d653(0xa4)+_0x1ad742[_0x88d653(0xdc)]+_0x88d653(0xba),_0x58a898[_0x88d653(0x126)]),_0x456deb[_0x88d653(0x142)][_0x88d653(0xc9)]&&_0x456deb[_0x88d653(0x142)][_0x88d653(0x123)]&&(_0x456deb[_0x88d653(0x142)][_0x88d653(0xdf)]=_0x456deb[_0x88d653(0x142)][_0x88d653(0xdf)]||_0x58a898[_0x88d653(0x12b)],_0x456deb[_0x88d653(0xb2)+_0x88d653(0xd3)]={'player1':JSON[_0x88d653(0xaf)](JSON[_0x88d653(0xf5)](_0x456deb[_0x88d653(0x142)][_0x88d653(0xc9)])),'player2':JSON[_0x88d653(0xaf)](JSON[_0x88d653(0xf5)](_0x456deb[_0x88d653(0x142)][_0x88d653(0x123)]))},_0x456deb[_0x88d653(0x142)][_0x88d653(0xb2)+_0x88d653(0xd3)]=_0x456deb[_0x88d653(0xb2)+_0x88d653(0xd3)],_0x14631e[_0x88d653(0xab)+_0x88d653(0x96)](_0x23453d[_0x88d653(0xa9)](d,_0xc9905f+_0x88d653(0x147)),JSON[_0x88d653(0xf5)](_0x456deb[_0x88d653(0x142)],null,0x16a4+0xb63+-0x2205)),_0x58a898[_0x88d653(0xe2)](a,_0x88d653(0xb4)+_0x88d653(0x8d)+_0x88d653(0x111)+_0x88d653(0x114)+_0xc9905f+_0x88d653(0x121)+_0x456deb[_0x88d653(0x142)][_0x88d653(0xdf)],_0x58a898[_0x88d653(0x137)]),[_0x58a898[_0x88d653(0x12b)],_0x58a898[_0x88d653(0xf1)]][_0x88d653(0xf8)](_0x1dc054=>{const _0x235bfe=_0x88d653;_0x58a898[_0x235bfe(0xa6)](_0x21f1a9,_0x456deb[_0x235bfe(0xac)][_0x1dc054],{'type':_0x58a898[_0x235bfe(0x108)],'fleet':_0x456deb[_0x235bfe(0x142)][_0x1dc054],'battle_ready':!(-0x1*-0x2072+-0x5*-0x394+-0x2f6*0x11),'turn':_0x456deb[_0x235bfe(0x142)][_0x235bfe(0xdf)],'shots':_0x456deb[_0x235bfe(0x142)][_0x235bfe(0x14e)]});}));return;case _0x58a898[_0x88d653(0xf3)]:{const {x:_0x1c1d44,y:_0xe6a396}=_0x583bc8,_0x2b1233=b[_0xc9905f],_0x23a96d=_0x2b1233[_0x88d653(0x142)];if(_0x58a898[_0x88d653(0x14c)](_0x23a96d[_0x88d653(0xdf)],_0x1ad742[_0x88d653(0xdc)]))return _0x58a898[_0x88d653(0xa6)](_0x21f1a9,_0x1ad742,{'type':_0x58a898[_0x88d653(0x11b)],'message':_0x58a898[_0x88d653(0xd9)]});const _0x372a10=_0x58a898[_0x88d653(0xc6)](_0x1ad742[_0x88d653(0xdc)],_0x58a898[_0x88d653(0x12b)])?_0x58a898[_0x88d653(0xf1)]:_0x58a898[_0x88d653(0x12b)],_0x45fe16=_0x23a96d[_0x372a10];let _0x226d5b=!(0x98*-0x4+-0x40f*-0x6+-0x15f9),_0x5b0808=null;for(const [_0x39b93c,_0x1febd0]of Object[_0x88d653(0xf2)](_0x45fe16)){const _0x4f8b98=_0x1febd0[_0x88d653(0x9c)](_0x3c8771=>_0x3c8771['x']===_0x1c1d44&&_0x3c8771['y']===_0xe6a396);if(_0x58a898[_0x88d653(0x117)](_0x4f8b98,-(0x19f1+0xaf*-0x31+-0xd7*-0x9))){_0x226d5b=!(0x2*0x6c1+0xf*-0x51+0x8c3*-0x1);const _0x122b87=_0x1febd0[_0x88d653(0xc4)];_0x1febd0[_0x88d653(0xdb)](_0x4f8b98,0x313*-0xb+-0x22ad+0xa7*0x69);const _0x3af265=_0x1febd0[_0x88d653(0xc4)];_0x58a898[_0x88d653(0x139)](a,_0x88d653(0xb0)+'в\x20'+_0x39b93c+_0x88d653(0x140)+_0x372a10+_0x88d653(0x14d)+_0x122b87+_0x88d653(0xc0)+_0x3af265,_0x58a898[_0x88d653(0x126)]),_0x58a898[_0x88d653(0xc7)](_0x3af265,-0x20b9+0x19dc+0x6dd)&&(_0x58a898[_0x88d653(0x146)](a,_0x88d653(0x12c)+_0x39b93c+_0x88d653(0xe7),_0x58a898[_0x88d653(0x137)]),_0x5b0808={'ship':_0x39b93c,'coords':_0x2b1233[_0x88d653(0xb2)+_0x88d653(0xd3)][_0x372a10][_0x39b93c]});break;}}const _0x399fa2=Object[_0x88d653(0xfa)](_0x45fe16)[_0x88d653(0xe9)](_0x3be55e=>_0x3be55e[_0x88d653(0xc4)]===-0x1*0xdb7+0x410+-0x7*-0x161);_0x58a898[_0x88d653(0xe6)](!_0x226d5b,!_0x399fa2)&&(_0x23a96d[_0x88d653(0xdf)]=_0x372a10);const _0x1fa0ea={'type':_0x58a898[_0x88d653(0xad)],'x':_0x1c1d44,'y':_0xe6a396,'isHit':_0x226d5b,'by':_0x1ad742[_0x88d653(0xdc)],'turn':_0x23a96d[_0x88d653(0xdf)]};_0x399fa2&&(_0x1fa0ea[_0x88d653(0x9b)]=!(-0x1*-0x16b3+-0x62c*-0x2+0x230b*-0x1),_0x1fa0ea[_0x88d653(0x13d)]=_0x1ad742[_0x88d653(0xdc)]),_0x5b0808&&(_0x1fa0ea[_0x88d653(0xd4)]=_0x5b0808),_0x23a96d[_0x88d653(0x14e)]=_0x23a96d[_0x88d653(0x14e)]||[],_0x23a96d[_0x88d653(0x14e)][_0x88d653(0xfc)]({'x':_0x1c1d44,'y':_0xe6a396,'isHit':_0x226d5b,'by':_0x1ad742[_0x88d653(0xdc)],'sunk':_0x58a898[_0x88d653(0xe0)](_0x5b0808,null),'gameOver':_0x399fa2,'winner':_0x399fa2?_0x1ad742[_0x88d653(0xdc)]:null});const _0xd42b56=_0x23453d[_0x88d653(0xa9)](d,_0xc9905f+_0x88d653(0x147));if(_0x399fa2){try{_0x14631e[_0x88d653(0xa0)](_0xd42b56),_0x58a898[_0x88d653(0x139)](a,_0x88d653(0xfe)+_0xc9905f+(_0x88d653(0xb3)+_0x88d653(0xbe)+'ён'),_0x58a898[_0x88d653(0x137)]);}catch(_0x5dcd23){_0x58a898[_0x88d653(0x150)](a,_0x88d653(0xbd)+_0x88d653(0x12f)+_0x88d653(0x115)+_0xd42b56+':\x20'+_0x5dcd23[_0x88d653(0xce)],_0x58a898[_0x88d653(0x11b)]);}delete b[_0xc9905f];}else _0x14631e[_0x88d653(0xab)+_0x88d653(0x96)](_0xd42b56,JSON[_0x88d653(0xf5)](_0x23a96d,null,-0x15a*0x13+-0x6a9+0x2059)),_0x58a898[_0x88d653(0x152)](a,_0x88d653(0xfe)+_0xc9905f+(_0x88d653(0x128)+_0x88d653(0xe3)+_0x88d653(0xe4)),_0x58a898[_0x88d653(0x126)]);_0x58a898[_0x88d653(0xd8)](_0x21f1a9,_0x2b1233[_0x88d653(0xac)][_0x88d653(0xc9)],_0x1fa0ea),_0x58a898[_0x88d653(0x146)](_0x21f1a9,_0x2b1233[_0x88d653(0xac)][_0x88d653(0x123)],_0x1fa0ea);return;}case _0x58a898[_0x88d653(0xed)]:{const {text:_0x2c88b3}=_0x583bc8;if(_0x58a898[_0x88d653(0xde)](typeof _0x2c88b3,_0x58a898[_0x88d653(0x10a)])||!_0x1ad742[_0x88d653(0x13a)])return;const _0x1aefe3=b[_0x1ad742[_0x88d653(0x13a)]];if(!_0x1aefe3)return;const _0x5256bf={'type':_0x58a898[_0x88d653(0xed)],'from':_0x1ad742[_0x88d653(0xdc)],'text':_0x2c88b3[_0x88d653(0xa5)](0xbf8*0x1+0x118b+-0x1d83*0x1,-0xb0*0x16+-0xac1+0x1bd5)};[_0x58a898[_0x88d653(0x12b)],_0x58a898[_0x88d653(0xf1)]][_0x88d653(0xf8)](_0x407cef=>{const _0x2a981b=_0x88d653,_0x56b2ab=_0x1aefe3[_0x2a981b(0xac)][_0x407cef];_0x56b2ab&&_0x58a898[_0x2a981b(0xb7)](_0x56b2ab[_0x2a981b(0x148)],_0x56b2ab[_0x2a981b(0xd2)])&&_0x56b2ab[_0x2a981b(0xd7)](JSON[_0x2a981b(0xf5)](_0x5256bf));});return;}default:_0x1ad742[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0x11b)],'message':_0x58a898[_0x88d653(0x144)]}));return;}_0x1ad742[_0x88d653(0x13a)]=_0xc9905f,_0x456deb[_0x88d653(0xac)][_0x1ad742[_0x88d653(0xdc)]]=_0x1ad742,_0x58a898[_0x88d653(0x146)](a,_0x88d653(0x94)+_0x88d653(0xa7)+_0x1ad742[_0x88d653(0xdc)]+_0x88d653(0x8c)+_0xc9905f,_0x58a898[_0x88d653(0x137)]),_0x1ad742[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0xd6)],'role':_0x1ad742[_0x88d653(0xdc)]}));const _0x146cbd=_0x456deb[_0x88d653(0xac)][_0x88d653(0xc9)],_0x3127e4=_0x456deb[_0x88d653(0xac)][_0x88d653(0x123)],_0x28d7b3=!!_0x58a898[_0x88d653(0xe8)](_0x146cbd,_0x3127e4);_0x58a898[_0x88d653(0xb7)](_0x3c1349,_0x58a898[_0x88d653(0x154)])?_0x28d7b3?(_0x58a898[_0x88d653(0x10e)](a,_0x88d653(0xb4)+_0x88d653(0x149)+_0x88d653(0xc1)+_0xc9905f,_0x58a898[_0x88d653(0x137)]),_0x146cbd[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0x145)]})),_0x3127e4[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0x145)]}))):_0x1ad742[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0x113)]})):_0x28d7b3?(_0x58a898[_0x88d653(0x155)](a,_0x88d653(0x130)+_0x88d653(0xa8)+':\x20'+_0xc9905f,_0x58a898[_0x88d653(0x137)]),_0x146cbd[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0xcc)]})),_0x3127e4[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0xcc)]}))):_0x1ad742[_0x88d653(0xd7)](JSON[_0x88d653(0xf5)]({'type':_0x58a898[_0x88d653(0x113)]})),_0x456deb[_0x88d653(0x142)]?.[_0x88d653(0xc9)]&&_0x456deb[_0x88d653(0x142)]?.[_0x88d653(0x123)]&&_0x28d7b3&&(_0x58a898[_0x88d653(0xe5)](a,_0x88d653(0x13e)+_0x88d653(0x103)+_0x88d653(0xc8)+_0xc9905f,_0x58a898[_0x88d653(0x137)]),[_0x58a898[_0x88d653(0x12b)],_0x58a898[_0x88d653(0xf1)]][_0x88d653(0xf8)](_0x263359=>{const _0x2cf8ba=_0x88d653;_0x456deb[_0x2cf8ba(0xac)][_0x263359][_0x2cf8ba(0xd7)](JSON[_0x2cf8ba(0xf5)]({'type':_0x2706b9[_0x2cf8ba(0x12e)],'fleet':_0x456deb[_0x2cf8ba(0x142)][_0x263359],'battle_ready':!(0xfe4+-0x933*0x1+-0x1*0x6b1),'turn':_0x456deb[_0x2cf8ba(0x142)][_0x2cf8ba(0xdf)],'shots':_0x456deb[_0x2cf8ba(0x142)][_0x2cf8ba(0x14e)]}));}));}),_0x1ad742['on'](_0x58a898[_0x523e63(0xec)],()=>{const _0x453321=_0x523e63,{secret_id:_0x1ff6c8,role:_0x1dacce}=_0x1ad742;if(_0x58a898[_0x453321(0x119)](!_0x1ff6c8,!_0x1dacce))return;const _0x53f6a0=b[_0x1ff6c8];if(!_0x53f6a0)return;_0x58a898[_0x453321(0xcb)](a,_0x453321(0x131)+_0x453321(0x9d)+_0x1dacce+_0x453321(0xb5)+_0x1ff6c8,_0x58a898[_0x453321(0x137)]),_0x53f6a0[_0x453321(0xac)][_0x1dacce]=null;const _0x5cd804=_0x58a898[_0x453321(0xb7)](_0x1dacce,_0x58a898[_0x453321(0x12b)])?_0x58a898[_0x453321(0xf1)]:_0x58a898[_0x453321(0x12b)],_0x35617d=_0x53f6a0[_0x453321(0xac)][_0x5cd804];_0x58a898[_0x453321(0x13b)](_0x21f1a9,_0x35617d,{'type':_0x58a898[_0x453321(0x125)]});});});