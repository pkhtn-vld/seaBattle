const _0x3fbd0e=_0x5f17;(function(_0x499f2f,_0x2e498e){const _0x4bbef0=_0x5f17,_0x32c9fa=_0x499f2f();while(!![]){try{const _0x48db5d=parseInt(_0x4bbef0(0x11a))/(-0xe*0x232+-0x25*-0xf3+0x2*-0x231)+parseInt(_0x4bbef0(0x11d))/(0x2019+0x1709+0x8*-0x6e4)*(-parseInt(_0x4bbef0(0x9c))/(-0x47a*-0x1+0x5*-0x189+0x6*0x89))+parseInt(_0x4bbef0(0xbe))/(-0x1e65*0x1+0x1*-0xac1+-0x2*-0x1495)*(-parseInt(_0x4bbef0(0x123))/(-0x1*0x1775+-0x1*-0x18a5+-0x12b))+-parseInt(_0x4bbef0(0x102))/(0x997+-0x26fb+-0x5*-0x5e2)+parseInt(_0x4bbef0(0xe9))/(-0x1a02+-0xa7f*0x3+0x3986)+parseInt(_0x4bbef0(0x14a))/(0x7*0x97+-0xda2+-0x989*-0x1)*(parseInt(_0x4bbef0(0x140))/(0x207e+-0x3*-0x695+-0x3434))+parseInt(_0x4bbef0(0xd0))/(0xf*0x1d2+0x751*0x2+-0x29e6)*(parseInt(_0x4bbef0(0xb7))/(-0x237f+-0x1f27+-0x1*-0x42b1));if(_0x48db5d===_0x2e498e)break;else _0x32c9fa['push'](_0x32c9fa['shift']());}catch(_0x309bc5){_0x32c9fa['push'](_0x32c9fa['shift']());}}}(_0x50a9,0x64e94*0x1+-0xd69*-0x5b+0x21c7*-0x21));import _0x2b0070 from'express';import{WebSocketServer as _0x489bbf}from'ws';import _0x3abdaf from'fs';function _0x5f17(_0x35032c,_0x5554ff){const _0x298bd0=_0x50a9();return _0x5f17=function(_0x2e514b,_0x1945c7){_0x2e514b=_0x2e514b-(-0xa4d+0x4c*-0x11+-0xfe0*-0x1);let _0x29b09f=_0x298bd0[_0x2e514b];return _0x29b09f;},_0x5f17(_0x35032c,_0x5554ff);}import _0x5ae75a from'path';import{send as _0x40644c}from'./utils.js';const P=process[_0x3fbd0e(0xdb)][_0x3fbd0e(0x10e)]||-0x731+0x1fb6*0x1+-0x1*0xccd,d=_0x5ae75a[_0x3fbd0e(0xaf)](_0x3fbd0e(0x110)+_0x3fbd0e(0x132)),b={};function a(_0x2b79f0,_0xebce25=_0x3fbd0e(0x103)){const _0x471949=_0x3fbd0e,_0x2c57ad=new Date()[_0x471949(0xc6)+'g']()[_0x471949(0xc4)]('T','\x20')[_0x471949(0xbd)]('.')[0x15a*0x1+0x43+-0x19d];console[_0x471949(0xf7)]('['+_0x2c57ad+_0x471949(0xbb)+_0xebce25+']\x20'+_0x2b79f0);}_0x3abdaf[_0x3fbd0e(0xf4)](d)||(_0x3abdaf[_0x3fbd0e(0xdd)](d,{'recursive':!(0x13bf+0xdfa+0x59*-0x61)}),a(_0x3fbd0e(0xf5)+_0x3fbd0e(0x12d),_0x3fbd0e(0x10f)));const T=_0x2b0070();T[_0x3fbd0e(0x112)](_0x2b0070[_0x3fbd0e(0xfd)](_0x3fbd0e(0xa9)));function _0x50a9(){const _0x38f4d8=['replace','sunk','toISOStrin','ZuaYl','ned','splice','vZqIZ','send','\x20удалить\x20ф','Сервер\x20слу',',\x20ходит\x20','Lbjbi','100rAtKGs','шает\x20http:','тся:\x20','файла\x20для\x20','qttcH','→\x20Корабль\x20','role_assig','я\x20для\x20сесс','writeFileS','waiting','uIPKE','env','isAlive','mkdirSync','Назначена\x20','APrdD','ии\x20','Dejsx','unlinkSync','EYOjb','string','GCREF','pause','DxXxL','connect','2916697LdlisT','DAkiF','uiQJp','ORzFu','shots','HHfqf','lHAiX','ync','\x20окончена,','turn','readyState','existsSync','Создана\x20па','connection','log','utf-8','Отключён\x20с','окет:\x20','pbVmm','Неизвестны','static','DvWuA','iDrck','Создана\x20но','KOYVl','3193068guAuzy','info',':\x20до=','ы:\x20','length','//localhos','forEach','ый\x20JSON','bSocket-по','TeqTP','player2','QTyZJ','PORT','init','./server/g','mZeEZ','use','←\x20Получено','ока\x20','EVwtC','роль\x20','Сейчас\x20не\x20','error','GIhoP','75949wnvtUH','hnvRr','battle_sta','373554CXUNDz','HikAO','xaSzR','BcUvI','EVZBR','battleData','5nmcUgB','dLewG','й\x20тип','battle','shoot','zdhNo','→\x20Новое\x20We','player1','становлена','WQxuW','пка\x20games','hFQWk','resume','Не\x20удалось','Сессия\x20вос','ames','дключение','обязателен','shot_resul','\x20флоты\x20из\x20','secret_id','\x20файл\x20удал','Рестарт\x20бо','IXYuz','gunaI','\x20сообщение','\x20потоплен!','\x20сохранены','every','64035saXymh','rt\x20от\x20','winner','\x20у\x20','Данные\x20игр','трела','debug','LozHV','ILNfk','slice','552QfaAFb','message','role','EngKc','ddGga','айл\x20','gameOver','stringify','ваш\x20ход','wOkDf','OPEN','Игра\x20','Jzxyr','Попадание\x20','ой\x20начинае','JvZVA','qQWQL','secret_id\x20','findIndex','yvwRW','initialFle','skBlo','entries','12OXlgcc','tVJXl','dXHSb','playerIds','ets','Оба\x20игрока','warn','parse','вая\x20сессия','.json','Некорректн','readFileSy','\x20готовы.\x20Б','public','psVLr','Подгружены','playerId','\x20подключен','sockets','join','pjriZ','listen','\x20в\x20','\x20обновлена','EtUTq','chat','fleet','852335pqBLbm','\x20в\x20сессии\x20','connected','close',']\x20[','values','split','154940BgiHpu','includes',',\x20после=','push','\x20после\x20выс','reconnect'];_0x50a9=function(){return _0x38f4d8;};return _0x50a9();}const W=T[_0x3fbd0e(0xb1)](P,()=>a(_0x3fbd0e(0xcd)+_0x3fbd0e(0xd1)+_0x3fbd0e(0x107)+'t:'+P,_0x3fbd0e(0x10f))),B=new _0x489bbf({'server':W});B['on'](_0x3fbd0e(0xf6),_0x2de3d3=>{const _0x428dd0=_0x3fbd0e,_0x1363e6={'lHAiX':function(_0x319a42,_0x2f084b){return _0x319a42===_0x2f084b;},'DxXxL':_0x428dd0(0x126),'DvWuA':function(_0x28536c,_0x43a32e,_0x4b5d03){return _0x28536c(_0x43a32e,_0x4b5d03);},'vZqIZ':_0x428dd0(0xa6)+_0x428dd0(0x109),'EVZBR':_0x428dd0(0xa2),'ZuaYl':function(_0x417ce1,_0x4ee5d1,_0x5d16a2){return _0x417ce1(_0x4ee5d1,_0x5d16a2);},'Lbjbi':_0x428dd0(0x146),'wOkDf':_0x428dd0(0x118),'QTyZJ':_0x428dd0(0x96)+_0x428dd0(0x134),'GIhoP':function(_0x552baa,_0x4c2b7c,_0x15a612){return _0x552baa(_0x4c2b7c,_0x15a612);},'hnvRr':_0x428dd0(0xe8),'xaSzR':_0x428dd0(0x12a),'APrdD':function(_0x1cca98,_0xe4d6e6){return _0x1cca98===_0xe4d6e6;},'KOYVl':_0x428dd0(0x10c),'ORzFu':_0x428dd0(0xf8),'tVJXl':_0x428dd0(0x103),'EYOjb':_0x428dd0(0xc3),'EtUTq':function(_0x4c3345,_0x1b0af1){return _0x4c3345!==_0x1b0af1;},'EVwtC':function(_0xda6ae9,_0x52808b,_0x4c1ff9){return _0xda6ae9(_0x52808b,_0x4c1ff9);},'gunaI':_0x428dd0(0x11c)+'rt','mZeEZ':function(_0x58b175,_0x219802,_0x6bd9a5){return _0x58b175(_0x219802,_0x6bd9a5);},'GCREF':_0x428dd0(0x127),'skBlo':function(_0x572be1,_0x521776){return _0x572be1!==_0x521776;},'qttcH':_0x428dd0(0x117)+_0x428dd0(0x8d),'LozHV':function(_0x1def26,_0x5d22d3){return _0x1def26===_0x5d22d3;},'EngKc':function(_0x210f6e,_0x7b025b,_0xfe2286){return _0x210f6e(_0x7b025b,_0xfe2286);},'dXHSb':function(_0x211c4b,_0xb31125){return _0x211c4b&&_0xb31125;},'uiQJp':_0x428dd0(0x135)+'t','DAkiF':function(_0x1be257,_0x141c30){return _0x1be257||_0x141c30;},'zdhNo':function(_0x5a0c7c,_0x4c62c3,_0x46d0ba){return _0x5a0c7c(_0x4c62c3,_0x46d0ba);},'yvwRW':function(_0x5c3081,_0x2aa1fd,_0x417492){return _0x5c3081(_0x2aa1fd,_0x417492);},'Jzxyr':_0x428dd0(0xb5),'Dejsx':function(_0x2221ca,_0x4da4fa){return _0x2221ca!=_0x4da4fa;},'qQWQL':_0x428dd0(0xe4),'pjriZ':_0x428dd0(0xfc)+_0x428dd0(0x125),'HHfqf':_0x428dd0(0xd6)+_0x428dd0(0xc8),'pbVmm':function(_0x18c44,_0x38f875){return _0x18c44&&_0x38f875;},'WQxuW':function(_0x15b5b8,_0x207f51,_0x555578){return _0x15b5b8(_0x207f51,_0x555578);},'hFQWk':_0x428dd0(0xb9),'dLewG':_0x428dd0(0xd9),'TeqTP':function(_0x57575b,_0x212ea8,_0x22d0e5){return _0x57575b(_0x212ea8,_0x22d0e5);},'BcUvI':_0x428dd0(0x12f),'ddGga':function(_0x27b411,_0x2db5b4){return _0x27b411===_0x2db5b4;},'HikAO':_0x428dd0(0xe6),'IXYuz':function(_0x4bacac,_0x479769){return _0x4bacac(_0x479769);},'iDrck':_0x428dd0(0x129)+_0x428dd0(0x10a)+_0x428dd0(0x133),'uIPKE':_0x428dd0(0x14b),'ILNfk':_0x428dd0(0xba)};_0x1363e6[_0x428dd0(0x13a)](a,_0x1363e6[_0x428dd0(0xff)]),_0x2de3d3[_0x428dd0(0xdc)]=!(0x2*0x548+0x142b+0x1*-0x1ebb),_0x2de3d3[_0x428dd0(0x87)]=null,_0x2de3d3[_0x428dd0(0x137)]=null,_0x2de3d3['on'](_0x1363e6[_0x428dd0(0xda)],_0x4f08ce=>{const _0x6951d0=_0x428dd0,_0x20eed4={'psVLr':function(_0x3b6172,_0x121413,_0x1557b8){const _0x3dd67c=_0x5f17;return _0x1363e6[_0x3dd67c(0xfe)](_0x3b6172,_0x121413,_0x1557b8);},'JvZVA':_0x1363e6[_0x6951d0(0xe7)]};let _0x14d44c;try{_0x14d44c=JSON[_0x6951d0(0xa3)](_0x4f08ce);}catch{_0x1363e6[_0x6951d0(0xfe)](a,_0x1363e6[_0x6951d0(0xca)],_0x1363e6[_0x6951d0(0x121)]);return;}const {type:_0x30b1a0,secret_id:_0x14210b,role:_0x33d2c3,playerId:_0x5728c3}=_0x14d44c;if(_0x1363e6[_0x6951d0(0xc7)](a,_0x6951d0(0x113)+_0x6951d0(0x13c)+'\x20'+_0x30b1a0,_0x1363e6[_0x6951d0(0xcf)]),!_0x14210b){_0x2de3d3[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x8e)],'message':_0x1363e6[_0x6951d0(0x10d)]}));return;}b[_0x14210b]||(b[_0x14210b]={'sockets':{'player1':null,'player2':null}},_0x1363e6[_0x6951d0(0x119)](a,_0x6951d0(0x100)+_0x6951d0(0xa4)+'\x20'+_0x14210b,_0x1363e6[_0x6951d0(0xcf)]));const _0x4afae5=b[_0x14210b];switch(_0x4afae5[_0x6951d0(0x9f)]=_0x4afae5[_0x6951d0(0x9f)]||{'player1':null,'player2':null},_0x30b1a0){case _0x1363e6[_0x6951d0(0x11b)]:_0x1363e6[_0x6951d0(0xef)](_0x4afae5[_0x6951d0(0x9f)][_0x6951d0(0x12a)],_0x5728c3)?_0x2de3d3[_0x6951d0(0x87)]=_0x1363e6[_0x6951d0(0x11f)]:_0x1363e6[_0x6951d0(0xdf)](_0x4afae5[_0x6951d0(0x9f)][_0x6951d0(0x10c)],_0x5728c3)?_0x2de3d3[_0x6951d0(0x87)]=_0x1363e6[_0x6951d0(0x101)]:(_0x2de3d3[_0x6951d0(0x87)]=_0x4afae5[_0x6951d0(0xae)][_0x6951d0(0x12a)]?_0x1363e6[_0x6951d0(0x101)]:_0x1363e6[_0x6951d0(0x11f)],_0x4afae5[_0x6951d0(0x9f)][_0x2de3d3[_0x6951d0(0x87)]]=_0x5728c3),_0x2de3d3[_0x6951d0(0xac)]=_0x5728c3;{const _0x2f8bfc=_0x5ae75a[_0x6951d0(0xaf)](d,_0x14210b+_0x6951d0(0xa5));if(_0x3abdaf[_0x6951d0(0xf4)](_0x2f8bfc)){const _0x572532=JSON[_0x6951d0(0xa3)](_0x3abdaf[_0x6951d0(0xa7)+'nc'](_0x2f8bfc,_0x1363e6[_0x6951d0(0xec)]));_0x572532[_0x6951d0(0x12a)]&&_0x572532[_0x6951d0(0x10c)]&&(_0x4afae5[_0x6951d0(0x122)]=_0x572532,_0x4afae5[_0x6951d0(0x99)+_0x6951d0(0xa0)]={'player1':JSON[_0x6951d0(0xa3)](JSON[_0x6951d0(0x8c)](_0x572532[_0x6951d0(0x12a)])),'player2':JSON[_0x6951d0(0xa3)](JSON[_0x6951d0(0x8c)](_0x572532[_0x6951d0(0x10c)]))},_0x1363e6[_0x6951d0(0xc7)](a,_0x6951d0(0xab)+_0x6951d0(0x136)+_0x6951d0(0xd3)+_0x2de3d3[_0x6951d0(0x87)],_0x1363e6[_0x6951d0(0x9d)]));}}break;case _0x1363e6[_0x6951d0(0xe3)]:if(![_0x1363e6[_0x6951d0(0x11f)],_0x1363e6[_0x6951d0(0x101)]][_0x6951d0(0xbf)](_0x33d2c3)||_0x1363e6[_0x6951d0(0xb4)](_0x4afae5[_0x6951d0(0x9f)][_0x33d2c3],_0x5728c3))return;_0x2de3d3[_0x6951d0(0x87)]=_0x33d2c3,_0x2de3d3[_0x6951d0(0xac)]=_0x5728c3,_0x4afae5[_0x6951d0(0x9f)][_0x2de3d3[_0x6951d0(0x87)]]=_0x5728c3;{const _0x38193d=_0x5ae75a[_0x6951d0(0xaf)](d,_0x14210b+_0x6951d0(0xa5));if(_0x3abdaf[_0x6951d0(0xf4)](_0x38193d)){const _0x2c23ba=JSON[_0x6951d0(0xa3)](_0x3abdaf[_0x6951d0(0xa7)+'nc'](_0x38193d,_0x1363e6[_0x6951d0(0xec)]));_0x2c23ba[_0x6951d0(0x12a)]&&_0x2c23ba[_0x6951d0(0x10c)]&&(_0x4afae5[_0x6951d0(0x122)]=_0x2c23ba,_0x4afae5[_0x6951d0(0x99)+_0x6951d0(0xa0)]={'player1':JSON[_0x6951d0(0xa3)](JSON[_0x6951d0(0x8c)](_0x2c23ba[_0x6951d0(0x12a)])),'player2':JSON[_0x6951d0(0xa3)](JSON[_0x6951d0(0x8c)](_0x2c23ba[_0x6951d0(0x10c)]))},_0x1363e6[_0x6951d0(0x115)](a,_0x6951d0(0xab)+_0x6951d0(0x136)+_0x6951d0(0xd3)+_0x2de3d3[_0x6951d0(0x87)],_0x1363e6[_0x6951d0(0x9d)]));}}break;case _0x1363e6[_0x6951d0(0x13b)]:_0x1363e6[_0x6951d0(0xfe)](a,_0x6951d0(0x11c)+_0x6951d0(0x141)+_0x2de3d3[_0x6951d0(0x87)]+_0x6951d0(0xb8)+_0x14210b,_0x1363e6[_0x6951d0(0x9d)]),_0x4afae5[_0x6951d0(0x122)]=_0x4afae5[_0x6951d0(0x122)]||{},_0x4afae5[_0x6951d0(0x122)][_0x2de3d3[_0x6951d0(0x87)]]=_0x14d44c[_0x6951d0(0xb6)],_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0xed)]=_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0xed)]||[],_0x3abdaf[_0x6951d0(0xd8)+_0x6951d0(0xf0)](_0x5ae75a[_0x6951d0(0xaf)](d,_0x14210b+_0x6951d0(0xa5)),JSON[_0x6951d0(0x8c)](_0x4afae5[_0x6951d0(0x122)],null,0x7*0x271+-0x5*-0x755+-0x35be)),_0x1363e6[_0x6951d0(0x111)](a,_0x6951d0(0x144)+_0x6951d0(0x114)+_0x2de3d3[_0x6951d0(0x87)]+_0x6951d0(0x13e),_0x1363e6[_0x6951d0(0xcf)]),_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0x12a)]&&_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0x10c)]&&(_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0xf2)]=_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0xf2)]||_0x1363e6[_0x6951d0(0x11f)],_0x4afae5[_0x6951d0(0x99)+_0x6951d0(0xa0)]={'player1':JSON[_0x6951d0(0xa3)](JSON[_0x6951d0(0x8c)](_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0x12a)])),'player2':JSON[_0x6951d0(0xa3)](JSON[_0x6951d0(0x8c)](_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0x10c)]))},_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0x99)+_0x6951d0(0xa0)]=_0x4afae5[_0x6951d0(0x99)+_0x6951d0(0xa0)],_0x3abdaf[_0x6951d0(0xd8)+_0x6951d0(0xf0)](_0x5ae75a[_0x6951d0(0xaf)](d,_0x14210b+_0x6951d0(0xa5)),JSON[_0x6951d0(0x8c)](_0x4afae5[_0x6951d0(0x122)],null,-0x1929+0xc2b+0xd00)),_0x1363e6[_0x6951d0(0xfe)](a,_0x6951d0(0xa1)+_0x6951d0(0xa8)+_0x6951d0(0x93)+_0x6951d0(0xd2)+_0x14210b+_0x6951d0(0xce)+_0x4afae5[_0x6951d0(0x122)][_0x6951d0(0xf2)],_0x1363e6[_0x6951d0(0x9d)]),[_0x1363e6[_0x6951d0(0x11f)],_0x1363e6[_0x6951d0(0x101)]][_0x6951d0(0x108)](_0x554423=>{const _0x1a122a=_0x6951d0;_0x20eed4[_0x1a122a(0xaa)](_0x40644c,_0x4afae5[_0x1a122a(0xae)][_0x554423],{'type':_0x20eed4[_0x1a122a(0x94)],'fleet':_0x4afae5[_0x1a122a(0x122)][_0x554423],'battle_ready':!(-0x5c6*-0x4+-0x19e+-0x157a),'turn':_0x4afae5[_0x1a122a(0x122)][_0x1a122a(0xf2)],'shots':_0x4afae5[_0x1a122a(0x122)][_0x1a122a(0xed)]});}));return;case _0x1363e6[_0x6951d0(0xe5)]:{const {x:_0x21fe6b,y:_0x3d33cb}=_0x14d44c,_0x1c8a73=b[_0x14210b],_0x2d2869=_0x1c8a73[_0x6951d0(0x122)];if(_0x1363e6[_0x6951d0(0x9a)](_0x2d2869[_0x6951d0(0xf2)],_0x2de3d3[_0x6951d0(0x87)]))return _0x1363e6[_0x6951d0(0x111)](_0x40644c,_0x2de3d3,{'type':_0x1363e6[_0x6951d0(0x8e)],'message':_0x1363e6[_0x6951d0(0xd4)]});const _0x4a247d=_0x1363e6[_0x6951d0(0x147)](_0x2de3d3[_0x6951d0(0x87)],_0x1363e6[_0x6951d0(0x11f)])?_0x1363e6[_0x6951d0(0x101)]:_0x1363e6[_0x6951d0(0x11f)],_0x10cd27=_0x2d2869[_0x4a247d];let _0x402be4=!(-0x1d02+0x1a4d+0x1*0x2b6),_0x20e5fd=null;for(const [_0x3dd823,_0x528834]of Object[_0x6951d0(0x9b)](_0x10cd27)){const _0x5dcfcc=_0x528834[_0x6951d0(0x97)](_0x3255e7=>_0x3255e7['x']===_0x21fe6b&&_0x3255e7['y']===_0x3d33cb);if(_0x1363e6[_0x6951d0(0xb4)](_0x5dcfcc,-(0x2*0x490+0x9*0x19b+-0x1792*0x1))){_0x402be4=!(-0x169c+-0x583*0x1+0x1*0x1c1f);const _0x52ad44=_0x528834[_0x6951d0(0x106)];_0x528834[_0x6951d0(0xc9)](_0x5dcfcc,0x2*0x4b8+-0x100b+0x69c);const _0x411d00=_0x528834[_0x6951d0(0x106)];_0x1363e6[_0x6951d0(0x88)](a,_0x6951d0(0x92)+'в\x20'+_0x3dd823+_0x6951d0(0x143)+_0x4a247d+_0x6951d0(0x104)+_0x52ad44+_0x6951d0(0xc0)+_0x411d00,_0x1363e6[_0x6951d0(0xcf)]),_0x1363e6[_0x6951d0(0x147)](_0x411d00,0x1d*-0x1d+0x2681*-0x1+0x6*0x6f7)&&(_0x1363e6[_0x6951d0(0xc7)](a,_0x6951d0(0xd5)+_0x3dd823+_0x6951d0(0x13d),_0x1363e6[_0x6951d0(0x9d)]),_0x20e5fd={'ship':_0x3dd823,'coords':_0x1c8a73[_0x6951d0(0x99)+_0x6951d0(0xa0)][_0x4a247d][_0x3dd823]});break;}}const _0x45c6fa=Object[_0x6951d0(0xbc)](_0x10cd27)[_0x6951d0(0x13f)](_0x41f62b=>_0x41f62b[_0x6951d0(0x106)]===-0x99d*0x4+-0x92*0x8+0x1582*0x2);_0x1363e6[_0x6951d0(0x9e)](!_0x402be4,!_0x45c6fa)&&(_0x2d2869[_0x6951d0(0xf2)]=_0x4a247d);const _0x3a5a29={'type':_0x1363e6[_0x6951d0(0xeb)],'x':_0x21fe6b,'y':_0x3d33cb,'isHit':_0x402be4,'by':_0x2de3d3[_0x6951d0(0x87)],'turn':_0x2d2869[_0x6951d0(0xf2)]};_0x45c6fa&&(_0x3a5a29[_0x6951d0(0x8b)]=!(0x2d*-0x11+-0xa*0x292+0x5*0x5bd),_0x3a5a29[_0x6951d0(0x142)]=_0x2de3d3[_0x6951d0(0x87)]),_0x20e5fd&&(_0x3a5a29[_0x6951d0(0xc5)]=_0x20e5fd),_0x2d2869[_0x6951d0(0xed)]=_0x2d2869[_0x6951d0(0xed)]||[],_0x2d2869[_0x6951d0(0xed)][_0x6951d0(0xc1)]({'x':_0x21fe6b,'y':_0x3d33cb,'isHit':_0x402be4,'by':_0x2de3d3[_0x6951d0(0x87)],'sunk':_0x1363e6[_0x6951d0(0xea)](_0x20e5fd,null),'gameOver':_0x45c6fa,'winner':_0x45c6fa?_0x2de3d3[_0x6951d0(0x87)]:null});const _0x40a501=_0x5ae75a[_0x6951d0(0xaf)](d,_0x14210b+_0x6951d0(0xa5));if(_0x45c6fa){try{_0x3abdaf[_0x6951d0(0xe2)](_0x40a501),_0x1363e6[_0x6951d0(0x128)](a,_0x6951d0(0x90)+_0x14210b+(_0x6951d0(0xf1)+_0x6951d0(0x138)+'ён'),_0x1363e6[_0x6951d0(0x9d)]);}catch(_0xa78744){_0x1363e6[_0x6951d0(0x115)](a,_0x6951d0(0x130)+_0x6951d0(0xcc)+_0x6951d0(0x8a)+_0x40a501+':\x20'+_0xa78744[_0x6951d0(0x14b)],_0x1363e6[_0x6951d0(0x8e)]);}delete b[_0x14210b];}else _0x3abdaf[_0x6951d0(0xd8)+_0x6951d0(0xf0)](_0x40a501,JSON[_0x6951d0(0x8c)](_0x2d2869,null,0xdd2+0x226f+0x303f*-0x1)),_0x1363e6[_0x6951d0(0x98)](a,_0x6951d0(0x90)+_0x14210b+(_0x6951d0(0xb3)+_0x6951d0(0xc2)+_0x6951d0(0x145)),_0x1363e6[_0x6951d0(0xcf)]);_0x1363e6[_0x6951d0(0x115)](_0x40644c,_0x1c8a73[_0x6951d0(0xae)][_0x6951d0(0x12a)],_0x3a5a29),_0x1363e6[_0x6951d0(0x111)](_0x40644c,_0x1c8a73[_0x6951d0(0xae)][_0x6951d0(0x10c)],_0x3a5a29);return;}case _0x1363e6[_0x6951d0(0x91)]:{const {text:_0x56bac7}=_0x14d44c;if(_0x1363e6[_0x6951d0(0xe1)](typeof _0x56bac7,_0x1363e6[_0x6951d0(0x95)])||!_0x2de3d3[_0x6951d0(0x137)])return;const _0x1b2afd=b[_0x2de3d3[_0x6951d0(0x137)]];if(!_0x1b2afd)return;const _0x487cce={'type':_0x1363e6[_0x6951d0(0x91)],'from':_0x2de3d3[_0x6951d0(0x87)],'text':_0x56bac7[_0x6951d0(0x149)](-0x1*-0x655+0x54d*0x4+0x3ef*-0x7,-0x8df*-0x1+-0x58d*0x1+-0xe*0x19)};[_0x1363e6[_0x6951d0(0x11f)],_0x1363e6[_0x6951d0(0x101)]][_0x6951d0(0x108)](_0x2bb534=>{const _0x597b9d=_0x6951d0,_0x4a880b=_0x1b2afd[_0x597b9d(0xae)][_0x2bb534];_0x4a880b&&_0x1363e6[_0x597b9d(0xef)](_0x4a880b[_0x597b9d(0xf3)],_0x4a880b[_0x597b9d(0x8f)])&&_0x4a880b[_0x597b9d(0xcb)](JSON[_0x597b9d(0x8c)](_0x487cce));});return;}default:_0x2de3d3[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x8e)],'message':_0x1363e6[_0x6951d0(0xb0)]}));return;}_0x2de3d3[_0x6951d0(0x137)]=_0x14210b,_0x4afae5[_0x6951d0(0xae)][_0x2de3d3[_0x6951d0(0x87)]]=_0x2de3d3,_0x1363e6[_0x6951d0(0x119)](a,_0x6951d0(0xde)+_0x6951d0(0x116)+_0x2de3d3[_0x6951d0(0x87)]+_0x6951d0(0xb8)+_0x14210b,_0x1363e6[_0x6951d0(0x9d)]),_0x2de3d3[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0xee)],'role':_0x2de3d3[_0x6951d0(0x87)]}));const _0x44f877=_0x4afae5[_0x6951d0(0xae)][_0x6951d0(0x12a)],_0x48751a=_0x4afae5[_0x6951d0(0xae)][_0x6951d0(0x10c)],_0x16938b=!!_0x1363e6[_0x6951d0(0xfb)](_0x44f877,_0x48751a);_0x1363e6[_0x6951d0(0xdf)](_0x30b1a0,_0x1363e6[_0x6951d0(0x11b)])?_0x16938b?(_0x1363e6[_0x6951d0(0x12c)](a,_0x6951d0(0xa1)+_0x6951d0(0xad)+_0x6951d0(0x105)+_0x14210b,_0x1363e6[_0x6951d0(0x9d)]),_0x44f877[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x12e)]})),_0x48751a[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x12e)]}))):_0x2de3d3[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x124)]})):_0x16938b?(_0x1363e6[_0x6951d0(0x10b)](a,_0x6951d0(0x131)+_0x6951d0(0x12b)+':\x20'+_0x14210b,_0x1363e6[_0x6951d0(0x9d)]),_0x44f877[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x120)]})),_0x48751a[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x120)]}))):_0x2de3d3[_0x6951d0(0xcb)](JSON[_0x6951d0(0x8c)]({'type':_0x1363e6[_0x6951d0(0x124)]})),_0x4afae5[_0x6951d0(0x122)]?.[_0x6951d0(0x12a)]&&_0x4afae5[_0x6951d0(0x122)]?.[_0x6951d0(0x10c)]&&_0x16938b&&(_0x1363e6[_0x6951d0(0x119)](a,_0x6951d0(0x139)+_0x6951d0(0xd7)+_0x6951d0(0xe0)+_0x14210b,_0x1363e6[_0x6951d0(0x9d)]),[_0x1363e6[_0x6951d0(0x11f)],_0x1363e6[_0x6951d0(0x101)]][_0x6951d0(0x108)](_0x32b162=>{const _0x31317e=_0x6951d0;_0x4afae5[_0x31317e(0xae)][_0x32b162][_0x31317e(0xcb)](JSON[_0x31317e(0x8c)]({'type':_0x1363e6[_0x31317e(0xe7)],'fleet':_0x4afae5[_0x31317e(0x122)][_0x32b162],'battle_ready':!(-0x10eb+-0xb3c+-0x1c27*-0x1),'turn':_0x4afae5[_0x31317e(0x122)][_0x31317e(0xf2)],'shots':_0x4afae5[_0x31317e(0x122)][_0x31317e(0xed)]}));}));}),_0x2de3d3['on'](_0x1363e6[_0x428dd0(0x148)],()=>{const _0xb0aad7=_0x428dd0,{secret_id:_0xc5b0ee,role:_0x5e2f33}=_0x2de3d3;if(_0x1363e6[_0xb0aad7(0xea)](!_0xc5b0ee,!_0x5e2f33))return;const _0x3ae883=b[_0xc5b0ee];if(!_0x3ae883)return;_0x1363e6[_0xb0aad7(0x119)](a,_0xb0aad7(0xf9)+_0xb0aad7(0xfa)+_0x5e2f33+_0xb0aad7(0xb2)+_0xc5b0ee,_0x1363e6[_0xb0aad7(0x9d)]),_0x3ae883[_0xb0aad7(0xae)][_0x5e2f33]=null;const _0x1750b6=_0x1363e6[_0xb0aad7(0x89)](_0x5e2f33,_0x1363e6[_0xb0aad7(0x11f)])?_0x1363e6[_0xb0aad7(0x101)]:_0x1363e6[_0xb0aad7(0x11f)],_0x491358=_0x3ae883[_0xb0aad7(0xae)][_0x1750b6];_0x1363e6[_0xb0aad7(0x128)](_0x40644c,_0x491358,{'type':_0x1363e6[_0xb0aad7(0x11e)]});});});