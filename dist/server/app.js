const _0x5d00af=_0x2010;function _0x2010(_0x4afd69,_0x567df4){const _0x50ce88=_0x11ac();return _0x2010=function(_0x38aac5,_0x21edd6){_0x38aac5=_0x38aac5-(0x2f1+0x19a9+-0x1b49);let _0x5f0b89=_0x50ce88[_0x38aac5];return _0x5f0b89;},_0x2010(_0x4afd69,_0x567df4);}(function(_0x178fa6,_0x8c0c61){const _0x983e14=_0x2010,_0x41b172=_0x178fa6();while(!![]){try{const _0xcd4c42=-parseInt(_0x983e14(0x171))/(-0x2068+-0x3*0x354+0x1*0x2a65)+-parseInt(_0x983e14(0x20f))/(0x1e5e+0x2*-0x11b9+0x516)*(parseInt(_0x983e14(0x175))/(-0x205+0x4a7+0x1*-0x29f))+-parseInt(_0x983e14(0x1e0))/(0x1ea6+0x4*0x5a7+-0x353e)+-parseInt(_0x983e14(0x1b1))/(0x3b3*-0x3+-0x14eb+-0x1*-0x2009)*(-parseInt(_0x983e14(0x1bb))/(0x864+-0x13cd+-0xb6f*-0x1))+parseInt(_0x983e14(0x178))/(-0x6cd+-0x17b*-0x11+0x139*-0xf)*(-parseInt(_0x983e14(0x1a2))/(0x971+-0x1ddd+0xee*0x16))+-parseInt(_0x983e14(0x19b))/(0x421+0x1*0xaab+0xec3*-0x1)+parseInt(_0x983e14(0x1a4))/(0x626*0x2+0x1416+-0x8a*0x3c);if(_0xcd4c42===_0x8c0c61)break;else _0x41b172['push'](_0x41b172['shift']());}catch(_0x104e1b){_0x41b172['push'](_0x41b172['shift']());}}}(_0x11ac,-0xa7e15+-0xb6*-0x30+0xfc6e0));import _0x105beb from'express';import{WebSocketServer as _0x54025d,WebSocket as _0x1dc2f5}from'ws';function _0x11ac(){const _0x5692e3=['lastActive','battleData','ообщении\x20о','values','player2','обязателен','splice','role','//localhos','CEvav','\x20в\x20сессии\x20','YhfYE','static','jYUHD','\x20после\x20выс','WVgNa','info','KteBA','ACaua','sockets','HSLbo','battle','Комната\x20за','CvPNT','rt\x20от\x20','lhlUz','CLOSED','вая\x20сессия','\x20роль\x20или\x20','error','Сервер\x20слу','797436PvKyOH','Gdwfs','close','bSocket-по','ONNcg','Lgywl','lPgmE','Internal\x20s','Некорректн','VeSgI','\x20готовы.\x20Б','Невозможен','FBNSH','KOKAV','Jeroz','HFNqN','reconnect','ovygH','entries','isAlive','ой\x20начинае','wuOkO','AkmOR','qKsKq','forEach','xfMbB','secret_id\x20','YKTAT','sLJJu','cyDKv','т\x20клиента:','lUQCQ','fPSgW','ока\x20','wcKLF',':\x20неверная','fWnGK','RUgwq','VQGrQ','connect','env','includes','qMJQt','vBbVF','LuOoM','warn','secret_id','2iUxErZ','TOTRw','шает\x20http:','XJYkg',',\x20ходит\x20','FwpYi','\x20сообщение','qxaNP','vJMhF','\x20обновлена','Ошибка\x20в\x20с','init','lBbPs','JVzvB','\x20сохранены','→\x20Корабль\x20','shots','nxFBr','JgzIz','RLpXJ','gjsYM','gameOver','fZOqX','every','EPyTz','cUHyr','аботки\x20','UokNV','push','mHERO','тся:\x20','battle_sta','uydHh','362033CKgDVJ','\x20потоплен!','IHQKb','listen','2063649QzTzBZ','CAZuW','winner','343yjcSuW','→\x20Новое\x20We','й\x20тип','←\x20Получено','shot_resul','ClfXF','use','qVSbx','ets','PftAC','Неизвестны','shoot','ebAYu','readyState','FuPab','wUyLZ','JRltk','initialFle','playerId','sWTQI','XfxbD','\x20reconnect','Оба\x20игрока','ynwlw','PORT','Данные\x20игр','Создана\x20но','\x20окончена,','debug','sunk','Ошибка\x20обр','ZQEuu','length','HYrLi','дключение','1444284RuwuTd','XiZgp','ый\x20JSON','fTbtV','playerIds','kkiSb','jzSys','87456dEMjnc','turn','20135120bcurot','message','Игра\x20','\x20файл\x20удал','erver\x20erro','Tnksz','трела','pong','fleet','UjMHl','sfohG','AzwNi','findIndex','1030ZhEUTK','GJBTy','pause','gvyME','XyJfI','полнена','player1','connection','now','lalvf','8358jsUiUc','wueId','public','parse','jyUqA','KcRXk'];_0x11ac=function(){return _0x5692e3;};return _0x11ac();}import{send as _0x2fa672,queueSessionOp as _0x560612,postProcessMessage as _0x1b0e98,getSession as _0x435fd2,log as _0x54cb1e,startSessionGarbageCollector as _0x33e986,startWebSocketHeartbeat as _0x113cb1}from'./utils.js';import{restoreGame as _0x3db361,saveGame as _0x330bd3,deleteGame as _0x1dc23e,ensureGamesFolder as _0x8591}from'./fsGames.js';const C=process[_0x5d00af(0x208)][_0x5d00af(0x190)]||-0x2321*-0x1+-0x1*-0xe9+-0x16*0x11b,y={},h={},J=(0xbad+0x31*0x33+-0x1444)*(-0x1cd4+-0x5*0x28d+0x2d7d*0x1),V=(-0x29*0xa3+0x24b*0xe+-0x127*0x5)*(0x2590*0x1+-0x10*-0x10a+-0x3248),q=(-0x2*0x2b3+0xa6*0x9+-0x52)*(0x3*-0x9f2+0x1d*-0xbd+0x7*0x7e1);await _0x8591();const G=_0x105beb();G[_0x5d00af(0x17e)](_0x105beb[_0x5d00af(0x1cd)](_0x5d00af(0x1bd)));const B=G[_0x5d00af(0x174)](C,()=>_0x54cb1e(_0x5d00af(0x1df)+_0x5d00af(0x152)+_0x5d00af(0x1c9)+'t:'+C,_0x5d00af(0x15b))),N=new _0x54025d({'server':B});N['on'](_0x5d00af(0x1b8),_0x28d19d=>{const _0x2f991a=_0x5d00af,_0x3f19d4={'uydHh':function(_0x19e17c,_0x2ebb76,_0x252dcb){return _0x19e17c(_0x2ebb76,_0x252dcb);},'lhlUz':_0x2f991a(0x1d1),'KcRXk':function(_0x504265,_0x210a2b,_0x5455ee){return _0x504265(_0x210a2b,_0x5455ee);},'gjsYM':_0x2f991a(0x194),'cUHyr':_0x2f991a(0x1b7),'FuPab':function(_0x8c31c7,_0x8eadcd){return _0x8c31c7(_0x8eadcd);},'jYUHD':function(_0x1b20e6,_0x3d7f57){return _0x1b20e6(_0x3d7f57);},'VeSgI':function(_0x25535f,_0x3fc830,_0x56b166){return _0x25535f(_0x3fc830,_0x56b166);},'ovygH':_0x2f991a(0x1c5),'wUyLZ':function(_0x15b070,_0x80a1d4){return _0x15b070===_0x80a1d4;},'vBbVF':_0x2f991a(0x1de),'UjMHl':_0x2f991a(0x1d7)+_0x2f991a(0x1b6),'wcKLF':function(_0x236f3f,_0x3d009c,_0x19ffaa){return _0x236f3f(_0x3d009c,_0x19ffaa);},'kkiSb':function(_0x1e5e76,_0x50b560,_0x1fbc9d,_0xf2a63f,_0x211fed){return _0x1e5e76(_0x50b560,_0x1fbc9d,_0xf2a63f,_0x211fed);},'HFNqN':function(_0x45483f,_0x87d38,_0x22bccc){return _0x45483f(_0x87d38,_0x22bccc);},'PftAC':function(_0x3c28a5,_0x3ac201){return _0x3c28a5!==_0x3ac201;},'IHQKb':function(_0x20e80f,_0x379f98,_0x345adb){return _0x20e80f(_0x379f98,_0x345adb);},'ClfXF':_0x2f991a(0x1eb)+_0x2f991a(0x18d)+_0x2f991a(0x203)+_0x2f991a(0x1dd)+_0x2f991a(0x18a),'lBbPs':function(_0x42a698,_0x199612){return _0x42a698!==_0x199612;},'XJYkg':_0x2f991a(0x1d6),'EPyTz':function(_0x31aaa0,_0x579c3f){return _0x31aaa0===_0x579c3f;},'cyDKv':function(_0x3810d2,_0x20adc2){return _0x3810d2!==_0x20adc2;},'GJBTy':function(_0x2aa348,_0x3865b8){return _0x2aa348&&_0x3865b8;},'YhfYE':_0x2f991a(0x17c)+'t','AkmOR':function(_0x4d2e58,_0x501d25){return _0x4d2e58||_0x501d25;},'FBNSH':function(_0xb3b39b,_0x7a4005){return _0xb3b39b(_0x7a4005);},'fZOqX':function(_0x139363,_0x57fb3d,_0x4082ab){return _0x139363(_0x57fb3d,_0x4082ab);},'qxaNP':_0x2f991a(0x1e8)+_0x2f991a(0x19d),'Lgywl':_0x2f991a(0x20d),'ONNcg':function(_0x1a5a2e,_0x2e3d89,_0x14ad30){return _0x1a5a2e(_0x2e3d89,_0x14ad30);},'jyUqA':_0x2f991a(0x1fa)+_0x2f991a(0x1c6),'qKsKq':_0x2f991a(0x207),'LuOoM':function(_0x4c0aca,_0x2b80dc,_0x378b91,_0x29c7a7){return _0x4c0aca(_0x2b80dc,_0x378b91,_0x29c7a7);},'wueId':function(_0x2ce502,_0x30c38c,_0x1d399b){return _0x2ce502(_0x30c38c,_0x1d399b);},'qMJQt':function(_0x320c1d,_0x7a53fd,_0x5f4ec3){return _0x320c1d(_0x7a53fd,_0x5f4ec3);},'YKTAT':_0x2f991a(0x1e7)+_0x2f991a(0x1a8)+'r','qVSbx':_0x2f991a(0x1f0),'JgzIz':function(_0x314cfa,_0x428b7a,_0x53e50b,_0x73f197){return _0x314cfa(_0x428b7a,_0x53e50b,_0x73f197);},'fTbtV':function(_0x3d3939,_0x52723f,_0x8fd1dd){return _0x3d3939(_0x52723f,_0x8fd1dd);},'lalvf':_0x2f991a(0x16f)+'rt','RUgwq':function(_0x3a1088,_0xea29b0,_0x4233c4,_0x577522){return _0x3a1088(_0xea29b0,_0x4233c4,_0x577522);},'XyJfI':function(_0x145a63,_0x211450,_0x185967){return _0x145a63(_0x211450,_0x185967);},'ebAYu':function(_0x2b1c8b,_0x15c18f,_0x1b60a1){return _0x2b1c8b(_0x15c18f,_0x1b60a1);},'RLpXJ':_0x2f991a(0x183),'KteBA':_0x2f991a(0x182)+_0x2f991a(0x17a),'Jeroz':function(_0x27aef9,_0x12b698,_0x5caafa){return _0x27aef9(_0x12b698,_0x5caafa);},'JVzvB':function(_0x49b588,_0x1c0834){return _0x49b588===_0x1c0834;},'lUQCQ':function(_0x3f42be,_0x1f08bf){return _0x3f42be===_0x1f08bf;},'FwpYi':function(_0x526aa0,_0x413011,_0x4d7331){return _0x526aa0(_0x413011,_0x4d7331);},'jzSys':_0x2f991a(0x1b3),'WVgNa':function(_0x4b8ed4,_0x261cad,_0x751869,_0x23ea07){return _0x4b8ed4(_0x261cad,_0x751869,_0x23ea07);},'XiZgp':_0x2f991a(0x179)+_0x2f991a(0x1e3)+_0x2f991a(0x19a),'sLJJu':_0x2f991a(0x1ab),'HYrLi':_0x2f991a(0x1a5),'mHERO':_0x2f991a(0x1e2)};_0x3f19d4[_0x2f991a(0x186)](_0x54cb1e,_0x3f19d4[_0x2f991a(0x19c)]),_0x28d19d[_0x2f991a(0x1f3)]=!(0x193d+0xdb3+0x26f*-0x10),_0x28d19d['on'](_0x3f19d4[_0x2f991a(0x1fc)],()=>{const _0x343d79=_0x2f991a;_0x28d19d[_0x343d79(0x1f3)]=!(-0x43e+0x2e6+-0x1*-0x158);}),_0x28d19d[_0x2f991a(0x1c8)]=null,_0x28d19d[_0x2f991a(0x20e)]=null,_0x28d19d['on'](_0x3f19d4[_0x2f991a(0x199)],async _0x480a59=>{const _0x3a6f72=_0x2f991a,_0x2a5a96={'fPSgW':function(_0x20020b,_0x28ce14,_0x40f1f0){const _0x4abc93=_0x2010;return _0x3f19d4[_0x4abc93(0x1c0)](_0x20020b,_0x28ce14,_0x40f1f0);},'vJMhF':_0x3f19d4[_0x3a6f72(0x169)],'Tnksz':_0x3f19d4[_0x3a6f72(0x1f1)],'ACaua':function(_0x433ed3,_0x1d7111){const _0x2bb103=_0x3a6f72;return _0x3f19d4[_0x2bb103(0x187)](_0x433ed3,_0x1d7111);},'sWTQI':_0x3f19d4[_0x3a6f72(0x20b)],'wuOkO':_0x3f19d4[_0x3a6f72(0x1ad)],'CEvav':function(_0xc9833a,_0x323a1a,_0x360a32){const _0x1e696d=_0x3a6f72;return _0x3f19d4[_0x1e696d(0x202)](_0xc9833a,_0x323a1a,_0x360a32);},'sfohG':function(_0x239a5a,_0xef131a,_0x5a54d5,_0x1bf2a0,_0x4f857b){const _0x3dd1dd=_0x3a6f72;return _0x3f19d4[_0x3dd1dd(0x1a0)](_0x239a5a,_0xef131a,_0x5a54d5,_0x1bf2a0,_0x4f857b);},'CvPNT':function(_0x149c5b,_0x774340,_0x4b5217){const _0x41b891=_0x3a6f72;return _0x3f19d4[_0x41b891(0x1ef)](_0x149c5b,_0x774340,_0x4b5217);},'TOTRw':function(_0x4b1ad3,_0x27fe8a){const _0x1dfde1=_0x3a6f72;return _0x3f19d4[_0x1dfde1(0x181)](_0x4b1ad3,_0x27fe8a);},'KOKAV':function(_0x2e0a5f,_0x2940f1,_0x4278f1){const _0x1df79b=_0x3a6f72;return _0x3f19d4[_0x1df79b(0x173)](_0x2e0a5f,_0x2940f1,_0x4278f1);},'gvyME':_0x3f19d4[_0x3a6f72(0x17d)],'Gdwfs':function(_0x4a8e98,_0x3a0ab2){const _0x1cecb3=_0x3a6f72;return _0x3f19d4[_0x1cecb3(0x15c)](_0x4a8e98,_0x3a0ab2);},'HSLbo':_0x3f19d4[_0x3a6f72(0x153)],'lPgmE':function(_0x4c6c04,_0x7fe5f5){const _0x3b3cd0=_0x3a6f72;return _0x3f19d4[_0x3b3cd0(0x168)](_0x4c6c04,_0x7fe5f5);},'CAZuW':function(_0x5a2efb,_0x3803e8){const _0x3bcc70=_0x3a6f72;return _0x3f19d4[_0x3bcc70(0x1fd)](_0x5a2efb,_0x3803e8);},'nxFBr':function(_0x50fba9,_0x325b86,_0x5e3448){const _0xc712db=_0x3a6f72;return _0x3f19d4[_0xc712db(0x170)](_0x50fba9,_0x325b86,_0x5e3448);},'UokNV':_0x3f19d4[_0x3a6f72(0x1da)],'fWnGK':function(_0x5d223d,_0x20c312){const _0x39ca57=_0x3a6f72;return _0x3f19d4[_0x39ca57(0x1b2)](_0x5d223d,_0x20c312);},'VQGrQ':_0x3f19d4[_0x3a6f72(0x1cc)],'ynwlw':function(_0x3317f6,_0x2e00b4){const _0x37b615=_0x3a6f72;return _0x3f19d4[_0x37b615(0x1f6)](_0x3317f6,_0x2e00b4);},'XfxbD':function(_0x1ffa42,_0x249a40){const _0x2544de=_0x3a6f72;return _0x3f19d4[_0x2544de(0x1ec)](_0x1ffa42,_0x249a40);},'JRltk':function(_0x10aba0,_0xd8cbc0,_0x2306fd){const _0x5edafa=_0x3a6f72;return _0x3f19d4[_0x5edafa(0x1ef)](_0x10aba0,_0xd8cbc0,_0x2306fd);},'AzwNi':function(_0x2dfdec,_0x5cec7c,_0x4f7d0b){const _0x5d93f5=_0x3a6f72;return _0x3f19d4[_0x5d93f5(0x166)](_0x2dfdec,_0x5cec7c,_0x4f7d0b);},'xfMbB':_0x3f19d4[_0x3a6f72(0x164)],'ZQEuu':function(_0x3a8e16,_0x2b35be,_0x1c3cac){const _0x56bfb5=_0x3a6f72;return _0x3f19d4[_0x56bfb5(0x1c0)](_0x3a8e16,_0x2b35be,_0x1c3cac);}};try{let _0x2aff27;try{_0x2aff27=JSON[_0x3a6f72(0x1be)](_0x480a59);}catch{_0x3f19d4[_0x3a6f72(0x1e9)](_0x54cb1e,_0x3f19d4[_0x3a6f72(0x157)],_0x3f19d4[_0x3a6f72(0x1e5)]);return;}const {type:_0x1a4e31,secret_id:_0x1cfa04,role:_0x7332c4,playerId:_0x380cde}=_0x2aff27;if(_0x3f19d4[_0x3a6f72(0x1e4)](_0x54cb1e,_0x3a6f72(0x17b)+_0x3a6f72(0x156)+'\x20'+_0x1a4e31,_0x3f19d4[_0x3a6f72(0x164)]),!_0x1cfa04){_0x3f19d4[_0x3a6f72(0x1ef)](_0x2fa672,_0x28d19d,{'type':_0x3f19d4[_0x3a6f72(0x20b)],'message':_0x3f19d4[_0x3a6f72(0x1bf)]});return;}y[_0x1cfa04]||(y[_0x1cfa04]={'sockets':{'player1':null,'player2':null},'lastActive':Date[_0x3a6f72(0x1b9)]()},_0x3f19d4[_0x3a6f72(0x1e4)](_0x54cb1e,_0x3a6f72(0x192)+_0x3a6f72(0x1dc)+'\x20'+_0x1cfa04,_0x3f19d4[_0x3a6f72(0x164)]));const _0x2102ce=y[_0x1cfa04];switch(_0x2102ce[_0x3a6f72(0x1c1)]=Date[_0x3a6f72(0x1b9)](),_0x2102ce[_0x3a6f72(0x19f)]=_0x2102ce[_0x3a6f72(0x19f)]||{'player1':null,'player2':null},_0x1a4e31){case _0x3f19d4[_0x3a6f72(0x1f7)]:try{await _0x3f19d4[_0x3a6f72(0x20c)](_0x560612,_0x1cfa04,async()=>{const _0x49f315=_0x3a6f72,_0x192c03=_0x2a5a96[_0x49f315(0x200)](_0x435fd2,_0x1cfa04,y);for(const _0x3330ea of[_0x2a5a96[_0x49f315(0x158)],_0x2a5a96[_0x49f315(0x1a9)]]){const _0x4dc9ae=_0x192c03[_0x49f315(0x1d4)][_0x3330ea];_0x4dc9ae&&_0x2a5a96[_0x49f315(0x1d3)](_0x4dc9ae[_0x49f315(0x185)],_0x1dc2f5[_0x49f315(0x1db)])&&(_0x192c03[_0x49f315(0x1d4)][_0x3330ea]=null);}let _0x550145=null;if(_0x2a5a96[_0x49f315(0x1d3)](_0x192c03[_0x49f315(0x19f)][_0x49f315(0x1b7)],_0x380cde)&&!_0x192c03[_0x49f315(0x1d4)][_0x49f315(0x1b7)])_0x550145=_0x2a5a96[_0x49f315(0x158)];else{if(_0x2a5a96[_0x49f315(0x1d3)](_0x192c03[_0x49f315(0x19f)][_0x49f315(0x1c5)],_0x380cde)&&!_0x192c03[_0x49f315(0x1d4)][_0x49f315(0x1c5)])_0x550145=_0x2a5a96[_0x49f315(0x1a9)];else{if(!_0x192c03[_0x49f315(0x1d4)][_0x49f315(0x1b7)])_0x550145=_0x2a5a96[_0x49f315(0x158)],_0x192c03[_0x49f315(0x19f)][_0x49f315(0x1b7)]=_0x380cde;else{if(!_0x192c03[_0x49f315(0x1d4)][_0x49f315(0x1c5)])_0x550145=_0x2a5a96[_0x49f315(0x1a9)],_0x192c03[_0x49f315(0x19f)][_0x49f315(0x1c5)]=_0x380cde;else{_0x2a5a96[_0x49f315(0x200)](_0x2fa672,_0x28d19d,{'type':_0x2a5a96[_0x49f315(0x18b)],'message':_0x2a5a96[_0x49f315(0x1f5)]});return;}}}}_0x28d19d[_0x49f315(0x1c8)]=_0x550145,_0x28d19d[_0x49f315(0x18a)]=_0x380cde,_0x28d19d[_0x49f315(0x20e)]=_0x1cfa04,_0x192c03[_0x49f315(0x1d4)][_0x550145]=_0x28d19d,await _0x2a5a96[_0x49f315(0x1ca)](_0x3db361,_0x192c03,_0x1cfa04),await _0x2a5a96[_0x49f315(0x1ae)](_0x1b0e98,_0x1a4e31,_0x28d19d,_0x192c03,_0x1cfa04);},h);}catch(_0x1d2ab9){_0x3f19d4[_0x3a6f72(0x1bc)](_0x54cb1e,_0x3a6f72(0x196)+_0x3a6f72(0x16a)+_0x1a4e31+_0x3a6f72(0x1cb)+_0x1cfa04+':\x20'+_0x1d2ab9,_0x3f19d4[_0x3a6f72(0x20b)]),_0x3f19d4[_0x3a6f72(0x20a)](_0x2fa672,_0x28d19d,{'type':_0x3f19d4[_0x3a6f72(0x20b)],'message':_0x3f19d4[_0x3a6f72(0x1fb)]});}return;case _0x3f19d4[_0x3a6f72(0x17f)]:try{await _0x3f19d4[_0x3a6f72(0x162)](_0x560612,_0x1cfa04,async()=>{const _0x4a7694=_0x3a6f72,_0x550ab2=_0x2a5a96[_0x4a7694(0x1d8)](_0x435fd2,_0x1cfa04,y),_0x489e14=_0x7332c4;if(![_0x2a5a96[_0x4a7694(0x158)],_0x2a5a96[_0x4a7694(0x1a9)]][_0x4a7694(0x209)](_0x489e14)||_0x2a5a96[_0x4a7694(0x151)](_0x550ab2[_0x4a7694(0x19f)][_0x489e14],_0x380cde)){_0x2a5a96[_0x4a7694(0x1ed)](_0x2fa672,_0x28d19d,{'type':_0x2a5a96[_0x4a7694(0x18b)],'message':_0x2a5a96[_0x4a7694(0x1b4)]});return;}const _0x25713f=_0x550ab2[_0x4a7694(0x1d4)][_0x489e14];_0x25713f&&_0x2a5a96[_0x4a7694(0x1e1)](_0x25713f[_0x4a7694(0x185)],_0x1dc2f5[_0x4a7694(0x1db)])&&_0x25713f[_0x4a7694(0x1e2)](),_0x28d19d[_0x4a7694(0x1c8)]=_0x489e14,_0x28d19d[_0x4a7694(0x18a)]=_0x380cde,_0x28d19d[_0x4a7694(0x20e)]=_0x1cfa04,_0x550ab2[_0x4a7694(0x1d4)][_0x489e14]=_0x28d19d,await _0x2a5a96[_0x4a7694(0x200)](_0x3db361,_0x550ab2,_0x1cfa04),await _0x2a5a96[_0x4a7694(0x1ae)](_0x1b0e98,_0x1a4e31,_0x28d19d,_0x550ab2,_0x1cfa04);},h);}catch(_0xb8a1b3){_0x3f19d4[_0x3a6f72(0x1bc)](_0x54cb1e,_0x3a6f72(0x196)+_0x3a6f72(0x16a)+_0x1a4e31+_0x3a6f72(0x1cb)+_0x1cfa04+':\x20'+_0xb8a1b3,_0x3f19d4[_0x3a6f72(0x20b)]),_0x3f19d4[_0x3a6f72(0x19e)](_0x2fa672,_0x28d19d,{'type':_0x3f19d4[_0x3a6f72(0x20b)],'message':_0x3f19d4[_0x3a6f72(0x1fb)]});}return;case _0x3f19d4[_0x3a6f72(0x1ba)]:try{await _0x3f19d4[_0x3a6f72(0x205)](_0x560612,_0x1cfa04,async()=>{const _0x157008=_0x3a6f72;_0x3f19d4[_0x157008(0x170)](_0x54cb1e,_0x157008(0x16f)+_0x157008(0x1d9)+_0x28d19d[_0x157008(0x1c8)]+_0x157008(0x1cb)+_0x1cfa04,_0x3f19d4[_0x157008(0x1da)]),_0x2102ce[_0x157008(0x1c2)]=_0x2102ce[_0x157008(0x1c2)]||{},_0x2102ce[_0x157008(0x1c2)][_0x28d19d[_0x157008(0x1c8)]]=_0x2aff27[_0x157008(0x1ac)],_0x2102ce[_0x157008(0x1c2)][_0x157008(0x160)]=_0x2102ce[_0x157008(0x1c2)][_0x157008(0x160)]||[],await _0x3f19d4[_0x157008(0x1c0)](_0x330bd3,_0x1cfa04,_0x2102ce[_0x157008(0x1c2)]),_0x3f19d4[_0x157008(0x1c0)](_0x54cb1e,_0x157008(0x191)+_0x157008(0x201)+_0x28d19d[_0x157008(0x1c8)]+_0x157008(0x15e),_0x3f19d4[_0x157008(0x164)]),_0x2102ce[_0x157008(0x1c2)][_0x157008(0x1b7)]&&_0x2102ce[_0x157008(0x1c2)][_0x157008(0x1c5)]&&(_0x2102ce[_0x157008(0x1c2)][_0x157008(0x1a3)]=_0x2102ce[_0x157008(0x1c2)][_0x157008(0x1a3)]||_0x3f19d4[_0x157008(0x169)],_0x2102ce[_0x157008(0x189)+_0x157008(0x180)]={'player1':_0x3f19d4[_0x157008(0x186)](structuredClone,_0x2102ce[_0x157008(0x1c2)][_0x157008(0x1b7)]),'player2':_0x3f19d4[_0x157008(0x1ce)](structuredClone,_0x2102ce[_0x157008(0x1c2)][_0x157008(0x1c5)])},_0x2102ce[_0x157008(0x1c2)][_0x157008(0x189)+_0x157008(0x180)]=_0x2102ce[_0x157008(0x189)+_0x157008(0x180)],await _0x3f19d4[_0x157008(0x1e9)](_0x330bd3,_0x1cfa04,_0x2102ce[_0x157008(0x1c2)]),_0x3f19d4[_0x157008(0x1e9)](_0x54cb1e,_0x157008(0x18e)+_0x157008(0x1ea)+_0x157008(0x1f4)+_0x157008(0x16e)+_0x1cfa04+_0x157008(0x154)+_0x2102ce[_0x157008(0x1c2)][_0x157008(0x1a3)],_0x3f19d4[_0x157008(0x1da)]),[_0x3f19d4[_0x157008(0x169)],_0x3f19d4[_0x157008(0x1f1)]][_0x157008(0x1f8)](_0x25093d=>{const _0x1071a9=_0x157008;_0x2a5a96[_0x1071a9(0x1d8)](_0x2fa672,_0x2102ce[_0x1071a9(0x1d4)][_0x25093d],{'type':_0x2a5a96[_0x1071a9(0x1d5)],'initialFleet':_0x2102ce[_0x1071a9(0x189)+_0x1071a9(0x180)][_0x25093d],'battle_ready':!(0x94b+-0x2c6*0x3+0x3*-0x53),'turn':_0x2102ce[_0x1071a9(0x1c2)][_0x1071a9(0x1a3)],'shots':_0x2102ce[_0x1071a9(0x1c2)][_0x1071a9(0x160)]});}));},h);}catch(_0x4023fc){_0x3f19d4[_0x3a6f72(0x1b5)](_0x54cb1e,_0x3a6f72(0x196)+_0x3a6f72(0x16a)+_0x1a4e31+_0x3a6f72(0x1cb)+_0x1cfa04+':\x20'+_0x4023fc,_0x3f19d4[_0x3a6f72(0x20b)]),_0x3f19d4[_0x3a6f72(0x184)](_0x2fa672,_0x28d19d,{'type':_0x3f19d4[_0x3a6f72(0x20b)],'message':_0x3f19d4[_0x3a6f72(0x1fb)]});}return;case _0x3f19d4[_0x3a6f72(0x163)]:try{await _0x3f19d4[_0x3a6f72(0x205)](_0x560612,_0x1cfa04,async()=>{const _0x4e5ee6=_0x3a6f72,{x:_0x380b1a,y:_0x567d53}=_0x2aff27,_0x503630=y[_0x1cfa04],_0x248190=_0x503630[_0x4e5ee6(0x1c2)];if(_0x2a5a96[_0x4e5ee6(0x1e1)](_0x248190[_0x4e5ee6(0x1a3)],_0x28d19d[_0x4e5ee6(0x1c8)]))return;const _0x20b94a=_0x2a5a96[_0x4e5ee6(0x1e6)](_0x28d19d[_0x4e5ee6(0x1c8)],_0x2a5a96[_0x4e5ee6(0x158)])?_0x2a5a96[_0x4e5ee6(0x1a9)]:_0x2a5a96[_0x4e5ee6(0x158)],_0x3fa16b=_0x248190[_0x20b94a];let _0x15f858=!(0x11c*-0x8+0x142e+-0x107*0xb),_0x71a620=null;for(const [_0x5b530d,_0x2cb241]of Object[_0x4e5ee6(0x1f2)](_0x3fa16b)){const _0x26fc5c=_0x2cb241[_0x4e5ee6(0x1b0)](_0x35f37b=>_0x35f37b['x']===_0x380b1a&&_0x35f37b['y']===_0x567d53);if(_0x2a5a96[_0x4e5ee6(0x176)](_0x26fc5c,-(-0x5*0x340+0x11f6+-0x1b5))){_0x15f858=!(-0xbb4*0x2+-0x25db*0x1+0x3d43),_0x2cb241[_0x4e5ee6(0x1c7)](_0x26fc5c,-0x46*0x2e+0x1918+-0xc83),_0x2a5a96[_0x4e5ee6(0x1e6)](_0x2cb241[_0x4e5ee6(0x198)],-0x129+-0x837*-0x2+-0x517*0x3)&&(_0x71a620={'ship':_0x5b530d,'coords':_0x503630[_0x4e5ee6(0x189)+_0x4e5ee6(0x180)][_0x20b94a][_0x5b530d]},_0x2a5a96[_0x4e5ee6(0x161)](_0x54cb1e,_0x4e5ee6(0x15f)+_0x5b530d+_0x4e5ee6(0x172),_0x2a5a96[_0x4e5ee6(0x16b)]));break;}}const _0x17967e=Object[_0x4e5ee6(0x1c4)](_0x3fa16b)[_0x4e5ee6(0x167)](_0x30292d=>_0x30292d[_0x4e5ee6(0x198)]===0x99e*0x3+-0x16d2+-0x608);_0x2a5a96[_0x4e5ee6(0x204)](!_0x15f858,!_0x17967e)&&(_0x248190[_0x4e5ee6(0x1a3)]=_0x20b94a);const _0x30f90f={'type':_0x2a5a96[_0x4e5ee6(0x206)],'x':_0x380b1a,'y':_0x567d53,'isHit':_0x15f858,'by':_0x28d19d[_0x4e5ee6(0x1c8)],'turn':_0x248190[_0x4e5ee6(0x1a3)]};_0x71a620&&(_0x30f90f[_0x4e5ee6(0x195)]=_0x71a620),_0x17967e&&(_0x30f90f[_0x4e5ee6(0x165)]=!(-0x1*0xcff+0x193b+-0xc3c),_0x30f90f[_0x4e5ee6(0x177)]=_0x28d19d[_0x4e5ee6(0x1c8)]),_0x248190[_0x4e5ee6(0x160)][_0x4e5ee6(0x16c)]({'x':_0x380b1a,'y':_0x567d53,'isHit':_0x15f858,'by':_0x28d19d[_0x4e5ee6(0x1c8)],'sunk':_0x2a5a96[_0x4e5ee6(0x18f)](_0x71a620,null),'gameOver':_0x17967e,'winner':_0x17967e?_0x28d19d[_0x4e5ee6(0x1c8)]:null}),_0x17967e?(await _0x2a5a96[_0x4e5ee6(0x18c)](_0x1dc23e,_0x1cfa04),delete y[_0x1cfa04],_0x2a5a96[_0x4e5ee6(0x1d8)](_0x54cb1e,_0x4e5ee6(0x1a6)+_0x1cfa04+(_0x4e5ee6(0x193)+_0x4e5ee6(0x1a7)+'ён'),_0x2a5a96[_0x4e5ee6(0x16b)])):(await _0x2a5a96[_0x4e5ee6(0x188)](_0x330bd3,_0x1cfa04,_0x248190),_0x2a5a96[_0x4e5ee6(0x1af)](_0x54cb1e,_0x4e5ee6(0x1a6)+_0x1cfa04+(_0x4e5ee6(0x159)+_0x4e5ee6(0x1cf)+_0x4e5ee6(0x1aa)),_0x2a5a96[_0x4e5ee6(0x1f9)])),_0x2a5a96[_0x4e5ee6(0x1d8)](_0x2fa672,_0x503630[_0x4e5ee6(0x1d4)][_0x4e5ee6(0x1b7)],_0x30f90f),_0x2a5a96[_0x4e5ee6(0x197)](_0x2fa672,_0x503630[_0x4e5ee6(0x1d4)][_0x4e5ee6(0x1c5)],_0x30f90f);},h);}catch(_0x4af13a){_0x3f19d4[_0x3a6f72(0x20a)](_0x54cb1e,_0x3a6f72(0x196)+_0x3a6f72(0x16a)+_0x1a4e31+_0x3a6f72(0x1cb)+_0x1cfa04+':\x20'+_0x4af13a,_0x3f19d4[_0x3a6f72(0x20b)]),_0x3f19d4[_0x3a6f72(0x1bc)](_0x2fa672,_0x28d19d,{'type':_0x3f19d4[_0x3a6f72(0x20b)],'message':_0x3f19d4[_0x3a6f72(0x1fb)]});}return;default:_0x3f19d4[_0x3a6f72(0x19e)](_0x2fa672,_0x28d19d,{'type':_0x3f19d4[_0x3a6f72(0x20b)],'message':_0x3f19d4[_0x3a6f72(0x1d2)]});return;}}catch(_0x31af48){_0x3f19d4[_0x3a6f72(0x1ee)](_0x54cb1e,_0x3a6f72(0x15a)+_0x3a6f72(0x1c3)+_0x3a6f72(0x1fe)+'\x20'+_0x31af48,_0x3f19d4[_0x3a6f72(0x20b)]),_0x3f19d4[_0x3a6f72(0x20a)](_0x2fa672,_0x28d19d,{'type':_0x3f19d4[_0x3a6f72(0x20b)],'message':_0x3f19d4[_0x3a6f72(0x1fb)]});}}),_0x28d19d['on'](_0x3f19d4[_0x2f991a(0x16d)],()=>{const _0xa9645c=_0x2f991a;_0x28d19d[_0xa9645c(0x20e)]&&_0x3f19d4[_0xa9645c(0x1d0)](_0x560612,_0x28d19d[_0xa9645c(0x20e)],()=>{const _0x40d86c=_0xa9645c,_0x3e5dc0=y[_0x28d19d[_0x40d86c(0x20e)]];if(_0x3e5dc0&&_0x28d19d[_0x40d86c(0x1c8)]&&_0x3f19d4[_0x40d86c(0x15d)](_0x3e5dc0[_0x40d86c(0x1d4)][_0x28d19d[_0x40d86c(0x1c8)]],_0x28d19d)){_0x3e5dc0[_0x40d86c(0x1d4)][_0x28d19d[_0x40d86c(0x1c8)]]=null;const _0x143a3c=_0x3f19d4[_0x40d86c(0x1ff)](_0x28d19d[_0x40d86c(0x1c8)],_0x3f19d4[_0x40d86c(0x169)])?_0x3f19d4[_0x40d86c(0x1f1)]:_0x3f19d4[_0x40d86c(0x169)],_0x16d230=_0x3e5dc0[_0x40d86c(0x1d4)][_0x143a3c];_0x16d230&&_0x3f19d4[_0x40d86c(0x155)](_0x2fa672,_0x16d230,{'type':_0x3f19d4[_0x40d86c(0x1a1)]});}},h);});}),_0x33e986(V,J,y,_0x1dc2f5),_0x113cb1(N,q);