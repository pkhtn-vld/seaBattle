const _0x7f24c0=_0x5876;(function(_0x4a6980,_0x5a0c3d){const _0x4539b2=_0x5876,_0x5a8d27=_0x4a6980();while(!![]){try{const _0x54108f=parseInt(_0x4539b2(0x1a3))/(0x14a2+-0xbbb+-0x8e6)+parseInt(_0x4539b2(0x135))/(0x1489+-0x105c+0x42b*-0x1)+-parseInt(_0x4539b2(0x144))/(0x2*-0xe17+0x79*0x6+-0x1*-0x195b)+parseInt(_0x4539b2(0x126))/(-0x4c6*0x2+-0x229+-0xbb9*-0x1)+-parseInt(_0x4539b2(0x197))/(-0x191*-0x16+0x1*0x151f+0xde4*-0x4)+-parseInt(_0x4539b2(0x188))/(0x6de+-0x438*-0x9+-0x2cd0)*(parseInt(_0x4539b2(0x193))/(-0x11b0*-0x1+-0x16*-0x12a+-0x2b45))+parseInt(_0x4539b2(0x17c))/(0x4*0x3a4+0x22a*0xe+0x2*-0x166a);if(_0x54108f===_0x5a0c3d)break;else _0x5a8d27['push'](_0x5a8d27['shift']());}catch(_0x3ef22f){_0x5a8d27['push'](_0x5a8d27['shift']());}}}(_0x5b85,-0x54f7d+0x539*-0xff+0xcca7*0x11));import _0x352c0a from'express';import{WebSocketServer as _0x59f9f7}from'ws';import _0x5935ee from'fs';import _0x1d749a from'path';function _0x5b85(){const _0x29fa5b=['ваш\x20ход','existsSync','ZqiOm','Некорректн','Отключён\x20с','файла\x20для\x20','xGBFf','resume','secret_id\x20','forEach','1447033viToxO','tlyYM','unlinkSync','rt\x20от\x20','613650WbubgY','\x20потоплен!','cytmd','TEIGJ','дключение','./server/g','tVQYY','YucuK','listen','\x20у\x20','\x20подключен','send','178647yWkSSd','KDwXx','connect','шает\x20http:','replace','Сейчас\x20не\x20','TnAAD','NjQrh','ames','public','SzBre','init','\x20сообщение','lUoIU','secret_id','XvVGG','\x20обновлена','battle','connection','NAiOs','waiting','Данные\x20игр','//localhos','uvwMj','←\x20Получено','isAlive','sunk','message','eelNJ','Неизвестны','→\x20Корабль\x20','initialFle','ый\x20JSON','\x20файл\x20удал','HxJSH','lLYuK','utf-8','ой\x20начинае','close','vSVGx','Попадание\x20','ets','player1','трела','dWcow','ока\x20','omQUi','EgidU','HcUyV','qpDKN','wdiVT','\x20флоты\x20из\x20','shots','Не\x20удалось','mkdirSync','\x20удалить\x20ф','Подгружены','rLFDh','\x20окончена,','role','418168yBcTMy','ibkbv','Сессия\x20вос','Сервер\x20слу','обязателен','parse','playerIds','writeFileS','shot_resul','toISOStrin','koWiO','я\x20для\x20сесс','ы:\x20','bSocket-по','length','152822efUbLh','Оба\x20игрока','player2','debug','пка\x20games','role_assig','\x20готовы.\x20Б','pcoFo','log','тся:\x20','CmSIF',']\x20[','use','connected','values','829299CxZVxe','ync','info','айл\x20','gameOver','battleData','error','Создана\x20па','DwlvD','pause','warn','IrqDe','Игра\x20','\x20в\x20сессии\x20','MyObH','shoot','ии\x20','окет:\x20','playerId','VOSks','turn','UORxR','Opteo',',\x20ходит\x20','join','push','KWaVn','\x20в\x20','роль\x20','battle_sta','kzYgg','sockets','findIndex','xqDnA','MzTab','Создана\x20но','\x20после\x20выс','reconnect','entries','Kxhns','й\x20тип','.json','cdlAu','становлена','MOfZF','splice','includes','Назначена\x20','split','every','вая\x20сессия','MRGuY',':\x20до=',',\x20после=','static','Рестарт\x20бо','3583720KPLyYY','readFileSy','stsTw','wpWFl','ned','JXLcf','stringify','winner','→\x20Новое\x20We','SykeP','fleet','\x20сохранены','6YPsKel'];_0x5b85=function(){return _0x29fa5b;};return _0x5b85();}import{send as _0x3774f5}from'./utils.js';const A=0x2377*-0x1+-0x2032+0x4f6d,u=_0x1d749a[_0x7f24c0(0x15c)](_0x7f24c0(0x19c)+_0x7f24c0(0x1ab)),b={};function a(_0x8c0209,_0x3e1e10=_0x7f24c0(0x146)){const _0x1fdeef=_0x7f24c0,_0x4381b7=new Date()[_0x1fdeef(0x12f)+'g']()[_0x1fdeef(0x1a7)]('T','\x20')[_0x1fdeef(0x174)]('.')[0xe25+-0x1afa+-0x16d*-0x9];console[_0x1fdeef(0x13d)]('['+_0x4381b7+_0x1fdeef(0x140)+_0x3e1e10+']\x20'+_0x8c0209);}function _0x5876(_0x1d84d5,_0x546b4f){const _0x2c5992=_0x5b85();return _0x5876=function(_0x252cd2,_0x5e3c52){_0x252cd2=_0x252cd2-(0x605*-0x3+-0x3*-0xf1+0x1049);let _0xb2676a=_0x2c5992[_0x252cd2];return _0xb2676a;},_0x5876(_0x1d84d5,_0x546b4f);}_0x5935ee[_0x7f24c0(0x18a)](u)||(_0x5935ee[_0x7f24c0(0x120)](u,{'recursive':!(0x5bf*0x3+0xd7c+-0x1eb9)}),a(_0x7f24c0(0x14b)+_0x7f24c0(0x139),_0x7f24c0(0x1ae)));const P=_0x352c0a();P[_0x7f24c0(0x141)](_0x352c0a[_0x7f24c0(0x17a)](_0x7f24c0(0x1ac)));const W=P[_0x7f24c0(0x19f)](A,()=>a(_0x7f24c0(0x129)+_0x7f24c0(0x1a6)+_0x7f24c0(0x1b9)+'t:'+A,_0x7f24c0(0x1ae))),B=new _0x59f9f7({'server':W});B['on'](_0x7f24c0(0x1b5),_0x331255=>{const _0x8a8d78=_0x7f24c0,_0x3f39e3={'IrqDe':function(_0x10cc30,_0x3c163d,_0x12b02f){return _0x10cc30(_0x3c163d,_0x12b02f);},'MyObH':_0x8a8d78(0x1b4),'stsTw':function(_0x1cb886,_0x18c2b0,_0x30ba74){return _0x1cb886(_0x18c2b0,_0x30ba74);},'qpDKN':_0x8a8d78(0x18c)+_0x8a8d78(0x1c3),'koWiO':_0x8a8d78(0x14e),'NjQrh':function(_0x550741,_0x55c120,_0xaeba8a){return _0x550741(_0x55c120,_0xaeba8a);},'eelNJ':_0x8a8d78(0x138),'ZqiOm':_0x8a8d78(0x14a),'lLYuK':_0x8a8d78(0x191)+_0x8a8d78(0x12a),'pcoFo':function(_0x97fb66,_0x57e5fc,_0x1c66cd){return _0x97fb66(_0x57e5fc,_0x1c66cd);},'omQUi':_0x8a8d78(0x1a5),'TEIGJ':function(_0x2ac112,_0x35fee7){return _0x2ac112===_0x35fee7;},'lUoIU':_0x8a8d78(0x114),'NAiOs':function(_0x3cc6b8,_0x521b3f){return _0x3cc6b8===_0x521b3f;},'cytmd':_0x8a8d78(0x137),'MOfZF':_0x8a8d78(0x10e),'CmSIF':function(_0xb6af,_0x2aded7,_0x22849a){return _0xb6af(_0x2aded7,_0x22849a);},'YucuK':_0x8a8d78(0x146),'cdlAu':_0x8a8d78(0x169),'DwlvD':function(_0x2c4f5d,_0x5b35fb){return _0x2c4f5d!==_0x5b35fb;},'xGBFf':_0x8a8d78(0x161)+'rt','tVQYY':function(_0x4e2e67,_0xf2723a,_0x3e1abc){return _0x4e2e67(_0xf2723a,_0x3e1abc);},'KWaVn':_0x8a8d78(0x153),'tlyYM':function(_0x4d19d6,_0x2ba603,_0x488359){return _0x4d19d6(_0x2ba603,_0x488359);},'Opteo':_0x8a8d78(0x1a8)+_0x8a8d78(0x189),'KDwXx':function(_0x1adf63,_0x26b5c5,_0x50a2b0){return _0x1adf63(_0x26b5c5,_0x50a2b0);},'MzTab':function(_0x4e75d5,_0x89b330){return _0x4e75d5&&_0x89b330;},'xqDnA':_0x8a8d78(0x12e)+'t','UORxR':function(_0x50199c,_0x16ac09){return _0x50199c||_0x16ac09;},'VOSks':function(_0x57017d,_0x6f0ac0,_0x52149f){return _0x57017d(_0x6f0ac0,_0x52149f);},'Kxhns':function(_0x45ae73,_0x434675,_0x372e41){return _0x45ae73(_0x434675,_0x372e41);},'kzYgg':_0x8a8d78(0x1c0)+_0x8a8d78(0x16c),'uvwMj':function(_0x10cfee,_0x5336d6,_0x4b174f){return _0x10cfee(_0x5336d6,_0x4b174f);},'EgidU':_0x8a8d78(0x13a)+_0x8a8d78(0x180),'SykeP':function(_0xa1c2ea,_0x2dae75){return _0xa1c2ea===_0x2dae75;},'wdiVT':function(_0x4c32c3,_0x429df8,_0x3e9d69){return _0x4c32c3(_0x429df8,_0x3e9d69);},'JXLcf':_0x8a8d78(0x142),'TnAAD':_0x8a8d78(0x1b7),'XvVGG':_0x8a8d78(0x190),'MRGuY':function(_0x3a5cff,_0xec2206,_0x519502){return _0x3a5cff(_0xec2206,_0x519502);},'HxJSH':function(_0x3748c4,_0x188740,_0x16de68){return _0x3748c4(_0x188740,_0x16de68);},'wpWFl':_0x8a8d78(0x14d),'SzBre':function(_0x38bcc0,_0x2f4b4e){return _0x38bcc0(_0x2f4b4e);},'HcUyV':_0x8a8d78(0x184)+_0x8a8d78(0x133)+_0x8a8d78(0x19b),'rLFDh':_0x8a8d78(0x1be),'dWcow':_0x8a8d78(0x110)};_0x3f39e3[_0x8a8d78(0x1ad)](a,_0x3f39e3[_0x8a8d78(0x11a)]),_0x331255[_0x8a8d78(0x1bc)]=!(-0x15fc+-0x3c7*0x3+-0x1*-0x2151),_0x331255[_0x8a8d78(0x125)]=null,_0x331255[_0x8a8d78(0x1b1)]=null,_0x331255['on'](_0x3f39e3[_0x8a8d78(0x123)],_0x263915=>{const _0x1a4c09=_0x8a8d78,_0x45a61d={'ibkbv':function(_0x494d42,_0x5ac693,_0xf80642){const _0x251190=_0x5876;return _0x3f39e3[_0x251190(0x14f)](_0x494d42,_0x5ac693,_0xf80642);},'vSVGx':_0x3f39e3[_0x1a4c09(0x152)]};let _0x1d39c5;try{_0x1d39c5=JSON[_0x1a4c09(0x12b)](_0x263915);}catch{_0x3f39e3[_0x1a4c09(0x17e)](a,_0x3f39e3[_0x1a4c09(0x11b)],_0x3f39e3[_0x1a4c09(0x130)]);return;}const {type:_0x18bd5b,secret_id:_0x218354,role:_0x4c8892,playerId:_0x302f4e}=_0x1d39c5;if(_0x3f39e3[_0x1a4c09(0x1aa)](a,_0x1a4c09(0x1bb)+_0x1a4c09(0x1af)+'\x20'+_0x18bd5b,_0x3f39e3[_0x1a4c09(0x1bf)]),!_0x218354){_0x331255[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x18b)],'message':_0x3f39e3[_0x1a4c09(0x10d)]}));return;}b[_0x218354]||(b[_0x218354]={'sockets':{'player1':null,'player2':null}},_0x3f39e3[_0x1a4c09(0x13c)](a,_0x1a4c09(0x167)+_0x1a4c09(0x176)+'\x20'+_0x218354,_0x3f39e3[_0x1a4c09(0x1bf)]));const _0x5e1fd3=b[_0x218354];switch(_0x5e1fd3[_0x1a4c09(0x12c)]=_0x5e1fd3[_0x1a4c09(0x12c)]||{'player1':null,'player2':null},_0x18bd5b){case _0x3f39e3[_0x1a4c09(0x118)]:_0x3f39e3[_0x1a4c09(0x19a)](_0x5e1fd3[_0x1a4c09(0x12c)][_0x1a4c09(0x114)],_0x302f4e)?_0x331255[_0x1a4c09(0x125)]=_0x3f39e3[_0x1a4c09(0x1b0)]:_0x3f39e3[_0x1a4c09(0x1b6)](_0x5e1fd3[_0x1a4c09(0x12c)][_0x1a4c09(0x137)],_0x302f4e)?_0x331255[_0x1a4c09(0x125)]=_0x3f39e3[_0x1a4c09(0x199)]:(_0x331255[_0x1a4c09(0x125)]=_0x5e1fd3[_0x1a4c09(0x163)][_0x1a4c09(0x114)]?_0x3f39e3[_0x1a4c09(0x199)]:_0x3f39e3[_0x1a4c09(0x1b0)],_0x5e1fd3[_0x1a4c09(0x12c)][_0x331255[_0x1a4c09(0x125)]]=_0x302f4e),_0x331255[_0x1a4c09(0x156)]=_0x302f4e;{const _0x3c0bba=_0x1d749a[_0x1a4c09(0x15c)](u,_0x218354+_0x1a4c09(0x16d));if(_0x5935ee[_0x1a4c09(0x18a)](_0x3c0bba)){const _0x291614=JSON[_0x1a4c09(0x12b)](_0x5935ee[_0x1a4c09(0x17d)+'nc'](_0x3c0bba,_0x3f39e3[_0x1a4c09(0x170)]));_0x291614[_0x1a4c09(0x114)]&&_0x291614[_0x1a4c09(0x137)]&&(_0x5e1fd3[_0x1a4c09(0x149)]=_0x291614,_0x5e1fd3[_0x1a4c09(0x1c2)+_0x1a4c09(0x113)]={'player1':JSON[_0x1a4c09(0x12b)](JSON[_0x1a4c09(0x182)](_0x291614[_0x1a4c09(0x114)])),'player2':JSON[_0x1a4c09(0x12b)](JSON[_0x1a4c09(0x182)](_0x291614[_0x1a4c09(0x137)]))},_0x3f39e3[_0x1a4c09(0x13f)](a,_0x1a4c09(0x122)+_0x1a4c09(0x11d)+_0x1a4c09(0x18e)+_0x331255[_0x1a4c09(0x125)],_0x3f39e3[_0x1a4c09(0x19e)]));}}break;case _0x3f39e3[_0x1a4c09(0x16e)]:if(![_0x3f39e3[_0x1a4c09(0x1b0)],_0x3f39e3[_0x1a4c09(0x199)]][_0x1a4c09(0x172)](_0x4c8892)||_0x3f39e3[_0x1a4c09(0x14c)](_0x5e1fd3[_0x1a4c09(0x12c)][_0x4c8892],_0x302f4e))return;_0x331255[_0x1a4c09(0x125)]=_0x4c8892,_0x331255[_0x1a4c09(0x156)]=_0x302f4e,_0x5e1fd3[_0x1a4c09(0x12c)][_0x331255[_0x1a4c09(0x125)]]=_0x302f4e;{const _0x37540e=_0x1d749a[_0x1a4c09(0x15c)](u,_0x218354+_0x1a4c09(0x16d));if(_0x5935ee[_0x1a4c09(0x18a)](_0x37540e)){const _0x307af8=JSON[_0x1a4c09(0x12b)](_0x5935ee[_0x1a4c09(0x17d)+'nc'](_0x37540e,_0x3f39e3[_0x1a4c09(0x170)]));_0x307af8[_0x1a4c09(0x114)]&&_0x307af8[_0x1a4c09(0x137)]&&(_0x5e1fd3[_0x1a4c09(0x149)]=_0x307af8,_0x5e1fd3[_0x1a4c09(0x1c2)+_0x1a4c09(0x113)]={'player1':JSON[_0x1a4c09(0x12b)](JSON[_0x1a4c09(0x182)](_0x307af8[_0x1a4c09(0x114)])),'player2':JSON[_0x1a4c09(0x12b)](JSON[_0x1a4c09(0x182)](_0x307af8[_0x1a4c09(0x137)]))},_0x3f39e3[_0x1a4c09(0x1aa)](a,_0x1a4c09(0x122)+_0x1a4c09(0x11d)+_0x1a4c09(0x18e)+_0x331255[_0x1a4c09(0x125)],_0x3f39e3[_0x1a4c09(0x19e)]));}}break;case _0x3f39e3[_0x1a4c09(0x18f)]:_0x3f39e3[_0x1a4c09(0x19d)](a,_0x1a4c09(0x161)+_0x1a4c09(0x196)+_0x331255[_0x1a4c09(0x125)]+_0x1a4c09(0x151)+_0x218354,_0x3f39e3[_0x1a4c09(0x19e)]),_0x5e1fd3[_0x1a4c09(0x149)]=_0x5e1fd3[_0x1a4c09(0x149)]||{},_0x5e1fd3[_0x1a4c09(0x149)][_0x331255[_0x1a4c09(0x125)]]=_0x1d39c5[_0x1a4c09(0x186)],_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x11e)]=_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x11e)]||[],_0x5935ee[_0x1a4c09(0x12d)+_0x1a4c09(0x145)](_0x1d749a[_0x1a4c09(0x15c)](u,_0x218354+_0x1a4c09(0x16d)),JSON[_0x1a4c09(0x182)](_0x5e1fd3[_0x1a4c09(0x149)],null,-0x882+-0x2*0x5ab+0x16*0xe7)),_0x3f39e3[_0x1a4c09(0x17e)](a,_0x1a4c09(0x1b8)+_0x1a4c09(0x117)+_0x331255[_0x1a4c09(0x125)]+_0x1a4c09(0x187),_0x3f39e3[_0x1a4c09(0x1bf)]),_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x114)]&&_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x137)]&&(_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x158)]=_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x158)]||_0x3f39e3[_0x1a4c09(0x1b0)],_0x5e1fd3[_0x1a4c09(0x1c2)+_0x1a4c09(0x113)]={'player1':JSON[_0x1a4c09(0x12b)](JSON[_0x1a4c09(0x182)](_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x114)])),'player2':JSON[_0x1a4c09(0x12b)](JSON[_0x1a4c09(0x182)](_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x137)]))},_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x1c2)+_0x1a4c09(0x113)]=_0x5e1fd3[_0x1a4c09(0x1c2)+_0x1a4c09(0x113)],_0x5935ee[_0x1a4c09(0x12d)+_0x1a4c09(0x145)](_0x1d749a[_0x1a4c09(0x15c)](u,_0x218354+_0x1a4c09(0x16d)),JSON[_0x1a4c09(0x182)](_0x5e1fd3[_0x1a4c09(0x149)],null,-0x2353+0x7*-0x3b0+0x3d25)),_0x3f39e3[_0x1a4c09(0x13f)](a,_0x1a4c09(0x136)+_0x1a4c09(0x13b)+_0x1a4c09(0x10f)+_0x1a4c09(0x13e)+_0x218354+_0x1a4c09(0x15b)+_0x5e1fd3[_0x1a4c09(0x149)][_0x1a4c09(0x158)],_0x3f39e3[_0x1a4c09(0x19e)]),[_0x3f39e3[_0x1a4c09(0x1b0)],_0x3f39e3[_0x1a4c09(0x199)]][_0x1a4c09(0x192)](_0x418ec3=>{const _0x247807=_0x1a4c09;_0x45a61d[_0x247807(0x127)](_0x3774f5,_0x5e1fd3[_0x247807(0x163)][_0x418ec3],{'type':_0x45a61d[_0x247807(0x111)],'fleet':_0x5e1fd3[_0x247807(0x149)][_0x418ec3],'battle_ready':!(0x1264+0x209*-0x13+-0x1d*-0xb3),'turn':_0x5e1fd3[_0x247807(0x149)][_0x247807(0x158)],'shots':_0x5e1fd3[_0x247807(0x149)][_0x247807(0x11e)]});}));return;case _0x3f39e3[_0x1a4c09(0x15e)]:{const {x:_0x331211,y:_0x4c0c09}=_0x1d39c5,_0x56aad7=b[_0x218354],_0x418dcb=_0x56aad7[_0x1a4c09(0x149)];if(_0x3f39e3[_0x1a4c09(0x14c)](_0x418dcb[_0x1a4c09(0x158)],_0x331255[_0x1a4c09(0x125)]))return _0x3f39e3[_0x1a4c09(0x194)](_0x3774f5,_0x331255,{'type':_0x3f39e3[_0x1a4c09(0x18b)],'message':_0x3f39e3[_0x1a4c09(0x15a)]});const _0x3d0768=_0x3f39e3[_0x1a4c09(0x19a)](_0x331255[_0x1a4c09(0x125)],_0x3f39e3[_0x1a4c09(0x1b0)])?_0x3f39e3[_0x1a4c09(0x199)]:_0x3f39e3[_0x1a4c09(0x1b0)],_0x244a15=_0x418dcb[_0x3d0768];let _0xe75ec6=!(-0x1198+0x1f53*0x1+0x1f6*-0x7),_0x34e97f=null;for(const [_0x428ad4,_0x5ecba6]of Object[_0x1a4c09(0x16a)](_0x244a15)){const _0x510515=_0x5ecba6[_0x1a4c09(0x164)](_0x5ef002=>_0x5ef002['x']===_0x331211&&_0x5ef002['y']===_0x4c0c09);if(_0x3f39e3[_0x1a4c09(0x14c)](_0x510515,-(-0x157c+0x781*0x1+0xdfc))){_0xe75ec6=!(-0x245*-0x4+0x1*0x143f+-0x1d53);const _0x5914dd=_0x5ecba6[_0x1a4c09(0x134)];_0x5ecba6[_0x1a4c09(0x171)](_0x510515,-0xc84+0x265b+0x2*-0xceb);const _0x24eac9=_0x5ecba6[_0x1a4c09(0x134)];_0x3f39e3[_0x1a4c09(0x194)](a,_0x1a4c09(0x112)+'в\x20'+_0x428ad4+_0x1a4c09(0x1a0)+_0x3d0768+_0x1a4c09(0x178)+_0x5914dd+_0x1a4c09(0x179)+_0x24eac9,_0x3f39e3[_0x1a4c09(0x1bf)]),_0x3f39e3[_0x1a4c09(0x1b6)](_0x24eac9,-0x1766*0x1+-0x14a*0xa+0x244a)&&(_0x3f39e3[_0x1a4c09(0x1a4)](a,_0x1a4c09(0x1c1)+_0x428ad4+_0x1a4c09(0x198),_0x3f39e3[_0x1a4c09(0x19e)]),_0x34e97f={'ship':_0x428ad4,'coords':_0x56aad7[_0x1a4c09(0x1c2)+_0x1a4c09(0x113)][_0x3d0768][_0x428ad4]});break;}}const _0x1f0d8a=Object[_0x1a4c09(0x143)](_0x244a15)[_0x1a4c09(0x175)](_0x439ed6=>_0x439ed6[_0x1a4c09(0x134)]===0x19ca*0x1+-0x1*-0x785+-0x214f);_0x3f39e3[_0x1a4c09(0x166)](!_0xe75ec6,!_0x1f0d8a)&&(_0x418dcb[_0x1a4c09(0x158)]=_0x3d0768);const _0x60cf5f={'type':_0x3f39e3[_0x1a4c09(0x165)],'x':_0x331211,'y':_0x4c0c09,'isHit':_0xe75ec6,'by':_0x331255[_0x1a4c09(0x125)],'turn':_0x418dcb[_0x1a4c09(0x158)]};_0x1f0d8a&&(_0x60cf5f[_0x1a4c09(0x148)]=!(0x7f5+-0x1d*-0x14+0xa39*-0x1),_0x60cf5f[_0x1a4c09(0x183)]=_0x331255[_0x1a4c09(0x125)]),_0x34e97f&&(_0x60cf5f[_0x1a4c09(0x1bd)]=_0x34e97f),_0x418dcb[_0x1a4c09(0x11e)]=_0x418dcb[_0x1a4c09(0x11e)]||[],_0x418dcb[_0x1a4c09(0x11e)][_0x1a4c09(0x15d)]({'x':_0x331211,'y':_0x4c0c09,'isHit':_0xe75ec6,'by':_0x331255[_0x1a4c09(0x125)],'sunk':_0x3f39e3[_0x1a4c09(0x159)](_0x34e97f,null),'gameOver':_0x1f0d8a,'winner':_0x1f0d8a?_0x331255[_0x1a4c09(0x125)]:null});const _0x5f1bac=_0x1d749a[_0x1a4c09(0x15c)](u,_0x218354+_0x1a4c09(0x16d));if(_0x1f0d8a){try{_0x5935ee[_0x1a4c09(0x195)](_0x5f1bac),_0x3f39e3[_0x1a4c09(0x14f)](a,_0x1a4c09(0x150)+_0x218354+(_0x1a4c09(0x124)+_0x1a4c09(0x1c4)+'ён'),_0x3f39e3[_0x1a4c09(0x19e)]);}catch(_0x40fb9c){_0x3f39e3[_0x1a4c09(0x157)](a,_0x1a4c09(0x11f)+_0x1a4c09(0x121)+_0x1a4c09(0x147)+_0x5f1bac+':\x20'+_0x40fb9c[_0x1a4c09(0x1be)],_0x3f39e3[_0x1a4c09(0x18b)]);}delete b[_0x218354];}else _0x5935ee[_0x1a4c09(0x12d)+_0x1a4c09(0x145)](_0x5f1bac,JSON[_0x1a4c09(0x182)](_0x418dcb,null,-0x261c+-0xb9c+-0x18dd*-0x2)),_0x3f39e3[_0x1a4c09(0x1a4)](a,_0x1a4c09(0x150)+_0x218354+(_0x1a4c09(0x1b3)+_0x1a4c09(0x168)+_0x1a4c09(0x115)),_0x3f39e3[_0x1a4c09(0x1bf)]);_0x3f39e3[_0x1a4c09(0x16b)](_0x3774f5,_0x56aad7[_0x1a4c09(0x163)][_0x1a4c09(0x114)],_0x60cf5f),_0x3f39e3[_0x1a4c09(0x1aa)](_0x3774f5,_0x56aad7[_0x1a4c09(0x163)][_0x1a4c09(0x137)],_0x60cf5f);return;}default:_0x331255[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x18b)],'message':_0x3f39e3[_0x1a4c09(0x162)]}));return;}_0x331255[_0x1a4c09(0x1b1)]=_0x218354,_0x5e1fd3[_0x1a4c09(0x163)][_0x331255[_0x1a4c09(0x125)]]=_0x331255,_0x3f39e3[_0x1a4c09(0x1ba)](a,_0x1a4c09(0x173)+_0x1a4c09(0x160)+_0x331255[_0x1a4c09(0x125)]+_0x1a4c09(0x151)+_0x218354,_0x3f39e3[_0x1a4c09(0x19e)]),_0x331255[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x119)],'role':_0x331255[_0x1a4c09(0x125)]}));const _0x1b9baa=_0x5e1fd3[_0x1a4c09(0x163)][_0x1a4c09(0x114)],_0x5efe3e=_0x5e1fd3[_0x1a4c09(0x163)][_0x1a4c09(0x137)],_0x1d3748=!!_0x3f39e3[_0x1a4c09(0x166)](_0x1b9baa,_0x5efe3e);_0x3f39e3[_0x1a4c09(0x185)](_0x18bd5b,_0x3f39e3[_0x1a4c09(0x118)])?_0x1d3748?(_0x3f39e3[_0x1a4c09(0x11c)](a,_0x1a4c09(0x136)+_0x1a4c09(0x1a1)+_0x1a4c09(0x132)+_0x218354,_0x3f39e3[_0x1a4c09(0x19e)]),_0x1b9baa[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x181)]})),_0x5efe3e[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x181)]}))):_0x331255[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x1a9)]})):_0x1d3748?(_0x3f39e3[_0x1a4c09(0x194)](a,_0x1a4c09(0x128)+_0x1a4c09(0x16f)+':\x20'+_0x218354,_0x3f39e3[_0x1a4c09(0x19e)]),_0x1b9baa[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x1b2)]})),_0x5efe3e[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x1b2)]}))):_0x331255[_0x1a4c09(0x1a2)](JSON[_0x1a4c09(0x182)]({'type':_0x3f39e3[_0x1a4c09(0x1a9)]})),_0x5e1fd3[_0x1a4c09(0x149)]?.[_0x1a4c09(0x114)]&&_0x5e1fd3[_0x1a4c09(0x149)]?.[_0x1a4c09(0x137)]&&_0x1d3748&&(_0x3f39e3[_0x1a4c09(0x177)](a,_0x1a4c09(0x17b)+_0x1a4c09(0x131)+_0x1a4c09(0x154)+_0x218354,_0x3f39e3[_0x1a4c09(0x19e)]),[_0x3f39e3[_0x1a4c09(0x1b0)],_0x3f39e3[_0x1a4c09(0x199)]][_0x1a4c09(0x192)](_0x172631=>{const _0x2b4ee7=_0x1a4c09;_0x5e1fd3[_0x2b4ee7(0x163)][_0x172631][_0x2b4ee7(0x1a2)](JSON[_0x2b4ee7(0x182)]({'type':_0x45a61d[_0x2b4ee7(0x111)],'fleet':_0x5e1fd3[_0x2b4ee7(0x149)][_0x172631],'battle_ready':!(0x14ba+-0x1bf*0x2+-0x2*0x89e),'turn':_0x5e1fd3[_0x2b4ee7(0x149)][_0x2b4ee7(0x158)],'shots':_0x5e1fd3[_0x2b4ee7(0x149)][_0x2b4ee7(0x11e)]}));}));}),_0x331255['on'](_0x3f39e3[_0x8a8d78(0x116)],()=>{const _0x82df26=_0x8a8d78,{secret_id:_0x589459,role:_0x57cfc2}=_0x331255;if(_0x3f39e3[_0x82df26(0x159)](!_0x589459,!_0x57cfc2))return;const _0x1deda3=b[_0x589459];if(!_0x1deda3)return;_0x3f39e3[_0x82df26(0x1c5)](a,_0x82df26(0x18d)+_0x82df26(0x155)+_0x57cfc2+_0x82df26(0x15f)+_0x589459,_0x3f39e3[_0x82df26(0x19e)]),_0x1deda3[_0x82df26(0x163)][_0x57cfc2]=null;const _0x12b9e4=_0x3f39e3[_0x82df26(0x1b6)](_0x57cfc2,_0x3f39e3[_0x82df26(0x1b0)])?_0x3f39e3[_0x82df26(0x199)]:_0x3f39e3[_0x82df26(0x1b0)],_0x5e6132=_0x1deda3[_0x82df26(0x163)][_0x12b9e4];_0x3f39e3[_0x82df26(0x1ba)](_0x3774f5,_0x5e6132,{'type':_0x3f39e3[_0x82df26(0x17f)]});});});