function _0x1b59(_0x9533fe,_0x563176){const _0x1b6b8e=_0x36a0();return _0x1b59=function(_0x66173e,_0xc25e0){_0x66173e=_0x66173e-(-0x43*0x62+-0x161+-0x1*-0x1c0f);let _0x19740f=_0x1b6b8e[_0x66173e];return _0x19740f;},_0x1b59(_0x9533fe,_0x563176);}const _0x4aff87=_0x1b59;(function(_0x10197d,_0x1148e9){const _0x203996=_0x1b59,_0x4fdb61=_0x10197d();while(!![]){try{const _0x480332=parseInt(_0x203996(0x120))/(-0x176*0x14+-0x22d7+0x4010)*(parseInt(_0x203996(0x153))/(0x1464+-0x2*0x359+0x36c*-0x4))+parseInt(_0x203996(0x1b9))/(-0x1231+-0x265f+0x3893)*(parseInt(_0x203996(0x180))/(0xf55+0x1*-0xd79+-0x1d8))+parseInt(_0x203996(0x127))/(0x13bb*0x1+-0x8*-0x43+-0x15ce)+-parseInt(_0x203996(0x124))/(-0x2175+0xe38+-0x1343*-0x1)+-parseInt(_0x203996(0x169))/(0x26f*-0xb+-0xf06+0x6a*0x65)+parseInt(_0x203996(0x181))/(-0x1412+-0x1431*0x1+0x284b)*(parseInt(_0x203996(0x12c))/(0x6b3+0x8a5+-0x1*0xf4f))+-parseInt(_0x203996(0x151))/(0x2045+-0x11*-0xb+0x107b*-0x2)*(parseInt(_0x203996(0x11f))/(-0x6fd+0x6d7+-0x7*-0x7));if(_0x480332===_0x1148e9)break;else _0x4fdb61['push'](_0x4fdb61['shift']());}catch(_0x1b4d03){_0x4fdb61['push'](_0x4fdb61['shift']());}}}(_0x36a0,0x23b5a+0x11b3c*-0x4+0x4e816));import _0x1df027 from'express';import{WebSocketServer as _0x7c02d0,WebSocket as _0x2ca3b7}from'ws';import _0x12f839 from'fs';import _0x59a088 from'path';import{send as _0x2192aa}from'./utils.js';const P=process[_0x4aff87(0x11e)][_0x4aff87(0x138)]||-0x1*0x21f+-0x1e6b+0x2c42,d=_0x59a088[_0x4aff87(0x194)](_0x4aff87(0x12a)+_0x4aff87(0x18c)),b={};function a(_0x3dee63,_0x39e916=_0x4aff87(0x13c)){const _0x264e2d=_0x4aff87,_0x1008cd=new Date()[_0x264e2d(0x13f)+'g']()[_0x264e2d(0x19b)]('T','\x20')[_0x264e2d(0x159)]('.')[0xf9+0xa2c+-0xb25];console[_0x264e2d(0x157)]('['+_0x1008cd+_0x264e2d(0x1bb)+_0x39e916+']\x20'+_0x3dee63);}_0x12f839[_0x4aff87(0x19e)](d)||(_0x12f839[_0x4aff87(0x163)](d,{'recursive':!(0x1fa3+0x1e28*-0x1+-0x17b)}),a(_0x4aff87(0x191)+_0x4aff87(0x1aa),_0x4aff87(0x1ca)));const T=_0x1df027();T[_0x4aff87(0x134)](_0x1df027[_0x4aff87(0x161)](_0x4aff87(0x116)));const B=T[_0x4aff87(0x136)](P,()=>a(_0x4aff87(0x119)+_0x4aff87(0x1b8)+_0x4aff87(0x192)+'t:'+P,_0x4aff87(0x1ca))),G=new _0x7c02d0({'server':B});function _0x36a0(){const _0x38dbce=['роль\x20','\x20окончена,','734363ChBHLW','.json','rt\x20от\x20','ока\x20','\x20потоплен!','emsmq','тся:\x20','sunk','KoCdO','Подгружены','вая\x20сессия','role_assig','reconnect','battle','unlinkSync','EFEVf','lQGIu','\x20в\x20','ии\x20','Отключён\x20с','←\x20Получено','айл\x20',':\x20до=','133240vNJWjj','664VSSWtO','turn','gomTY',',\x20после=','ый\x20JSON','ZDZjB','становлена','Данные\x20игр','\x20сохранены','\x20удалить\x20ф','Rodxr','ames','\x20в\x20сессии\x20','slice','hrMdE','\x20обновлена','Создана\x20па','//localhos','Неизвестны','join','connected','resume','→\x20Новое\x20We','mfYCw','battleData','sdHWf','replace','ZobhZ','stringify','existsSync','wYPYc','трела','JsAOy','zkIOR','ync','values','Некорректн','Рестарт\x20бо','writeFileS','Успешный\x20r','message','пка\x20games','QRDqv','chat','debug','й\x20тип','findIndex','Попадание\x20','HGWMu','secret_id','zSIVr','shots','battle_sta','\x20флоты\x20из\x20','splice','шает\x20http:','9fTrsQZ','meZDm',']\x20[','fleet','OPEN','\x20готовы.\x20Б','Игра\x20','winner','rVNXj','entries','vLgws','Сессия\x20вос','→\x20Корабль\x20','send','player1','Создана\x20но','push','init','gameOver','ой\x20начинае','AcQBO','nRxGh','tWClx','qrkdH','ы:\x20','edvxh','LTaUP','initialFle','\x20у\x20','error','erDZc','every','PXddB','файла\x20для\x20','NirTl','cgNuy','connect','utf-8','nMwAN','public','zaZSe','BQEjT','Сервер\x20слу','pause','\x20после\x20выс','parse','dmsrL','env','11KnuZAV','2656VtJTag','role',',\x20ходит\x20','forEach','547344cKelIh','IPnmi','gKmLy','111270QkvEOB','shoot','fxXGg','./server/g','\x20файл\x20удал','20997dZxmLW','Оба\x20игрока','length','string','jHreX','дключение','окет:\x20','warn','use','waiting','listen','BTqbk','PORT','includes','player2','sockets','info','AToBV','\x20сообщение','toISOStrin','shot_resul','GjqcN','я\x20для\x20сесс','Не\x20удалось','XSUWj','роли\x20','SnQSG','TIGjD','Назначена\x20','YOvrZ','ля\x20','lIRuF','LkvPf','readFileSy','JBXNW','close','\x20подключен','1543780IhETFU','aWQJk','160SSZuHj','connection','econnect\x20д','secret_id\x20','log','playerId','split','bSocket-по','playerIds','qUeHp','ets','bFXsJ','ZckOf','ned','static','обязателен','mkdirSync','isAlive','readyState','jfMcb'];_0x36a0=function(){return _0x38dbce;};return _0x36a0();}G['on'](_0x4aff87(0x154),_0x593857=>{const _0x10af11=_0x4aff87,_0x59d4ae={'ZobhZ':function(_0x4d98b4,_0x1f250a){return _0x4d98b4===_0x1f250a;},'qrkdH':_0x10af11(0x176),'fxXGg':function(_0x21494d,_0x61e675,_0x34e45d){return _0x21494d(_0x61e675,_0x34e45d);},'tWClx':_0x10af11(0x1a5)+_0x10af11(0x185),'LkvPf':_0x10af11(0x133),'edvxh':function(_0x1896d6,_0x391c18,_0x2cae94){return _0x1896d6(_0x391c18,_0x2cae94);},'mfYCw':_0x10af11(0x1ad),'HGWMu':_0x10af11(0x10c),'KoCdO':_0x10af11(0x156)+_0x10af11(0x162),'zkIOR':_0x10af11(0x113),'lIRuF':_0x10af11(0x1c7),'aWQJk':_0x10af11(0x13a),'AToBV':function(_0x283bb3,_0x1b4085){return _0x283bb3!==_0x1b4085;},'dmsrL':function(_0x472173,_0x1fe0d8){return _0x472173===_0x1fe0d8;},'gomTY':_0x10af11(0x114),'gKmLy':_0x10af11(0x13c),'IPnmi':_0x10af11(0x174)+_0x10af11(0x160),'rVNXj':_0x10af11(0x175),'YOvrZ':function(_0x420fbe,_0x3a6d53,_0x42ab32){return _0x420fbe(_0x3a6d53,_0x42ab32);},'meZDm':_0x10af11(0x1b5)+'rt','bFXsJ':function(_0x31ebc7,_0x476e29,_0x114a33){return _0x31ebc7(_0x476e29,_0x114a33);},'NirTl':function(_0x167110,_0x4aa27d,_0x5c125d){return _0x167110(_0x4aa27d,_0x5c125d);},'BQEjT':function(_0x484e44,_0x2e5f39,_0x2d1af0){return _0x484e44(_0x2e5f39,_0x2d1af0);},'EFEVf':_0x10af11(0x128),'cgNuy':function(_0x3700b7,_0x45898e){return _0x3700b7!==_0x45898e;},'Rodxr':function(_0x4d31d2,_0x5a55d6,_0x50a3d3){return _0x4d31d2(_0x5a55d6,_0x50a3d3);},'LTaUP':function(_0x271444,_0x401992){return _0x271444&&_0x401992;},'PXddB':_0x10af11(0x140)+'t','vLgws':function(_0x5dad45,_0x2cf2de){return _0x5dad45||_0x2cf2de;},'lQGIu':function(_0x286322,_0x1ba78b,_0x364cf2){return _0x286322(_0x1ba78b,_0x364cf2);},'nRxGh':function(_0x4fc50b,_0x59bc68,_0x2b136a){return _0x4fc50b(_0x59bc68,_0x2b136a);},'GjqcN':function(_0x30ba1a,_0x2fee8c,_0x1854b1){return _0x30ba1a(_0x2fee8c,_0x1854b1);},'JsAOy':function(_0x4ad2c7,_0x41b995,_0x4526c1){return _0x4ad2c7(_0x41b995,_0x4526c1);},'qUeHp':_0x10af11(0x1ac),'zSIVr':function(_0x4e14aa,_0x4d2322){return _0x4e14aa!=_0x4d2322;},'JBXNW':_0x10af11(0x12f),'ZDZjB':_0x10af11(0x193)+_0x10af11(0x1ae),'SnQSG':function(_0x4e13f5,_0x1aa42e){return _0x4e13f5&&_0x1aa42e;},'BTqbk':function(_0xf89b7f,_0x5b2ab5){return _0xf89b7f===_0x5b2ab5;},'zaZSe':function(_0x302c5e,_0x105820,_0x4b35c9){return _0x302c5e(_0x105820,_0x4b35c9);},'sdHWf':_0x10af11(0x195),'jHreX':_0x10af11(0x135),'nMwAN':function(_0x4dd39d,_0x3abc83,_0x383403){return _0x4dd39d(_0x3abc83,_0x383403);},'ZckOf':_0x10af11(0x196),'QRDqv':function(_0x15e35f,_0x50bfe8,_0x1388ea){return _0x15e35f(_0x50bfe8,_0x1388ea);},'erDZc':function(_0x3f74eb,_0x47962a){return _0x3f74eb===_0x47962a;},'wYPYc':_0x10af11(0x11a),'emsmq':function(_0x229f72,_0x4110ee){return _0x229f72(_0x4110ee);},'hrMdE':_0x10af11(0x197)+_0x10af11(0x15a)+_0x10af11(0x131),'jfMcb':_0x10af11(0x1a9),'TIGjD':_0x10af11(0x14f)};_0x59d4ae[_0x10af11(0x16e)](a,_0x59d4ae[_0x10af11(0x18f)]),_0x593857[_0x10af11(0x164)]=!(-0x8bf*-0x1+-0x43b+-0x4*0x121),_0x593857[_0x10af11(0x121)]=null,_0x593857[_0x10af11(0x1b2)]=null,_0x593857['on'](_0x59d4ae[_0x10af11(0x166)],_0x35807b=>{const _0x360686=_0x10af11,_0x57cdd1={'XSUWj':function(_0x1e9f5b,_0x256712,_0x1e1c60){const _0x18a6e4=_0x1b59;return _0x59d4ae[_0x18a6e4(0x129)](_0x1e9f5b,_0x256712,_0x1e1c60);},'AcQBO':_0x59d4ae[_0x360686(0x1d0)]};let _0x3aa459;try{_0x3aa459=JSON[_0x360686(0x11c)](_0x35807b);}catch{_0x59d4ae[_0x360686(0x129)](a,_0x59d4ae[_0x360686(0x1cf)],_0x59d4ae[_0x360686(0x14c)]);return;}const {type:_0x3a6563,secret_id:_0xc6af97,role:_0x75f6eb,playerId:_0x4e4872}=_0x3aa459;if(_0x59d4ae[_0x360686(0x108)](a,_0x360686(0x17d)+_0x360686(0x13e)+'\x20'+_0x3a6563,_0x59d4ae[_0x360686(0x198)]),!_0xc6af97){_0x593857[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x1b1)],'message':_0x59d4ae[_0x360686(0x171)]}));return;}b[_0xc6af97]||(b[_0xc6af97]={'sockets':{'player1':null,'player2':null}},_0x59d4ae[_0x360686(0x108)](a,_0x360686(0x1c8)+_0x360686(0x173)+'\x20'+_0xc6af97,_0x59d4ae[_0x360686(0x198)]));const _0x52bc0c=b[_0xc6af97];switch(_0x52bc0c[_0x360686(0x15b)]=_0x52bc0c[_0x360686(0x15b)]||{'player1':null,'player2':null},_0x3a6563){case _0x59d4ae[_0x360686(0x1a2)]:{for(const _0x4f9a5c of[_0x59d4ae[_0x360686(0x14b)],_0x59d4ae[_0x360686(0x152)]])_0x52bc0c[_0x360686(0x15b)]?.[_0x4f9a5c]&&(!_0x52bc0c[_0x360686(0x13b)][_0x4f9a5c]||_0x59d4ae[_0x360686(0x13d)](_0x52bc0c[_0x360686(0x13b)][_0x4f9a5c][_0x360686(0x165)],_0x2ca3b7[_0x360686(0x1bd)]))&&(_0x52bc0c[_0x360686(0x15b)][_0x4f9a5c]=null);if(_0x52bc0c[_0x360686(0x15b)]=_0x52bc0c[_0x360686(0x15b)]||{'player1':null,'player2':null},_0x59d4ae[_0x360686(0x19c)](_0x52bc0c[_0x360686(0x15b)][_0x360686(0x1c7)],_0x4e4872))_0x593857[_0x360686(0x121)]=_0x59d4ae[_0x360686(0x14b)];else{if(_0x59d4ae[_0x360686(0x11d)](_0x52bc0c[_0x360686(0x15b)][_0x360686(0x13a)],_0x4e4872))_0x593857[_0x360686(0x121)]=_0x59d4ae[_0x360686(0x152)];else{if(!_0x52bc0c[_0x360686(0x15b)][_0x360686(0x1c7)])_0x593857[_0x360686(0x121)]=_0x59d4ae[_0x360686(0x14b)],_0x52bc0c[_0x360686(0x15b)][_0x360686(0x1c7)]=_0x4e4872;else{if(!_0x52bc0c[_0x360686(0x15b)][_0x360686(0x13a)])_0x593857[_0x360686(0x121)]=_0x59d4ae[_0x360686(0x152)],_0x52bc0c[_0x360686(0x15b)][_0x360686(0x13a)]=_0x4e4872;else return;}}}_0x593857[_0x360686(0x158)]=_0x4e4872,_0x593857[_0x360686(0x1b2)]=_0xc6af97;const _0x2d21b1=_0x59a088[_0x360686(0x194)](d,_0xc6af97+_0x360686(0x16a));if(_0x12f839[_0x360686(0x19e)](_0x2d21b1)){const _0x38cf6c=JSON[_0x360686(0x11c)](_0x12f839[_0x360686(0x14d)+'nc'](_0x2d21b1,_0x59d4ae[_0x360686(0x183)]));_0x38cf6c[_0x360686(0x1c7)]&&_0x38cf6c[_0x360686(0x13a)]&&(_0x52bc0c[_0x360686(0x199)]=_0x38cf6c,_0x52bc0c[_0x360686(0x10a)+_0x360686(0x15d)]={'player1':JSON[_0x360686(0x11c)](JSON[_0x360686(0x19d)](_0x38cf6c[_0x360686(0x1c7)])),'player2':JSON[_0x360686(0x11c)](JSON[_0x360686(0x19d)](_0x38cf6c[_0x360686(0x13a)]))},_0x59d4ae[_0x360686(0x108)](a,_0x360686(0x172)+_0x360686(0x1b6)+_0x360686(0x110)+_0x360686(0x145)+_0x593857[_0x360686(0x121)],_0x59d4ae[_0x360686(0x126)]));}_0x52bc0c[_0x360686(0x13b)][_0x593857[_0x360686(0x121)]]=_0x593857,_0x59d4ae[_0x360686(0x108)](a,_0x360686(0x148)+_0x360686(0x167)+_0x593857[_0x360686(0x121)]+_0x360686(0x18d)+_0xc6af97,_0x59d4ae[_0x360686(0x126)]),_0x593857[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x125)],'role':_0x593857[_0x360686(0x121)]}));break;}case _0x59d4ae[_0x360686(0x1c1)]:{if(_0x52bc0c[_0x360686(0x15b)]=_0x52bc0c[_0x360686(0x15b)]||{'player1':null,'player2':null},![_0x59d4ae[_0x360686(0x14b)],_0x59d4ae[_0x360686(0x152)]][_0x360686(0x139)](_0x75f6eb)||_0x59d4ae[_0x360686(0x13d)](_0x52bc0c[_0x360686(0x15b)][_0x75f6eb],_0x4e4872))return;_0x593857[_0x360686(0x121)]=_0x75f6eb,_0x593857[_0x360686(0x158)]=_0x4e4872,_0x593857[_0x360686(0x1b2)]=_0xc6af97;const _0x3a2cf5=_0x59a088[_0x360686(0x194)](d,_0xc6af97+_0x360686(0x16a));if(_0x12f839[_0x360686(0x19e)](_0x3a2cf5)){const _0x454d69=JSON[_0x360686(0x11c)](_0x12f839[_0x360686(0x14d)+'nc'](_0x3a2cf5,_0x59d4ae[_0x360686(0x183)]));_0x454d69[_0x360686(0x1c7)]&&_0x454d69[_0x360686(0x13a)]&&(_0x52bc0c[_0x360686(0x199)]=_0x454d69,_0x52bc0c[_0x360686(0x10a)+_0x360686(0x15d)]={'player1':JSON[_0x360686(0x11c)](JSON[_0x360686(0x19d)](_0x454d69[_0x360686(0x1c7)])),'player2':JSON[_0x360686(0x11c)](JSON[_0x360686(0x19d)](_0x454d69[_0x360686(0x13a)]))},_0x59d4ae[_0x360686(0x108)](a,_0x360686(0x172)+_0x360686(0x1b6)+_0x360686(0x110)+_0x593857[_0x360686(0x121)],_0x59d4ae[_0x360686(0x126)]));}_0x52bc0c[_0x360686(0x13b)][_0x593857[_0x360686(0x121)]]=_0x593857,_0x59d4ae[_0x360686(0x149)](a,_0x360686(0x1a8)+_0x360686(0x155)+_0x360686(0x14a)+_0x593857[_0x360686(0x121)]+_0x360686(0x17a)+_0xc6af97,_0x59d4ae[_0x360686(0x126)]),_0x593857[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x125)],'role':_0x593857[_0x360686(0x121)]}));break;}case _0x59d4ae[_0x360686(0x1ba)]:_0x59d4ae[_0x360686(0x15e)](a,_0x360686(0x1b5)+_0x360686(0x16b)+_0x593857[_0x360686(0x121)]+_0x360686(0x18d)+_0xc6af97,_0x59d4ae[_0x360686(0x126)]),_0x52bc0c[_0x360686(0x199)]=_0x52bc0c[_0x360686(0x199)]||{},_0x52bc0c[_0x360686(0x199)][_0x593857[_0x360686(0x121)]]=_0x3aa459[_0x360686(0x1bc)],_0x52bc0c[_0x360686(0x199)][_0x360686(0x1b4)]=_0x52bc0c[_0x360686(0x199)][_0x360686(0x1b4)]||[],_0x12f839[_0x360686(0x1a7)+_0x360686(0x1a3)](_0x59a088[_0x360686(0x194)](d,_0xc6af97+_0x360686(0x16a)),JSON[_0x360686(0x19d)](_0x52bc0c[_0x360686(0x199)],null,0x14f3+0x1ffe+-0x3*0x11a5)),_0x59d4ae[_0x360686(0x111)](a,_0x360686(0x188)+_0x360686(0x16c)+_0x593857[_0x360686(0x121)]+_0x360686(0x189),_0x59d4ae[_0x360686(0x198)]),_0x52bc0c[_0x360686(0x199)][_0x360686(0x1c7)]&&_0x52bc0c[_0x360686(0x199)][_0x360686(0x13a)]&&(_0x52bc0c[_0x360686(0x199)][_0x360686(0x182)]=_0x52bc0c[_0x360686(0x199)][_0x360686(0x182)]||_0x59d4ae[_0x360686(0x14b)],_0x52bc0c[_0x360686(0x10a)+_0x360686(0x15d)]={'player1':JSON[_0x360686(0x11c)](JSON[_0x360686(0x19d)](_0x52bc0c[_0x360686(0x199)][_0x360686(0x1c7)])),'player2':JSON[_0x360686(0x11c)](JSON[_0x360686(0x19d)](_0x52bc0c[_0x360686(0x199)][_0x360686(0x13a)]))},_0x52bc0c[_0x360686(0x199)][_0x360686(0x10a)+_0x360686(0x15d)]=_0x52bc0c[_0x360686(0x10a)+_0x360686(0x15d)],_0x12f839[_0x360686(0x1a7)+_0x360686(0x1a3)](_0x59a088[_0x360686(0x194)](d,_0xc6af97+_0x360686(0x16a)),JSON[_0x360686(0x19d)](_0x52bc0c[_0x360686(0x199)],null,0x1*0x49f+0x4e0+-0x97d)),_0x59d4ae[_0x360686(0x118)](a,_0x360686(0x12d)+_0x360686(0x1be)+_0x360686(0x1cc)+_0x360686(0x16f)+_0xc6af97+_0x360686(0x122)+_0x52bc0c[_0x360686(0x199)][_0x360686(0x182)],_0x59d4ae[_0x360686(0x126)]),[_0x59d4ae[_0x360686(0x14b)],_0x59d4ae[_0x360686(0x152)]][_0x360686(0x123)](_0x3e21a9=>{const _0x45a5dd=_0x360686;_0x57cdd1[_0x45a5dd(0x144)](_0x2192aa,_0x52bc0c[_0x45a5dd(0x13b)][_0x3e21a9],{'type':_0x57cdd1[_0x45a5dd(0x1cd)],'fleet':_0x52bc0c[_0x45a5dd(0x199)][_0x3e21a9],'battle_ready':!(0x86*0x2f+0x3b*0x4d+-0x1*0x2a59),'turn':_0x52bc0c[_0x45a5dd(0x199)][_0x45a5dd(0x182)],'shots':_0x52bc0c[_0x45a5dd(0x199)][_0x45a5dd(0x1b4)]});}));return;case _0x59d4ae[_0x360686(0x178)]:{const {x:_0x2ccd24,y:_0x2ebd0b}=_0x3aa459,_0x53e96c=b[_0xc6af97],_0x37e6ac=_0x53e96c[_0x360686(0x199)];if(_0x59d4ae[_0x360686(0x112)](_0x37e6ac[_0x360686(0x182)],_0x593857[_0x360686(0x121)]))return;const _0x3f4405=_0x59d4ae[_0x360686(0x11d)](_0x593857[_0x360686(0x121)],_0x59d4ae[_0x360686(0x14b)])?_0x59d4ae[_0x360686(0x152)]:_0x59d4ae[_0x360686(0x14b)],_0x58cce7=_0x37e6ac[_0x3f4405];let _0x402546=!(0x155f*0x1+-0xed*0xd+-0x1*0x955),_0x4d4f90=null;for(const [_0x25bafa,_0x5e0d75]of Object[_0x360686(0x1c2)](_0x58cce7)){const _0x2ea173=_0x5e0d75[_0x360686(0x1af)](_0x28c6bc=>_0x28c6bc['x']===_0x2ccd24&&_0x28c6bc['y']===_0x2ebd0b);if(_0x59d4ae[_0x360686(0x112)](_0x2ea173,-(-0x106d+-0x1711*0x1+0x277f))){_0x402546=!(-0x1894*-0x1+-0xa07+0x95*-0x19);const _0x2dcca1=_0x5e0d75[_0x360686(0x12e)];_0x5e0d75[_0x360686(0x1b7)](_0x2ea173,-0x1*0x57b+0x7*0xb+0x52f);const _0x2714f1=_0x5e0d75[_0x360686(0x12e)];_0x59d4ae[_0x360686(0x108)](a,_0x360686(0x1b0)+'в\x20'+_0x25bafa+_0x360686(0x10b)+_0x3f4405+_0x360686(0x17f)+_0x2dcca1+_0x360686(0x184)+_0x2714f1,_0x59d4ae[_0x360686(0x198)]),_0x59d4ae[_0x360686(0x11d)](_0x2714f1,0x269*0xf+-0x527*-0x5+-0x3dea)&&(_0x59d4ae[_0x360686(0x18b)](a,_0x360686(0x1c5)+_0x25bafa+_0x360686(0x16d),_0x59d4ae[_0x360686(0x126)]),_0x4d4f90={'ship':_0x25bafa,'coords':_0x53e96c[_0x360686(0x10a)+_0x360686(0x15d)][_0x3f4405][_0x25bafa]});break;}}const _0x15d87b=Object[_0x360686(0x1a4)](_0x58cce7)[_0x360686(0x10e)](_0xea3c34=>_0xea3c34[_0x360686(0x12e)]===0xb44+0x14d5+-0x1*0x2019);_0x59d4ae[_0x360686(0x109)](!_0x402546,!_0x15d87b)&&(_0x37e6ac[_0x360686(0x182)]=_0x3f4405);const _0x1e73b0={'type':_0x59d4ae[_0x360686(0x10f)],'x':_0x2ccd24,'y':_0x2ebd0b,'isHit':_0x402546,'by':_0x593857[_0x360686(0x121)],'turn':_0x37e6ac[_0x360686(0x182)]};_0x15d87b&&(_0x1e73b0[_0x360686(0x1cb)]=!(0xf7f*-0x1+0x2606*-0x1+0x3585),_0x1e73b0[_0x360686(0x1c0)]=_0x593857[_0x360686(0x121)]),_0x4d4f90&&(_0x1e73b0[_0x360686(0x170)]=_0x4d4f90),_0x37e6ac[_0x360686(0x1b4)]=_0x37e6ac[_0x360686(0x1b4)]||[],_0x37e6ac[_0x360686(0x1b4)][_0x360686(0x1c9)]({'x':_0x2ccd24,'y':_0x2ebd0b,'isHit':_0x402546,'by':_0x593857[_0x360686(0x121)],'sunk':_0x59d4ae[_0x360686(0x1c3)](_0x4d4f90,null),'gameOver':_0x15d87b,'winner':_0x15d87b?_0x593857[_0x360686(0x121)]:null});const _0x26771a=_0x59a088[_0x360686(0x194)](d,_0xc6af97+_0x360686(0x16a));if(_0x15d87b){try{_0x12f839[_0x360686(0x177)](_0x26771a),_0x59d4ae[_0x360686(0x179)](a,_0x360686(0x1bf)+_0xc6af97+(_0x360686(0x168)+_0x360686(0x12b)+'ён'),_0x59d4ae[_0x360686(0x126)]);}catch(_0x14d861){_0x59d4ae[_0x360686(0x129)](a,_0x360686(0x143)+_0x360686(0x18a)+_0x360686(0x17e)+_0x26771a+':\x20'+_0x14d861[_0x360686(0x1a9)],_0x59d4ae[_0x360686(0x1b1)]);}delete b[_0xc6af97];}else _0x12f839[_0x360686(0x1a7)+_0x360686(0x1a3)](_0x26771a,JSON[_0x360686(0x19d)](_0x37e6ac,null,0x2569*-0x1+-0x21ee+0x4759)),_0x59d4ae[_0x360686(0x1ce)](a,_0x360686(0x1bf)+_0xc6af97+(_0x360686(0x190)+_0x360686(0x11b)+_0x360686(0x1a0)),_0x59d4ae[_0x360686(0x198)]);_0x59d4ae[_0x360686(0x141)](_0x2192aa,_0x53e96c[_0x360686(0x13b)][_0x360686(0x1c7)],_0x1e73b0),_0x59d4ae[_0x360686(0x1a1)](_0x2192aa,_0x53e96c[_0x360686(0x13b)][_0x360686(0x13a)],_0x1e73b0);return;}case _0x59d4ae[_0x360686(0x15c)]:{const {text:_0x16af79}=_0x3aa459;if(_0x59d4ae[_0x360686(0x1b3)](typeof _0x16af79,_0x59d4ae[_0x360686(0x14e)])||!_0x593857[_0x360686(0x1b2)])return;const _0x41d8ba=b[_0x593857[_0x360686(0x1b2)]];if(!_0x41d8ba)return;const _0x466a51={'type':_0x59d4ae[_0x360686(0x15c)],'from':_0x593857[_0x360686(0x121)],'text':_0x16af79[_0x360686(0x18e)](0x2a*-0x2a+0x9d1+-0x1*0x2ed,0x2670+-0xe0f+0x166d*-0x1)};[_0x59d4ae[_0x360686(0x14b)],_0x59d4ae[_0x360686(0x152)]][_0x360686(0x123)](_0x2a85be=>{const _0x3dfc20=_0x360686,_0x448522=_0x41d8ba[_0x3dfc20(0x13b)][_0x2a85be];_0x448522&&_0x59d4ae[_0x3dfc20(0x19c)](_0x448522[_0x3dfc20(0x165)],_0x448522[_0x3dfc20(0x1bd)])&&_0x448522[_0x3dfc20(0x1c6)](JSON[_0x3dfc20(0x19d)](_0x466a51));});return;}default:_0x593857[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x1b1)],'message':_0x59d4ae[_0x360686(0x186)]}));return;}_0x593857[_0x360686(0x1b2)]=_0xc6af97,_0x52bc0c[_0x360686(0x13b)][_0x593857[_0x360686(0x121)]]=_0x593857,_0x59d4ae[_0x360686(0x141)](a,_0x360686(0x148)+_0x360686(0x167)+_0x593857[_0x360686(0x121)]+_0x360686(0x18d)+_0xc6af97,_0x59d4ae[_0x360686(0x126)]),_0x593857[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x125)],'role':_0x593857[_0x360686(0x121)]}));const _0x5574a1=_0x52bc0c[_0x360686(0x13b)][_0x360686(0x1c7)],_0x2b1841=_0x52bc0c[_0x360686(0x13b)][_0x360686(0x13a)],_0x5eb72b=!!_0x59d4ae[_0x360686(0x146)](_0x5574a1,_0x2b1841);_0x59d4ae[_0x360686(0x137)](_0x3a6563,_0x59d4ae[_0x360686(0x1a2)])?_0x5eb72b?(_0x59d4ae[_0x360686(0x117)](a,_0x360686(0x12d)+_0x360686(0x150)+_0x360686(0x1d1)+_0xc6af97,_0x59d4ae[_0x360686(0x126)]),_0x5574a1[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x19a)]})),_0x2b1841[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x19a)]}))):_0x593857[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x130)]})):_0x5eb72b?(_0x59d4ae[_0x360686(0x115)](a,_0x360686(0x1c4)+_0x360686(0x187)+':\x20'+_0xc6af97,_0x59d4ae[_0x360686(0x126)]),_0x5574a1[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x15f)]})),_0x2b1841[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x15f)]}))):_0x593857[_0x360686(0x1c6)](JSON[_0x360686(0x19d)]({'type':_0x59d4ae[_0x360686(0x130)]})),_0x52bc0c[_0x360686(0x199)]?.[_0x360686(0x1c7)]&&_0x52bc0c[_0x360686(0x199)]?.[_0x360686(0x13a)]&&_0x5eb72b&&(_0x59d4ae[_0x360686(0x15e)](a,_0x360686(0x1a6)+_0x360686(0x142)+_0x360686(0x17b)+_0xc6af97,_0x59d4ae[_0x360686(0x126)]),[_0x59d4ae[_0x360686(0x14b)],_0x59d4ae[_0x360686(0x152)]][_0x360686(0x123)](_0x208635=>{const _0x40a367=_0x360686;_0x52bc0c[_0x40a367(0x13b)][_0x208635][_0x40a367(0x1c6)](JSON[_0x40a367(0x19d)]({'type':_0x59d4ae[_0x40a367(0x1d0)],'fleet':_0x52bc0c[_0x40a367(0x199)][_0x208635],'battle_ready':!(0x2034+-0x1b05+0x1*-0x52f),'turn':_0x52bc0c[_0x40a367(0x199)][_0x40a367(0x182)],'shots':_0x52bc0c[_0x40a367(0x199)][_0x40a367(0x1b4)]}));}));}),_0x593857['on'](_0x59d4ae[_0x10af11(0x147)],()=>{const _0x5dd280=_0x10af11,{secret_id:_0x380c75,role:_0xa639ba}=_0x593857;if(_0x59d4ae[_0x5dd280(0x1c3)](!_0x380c75,!_0xa639ba))return;const _0x22d68d=b[_0x380c75];if(!_0x22d68d)return;_0x59d4ae[_0x5dd280(0x1ab)](a,_0x5dd280(0x17c)+_0x5dd280(0x132)+_0xa639ba+_0x5dd280(0x17a)+_0x380c75,_0x59d4ae[_0x5dd280(0x126)]),_0x22d68d[_0x5dd280(0x13b)][_0xa639ba]=null;const _0x4f2a28=_0x59d4ae[_0x5dd280(0x10d)](_0xa639ba,_0x59d4ae[_0x5dd280(0x14b)])?_0x59d4ae[_0x5dd280(0x152)]:_0x59d4ae[_0x5dd280(0x14b)],_0x439510=_0x22d68d[_0x5dd280(0x13b)][_0x4f2a28];_0x59d4ae[_0x5dd280(0x118)](_0x2192aa,_0x439510,{'type':_0x59d4ae[_0x5dd280(0x19f)]});});});