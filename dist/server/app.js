const _0x5e8320=_0x20f7;(function(_0x265912,_0x5dd479){const _0x45440e=_0x20f7,_0x13fe3b=_0x265912();while(!![]){try{const _0x59f7a0=-parseInt(_0x45440e(0x1fa))/(0xdf*-0x22+0xc8*-0x23+-0x12fd*-0x3)+parseInt(_0x45440e(0x203))/(0x12c6+0x15b4+-0x118*0x25)+-parseInt(_0x45440e(0x1ea))/(0x1*-0x24e3+-0x1fa9*-0x1+0x53d)*(parseInt(_0x45440e(0x20c))/(0x24c4+-0xf6a*0x2+0x2*-0x2f6))+parseInt(_0x45440e(0x226))/(0x1*-0x6aa+0x1*0x1777+-0x10c8)+parseInt(_0x45440e(0x1f8))/(0x1037+-0x17*-0xb+-0x112e)*(-parseInt(_0x45440e(0x242))/(-0x1413+0x125*0x2+0x30*0x5f))+-parseInt(_0x45440e(0x1f7))/(0x3*-0x50e+0x1d2a+-0xdf8)+parseInt(_0x45440e(0x1bb))/(0x9fb+-0x4b*-0x33+-0x115*0x17);if(_0x59f7a0===_0x5dd479)break;else _0x13fe3b['push'](_0x13fe3b['shift']());}catch(_0x354b32){_0x13fe3b['push'](_0x13fe3b['shift']());}}}(_0x180b,-0x37121*0x2+0xe3019+0x643f4));import _0x1fd148 from'express';import{WebSocketServer as _0x452a86,WebSocket as _0x225708}from'ws';import _0xdf07dc from'fs';function _0x20f7(_0x5cee5f,_0x355426){const _0x420ffe=_0x180b();return _0x20f7=function(_0x192da6,_0x1bc3f2){_0x192da6=_0x192da6-(0x723+0x6bb+0x211*-0x6);let _0x382194=_0x420ffe[_0x192da6];return _0x382194;},_0x20f7(_0x5cee5f,_0x355426);}import _0x412138 from'path';import{send as _0x1428a9}from'./utils.js';function _0x180b(){const _0x49f03a=['unlinkSync','cWCbA','Успешный\x20r','uAbtq','ии\x20','mswQp','shoot','close','reconnect','secret_id\x20','→\x20Корабль\x20','XEYPK','secret_id','становлена','Назначена\x20','й\x20reconnec','е\x20заполнен','UiCxZ','existsSync','txsVm','splice','OPEN','efFkH','writeFileS','\x20подключен','Неизвестны','\x20у\x20','7zoXclG',',\x20после=','vhUSP','role_assig','BaXZV','Данные\x20игр','IILIp','Рестарт\x20бо','parse','MLTNN','pFzkg','окет:\x20','replace','QXuYd','init','info','every','battle','XQwHs','message','ANcia','PORT','HerzR','includes','\x20сохранены','role','роли\x20','connection','GXheR','pause','mAjTj','\x20обновлена','htofm','readyState','тся:\x20','Игра\x20','ваш\x20ход','я\x20роль\x20или','stringify','rt\x20от\x20','atfgH','QSQbR','TjCfw','FMDOS','iWsTB','\x20сообщение','isAlive','readFileSy','\x20окончена,',':\x20до=','length','\x20потоплен!','KEJZB','\x20удалить\x20ф','mkdirSync','values','debug','//localhos','XurCu','ames','chat','ый\x20JSON','\x20флоты\x20из\x20','env','Оба\x20игрока','CUMgw','connected','ля\x20','Сервер\x20слу','slice','→\x20Новое\x20We','ока\x20','Сейчас\x20не\x20','string','findIndex','OExVZ','bSocket-по','2955555uaiUuI','log','а\x20двумя\x20иг','use','push','й\x20тип','роками','\x20в\x20сессии\x20','entries','Комната\x20уж','toISOStrin','xynoI',',\x20ходит\x20','Подгружены','warn','winner','t:\x20неверна','ync','NFySg','ets','listen','join','обязателен','GHuhv','дключение','EKDTp','gameOver','BJoEm','tvXDc','файла\x20для\x20','shots','lSqAS','waiting','resume','battle_sta','./server/g','sunk','fleet','роль\x20','error','Сессия\x20вос','player1','split','LutXp','FTXHt','трела','ы:\x20','3xmqRye','ой\x20начинае','Невозможны','battleData','ned','Попадание\x20','←\x20Получено','Создана\x20но','пка\x20games','econnect\x20д','айл\x20','playerIds','player2','8411952QCsprM','1983966cBRFAA','\x20после\x20выс','1078533zpvlyN','utf-8','LdBjI','Создана\x20па','wSEGM','playerId','Не\x20удалось','шает\x20http:','forEach','3364346fomPOB','\x20файл\x20удал','вая\x20сессия',']\x20[','send','turn','shot_resul','cqIzq','BgDvM','794956nePVlo','static','sockets','connect','vgFEF','slATC','sWvps','YFRZE','CRwER','kXLTX','EYwmt','SlTio','\x20playerId','initialFle','fxyWJ','oessG','я\x20для\x20сесс','Некорректн','\x20готовы.\x20Б','.json','\x20в\x20','Отключён\x20с','brvMk','ddxrZ','wErUX','public','7690750EqYdsp'];_0x180b=function(){return _0x49f03a;};return _0x180b();}const P=process[_0x5e8320(0x1ad)][_0x5e8320(0x183)]||0x1991+0x1499+0x1*-0x2272,u=_0x412138[_0x5e8320(0x1d0)](_0x5e8320(0x1de)+_0x5e8320(0x1a9)),g={};function a(_0x30d3c5,_0x4ee7ee=_0x5e8320(0x17d)){const _0x2fc81b=_0x5e8320,_0x2251c7=new Date()[_0x2fc81b(0x1c5)+'g']()[_0x2fc81b(0x17a)]('T','\x20')[_0x2fc81b(0x1e5)]('.')[-0x1d43*0x1+0x1ca5+-0x1*-0x9e];console[_0x2fc81b(0x1bc)]('['+_0x2251c7+_0x2fc81b(0x206)+_0x4ee7ee+']\x20'+_0x30d3c5);}_0xdf07dc[_0x5e8320(0x239)](u)||(_0xdf07dc[_0x5e8320(0x1a4)](u,{'recursive':!(0xe48+0x51e+-0x1366)}),a(_0x5e8320(0x1fd)+_0x5e8320(0x1f2),_0x5e8320(0x17c)));const T=_0x1fd148();T[_0x5e8320(0x1be)](_0x1fd148[_0x5e8320(0x20d)](_0x5e8320(0x225)));const B=T[_0x5e8320(0x1cf)](P,()=>a(_0x5e8320(0x1b2)+_0x5e8320(0x201)+_0x5e8320(0x1a7)+'t:'+P,_0x5e8320(0x17c))),G=new _0x452a86({'server':B});G['on'](_0x5e8320(0x189),_0x23317a=>{const _0x484554=_0x5e8320,_0x4d709b={'QXuYd':function(_0x2890b6,_0x132f35){return _0x2890b6===_0x132f35;},'mswQp':_0x484554(0x17f),'kXLTX':function(_0x1d26cb,_0x4d9754,_0x54322a){return _0x1d26cb(_0x4d9754,_0x54322a);},'pFzkg':function(_0x28d35d,_0x119ee3,_0x1abf4e){return _0x28d35d(_0x119ee3,_0x1abf4e);},'MLTNN':_0x484554(0x21d)+_0x484554(0x1ab),'vhUSP':_0x484554(0x1c9),'FMDOS':function(_0x386b5a,_0x5adb15,_0x1755b4){return _0x386b5a(_0x5adb15,_0x1755b4);},'atfgH':_0x484554(0x1a6),'EYwmt':_0x484554(0x1e2),'sWvps':_0x484554(0x230)+_0x484554(0x1d1),'oessG':function(_0x4b62cf,_0x1e8123,_0x1caf50){return _0x4b62cf(_0x1e8123,_0x1caf50);},'TjCfw':_0x484554(0x20f),'CRwER':_0x484554(0x1e4),'brvMk':_0x484554(0x1f6),'fxyWJ':function(_0x702067,_0x331318){return _0x702067!==_0x331318;},'NFySg':_0x484554(0x1c4)+_0x484554(0x237)+_0x484554(0x1bd)+_0x484554(0x1c1),'wSEGM':_0x484554(0x1fb),'BJoEm':function(_0x4ec795,_0xa0831f,_0x5b6543){return _0x4ec795(_0xa0831f,_0x5b6543);},'KEJZB':_0x484554(0x17d),'LutXp':_0x484554(0x245)+_0x484554(0x1ee),'XQwHs':_0x484554(0x22f),'slATC':function(_0x1648ba,_0x52be77){return _0x1648ba!==_0x52be77;},'lSqAS':_0x484554(0x1ec)+_0x484554(0x236)+_0x484554(0x1cb)+_0x484554(0x193)+_0x484554(0x218),'BgDvM':function(_0x139db6,_0x30cfa1,_0x5bcf0c){return _0x139db6(_0x30cfa1,_0x5bcf0c);},'ddxrZ':_0x484554(0x1dd)+'rt','txsVm':function(_0x14ba91,_0x11527b,_0x578325){return _0x14ba91(_0x11527b,_0x578325);},'ANcia':_0x484554(0x22d),'SlTio':function(_0x4ff207,_0x5e4910){return _0x4ff207!==_0x5e4910;},'htofm':_0x484554(0x1b6)+_0x484554(0x192),'cqIzq':function(_0x511f7e,_0x5938a8){return _0x511f7e&&_0x5938a8;},'XEYPK':_0x484554(0x209)+'t','UiCxZ':function(_0x4bf37c,_0x1aca0e){return _0x4bf37c||_0x1aca0e;},'FTXHt':function(_0x36f081,_0x4d6488,_0x28bf56){return _0x36f081(_0x4d6488,_0x28bf56);},'GXheR':function(_0x222b15,_0x54632c,_0x559bb3){return _0x222b15(_0x54632c,_0x559bb3);},'tvXDc':function(_0x9b948c,_0x3505e9,_0x410d88){return _0x9b948c(_0x3505e9,_0x410d88);},'iWsTB':function(_0x2f5447,_0x234331,_0x3789a6){return _0x2f5447(_0x234331,_0x3789a6);},'IILIp':_0x484554(0x1aa),'QSQbR':function(_0x2be320,_0x31a4fc){return _0x2be320!=_0x31a4fc;},'wErUX':_0x484554(0x1b7),'EKDTp':_0x484554(0x240)+_0x484554(0x1c0),'HerzR':function(_0x54dc0b,_0x4506b0,_0x699800){return _0x54dc0b(_0x4506b0,_0x699800);},'xynoI':function(_0x2478ea,_0x4171da){return _0x2478ea&&_0x4171da;},'OExVZ':function(_0x42570a,_0x5a52c8,_0x3c8e66){return _0x42570a(_0x5a52c8,_0x3c8e66);},'GHuhv':_0x484554(0x1b0),'CUMgw':_0x484554(0x1db),'efFkH':_0x484554(0x1dc),'cWCbA':function(_0x422000,_0x58f238){return _0x422000===_0x58f238;},'YFRZE':_0x484554(0x18b),'LdBjI':function(_0x48f7b3,_0x256980){return _0x48f7b3(_0x256980);},'XurCu':_0x484554(0x1b4)+_0x484554(0x1ba)+_0x484554(0x1d3),'BaXZV':_0x484554(0x181),'vgFEF':_0x484554(0x22e)};_0x4d709b[_0x484554(0x1fc)](a,_0x4d709b[_0x484554(0x1a8)]),_0x23317a[_0x484554(0x19c)]=!(-0x14b+0x4*-0x169+0x1*0x6ef),_0x23317a[_0x484554(0x187)]=null,_0x23317a[_0x484554(0x233)]=null,_0x23317a['on'](_0x4d709b[_0x484554(0x246)],_0x22c4b4=>{const _0x501931=_0x484554,_0x38ba27={'mAjTj':function(_0x8b262e,_0x800d61,_0x34afbb){const _0x5d4026=_0x20f7;return _0x4d709b[_0x5d4026(0x215)](_0x8b262e,_0x800d61,_0x34afbb);},'uAbtq':_0x4d709b[_0x501931(0x22c)]};let _0x3907ad;try{_0x3907ad=JSON[_0x501931(0x24a)](_0x22c4b4);}catch{_0x4d709b[_0x501931(0x178)](a,_0x4d709b[_0x501931(0x24b)],_0x4d709b[_0x501931(0x244)]);return;}const {type:_0x16de62,secret_id:_0x1fc84f,role:_0x105c62,playerId:_0x2a7a80}=_0x3907ad;if(_0x4d709b[_0x501931(0x199)](a,_0x501931(0x1f0)+_0x501931(0x19b)+'\x20'+_0x16de62,_0x4d709b[_0x501931(0x196)]),!_0x1fc84f){_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x216)],'message':_0x4d709b[_0x501931(0x212)]}));return;}g[_0x1fc84f]||(g[_0x1fc84f]={'sockets':{'player1':null,'player2':null}},_0x4d709b[_0x501931(0x21b)](a,_0x501931(0x1f1)+_0x501931(0x205)+'\x20'+_0x1fc84f,_0x4d709b[_0x501931(0x196)]));const _0x18636a=g[_0x1fc84f];switch(_0x18636a[_0x501931(0x1f5)]=_0x18636a[_0x501931(0x1f5)]||{'player1':null,'player2':null},_0x16de62){case _0x4d709b[_0x501931(0x198)]:{for(const _0x2d9fe3 of[_0x4d709b[_0x501931(0x214)],_0x4d709b[_0x501931(0x222)]])_0x18636a[_0x501931(0x1f5)]?.[_0x2d9fe3]&&(!_0x18636a[_0x501931(0x20e)][_0x2d9fe3]||_0x4d709b[_0x501931(0x21a)](_0x18636a[_0x501931(0x20e)][_0x2d9fe3][_0x501931(0x18f)],_0x225708[_0x501931(0x23c)]))&&(_0x18636a[_0x501931(0x1f5)][_0x2d9fe3]=null);if(_0x18636a[_0x501931(0x1f5)]=_0x18636a[_0x501931(0x1f5)]||{'player1':null,'player2':null},_0x4d709b[_0x501931(0x17b)](_0x18636a[_0x501931(0x1f5)][_0x501931(0x1e4)],_0x2a7a80))_0x23317a[_0x501931(0x187)]=_0x4d709b[_0x501931(0x214)];else{if(_0x4d709b[_0x501931(0x17b)](_0x18636a[_0x501931(0x1f5)][_0x501931(0x1f6)],_0x2a7a80))_0x23317a[_0x501931(0x187)]=_0x4d709b[_0x501931(0x222)];else{if(!_0x18636a[_0x501931(0x1f5)][_0x501931(0x1e4)])_0x23317a[_0x501931(0x187)]=_0x4d709b[_0x501931(0x214)],_0x18636a[_0x501931(0x1f5)][_0x501931(0x1e4)]=_0x2a7a80;else{if(!_0x18636a[_0x501931(0x1f5)][_0x501931(0x1f6)])_0x23317a[_0x501931(0x187)]=_0x4d709b[_0x501931(0x222)],_0x18636a[_0x501931(0x1f5)][_0x501931(0x1f6)]=_0x2a7a80;else{_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x216)],'message':_0x4d709b[_0x501931(0x1cd)]}));return;}}}}_0x23317a[_0x501931(0x1ff)]=_0x2a7a80,_0x23317a[_0x501931(0x233)]=_0x1fc84f;const _0x32cdab=_0x412138[_0x501931(0x1d0)](u,_0x1fc84f+_0x501931(0x21f));if(_0xdf07dc[_0x501931(0x239)](_0x32cdab)){const _0x382df9=JSON[_0x501931(0x24a)](_0xdf07dc[_0x501931(0x19d)+'nc'](_0x32cdab,_0x4d709b[_0x501931(0x1fe)]));_0x382df9[_0x501931(0x1e4)]&&_0x382df9[_0x501931(0x1f6)]&&(_0x18636a[_0x501931(0x1ed)]=_0x382df9,_0x18636a[_0x501931(0x219)+_0x501931(0x1ce)]={'player1':JSON[_0x501931(0x24a)](JSON[_0x501931(0x194)](_0x382df9[_0x501931(0x1e4)])),'player2':JSON[_0x501931(0x24a)](JSON[_0x501931(0x194)](_0x382df9[_0x501931(0x1f6)]))},_0x4d709b[_0x501931(0x1d6)](a,_0x501931(0x1c8)+_0x501931(0x1ac)+_0x501931(0x1d8)+_0x501931(0x188)+_0x23317a[_0x501931(0x187)],_0x4d709b[_0x501931(0x1a2)]));}_0x18636a[_0x501931(0x20e)][_0x23317a[_0x501931(0x187)]]=_0x23317a,_0x4d709b[_0x501931(0x21b)](a,_0x501931(0x235)+_0x501931(0x1e1)+_0x23317a[_0x501931(0x187)]+_0x501931(0x1c2)+_0x1fc84f,_0x4d709b[_0x501931(0x1a2)]),_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x1e6)],'role':_0x23317a[_0x501931(0x187)]}));break;}case _0x4d709b[_0x501931(0x180)]:{if(_0x18636a[_0x501931(0x1f5)]=_0x18636a[_0x501931(0x1f5)]||{'player1':null,'player2':null},![_0x4d709b[_0x501931(0x214)],_0x4d709b[_0x501931(0x222)]][_0x501931(0x185)](_0x105c62)||_0x4d709b[_0x501931(0x211)](_0x18636a[_0x501931(0x1f5)][_0x105c62],_0x2a7a80)){_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x216)],'message':_0x4d709b[_0x501931(0x1da)]}));return;}_0x23317a[_0x501931(0x187)]=_0x105c62,_0x23317a[_0x501931(0x1ff)]=_0x2a7a80,_0x23317a[_0x501931(0x233)]=_0x1fc84f;const _0x4b1b6b=_0x412138[_0x501931(0x1d0)](u,_0x1fc84f+_0x501931(0x21f));if(_0xdf07dc[_0x501931(0x239)](_0x4b1b6b)){const _0x2c8263=JSON[_0x501931(0x24a)](_0xdf07dc[_0x501931(0x19d)+'nc'](_0x4b1b6b,_0x4d709b[_0x501931(0x1fe)]));_0x2c8263[_0x501931(0x1e4)]&&_0x2c8263[_0x501931(0x1f6)]&&(_0x18636a[_0x501931(0x1ed)]=_0x2c8263,_0x18636a[_0x501931(0x219)+_0x501931(0x1ce)]={'player1':JSON[_0x501931(0x24a)](JSON[_0x501931(0x194)](_0x2c8263[_0x501931(0x1e4)])),'player2':JSON[_0x501931(0x24a)](JSON[_0x501931(0x194)](_0x2c8263[_0x501931(0x1f6)]))},_0x4d709b[_0x501931(0x20b)](a,_0x501931(0x1c8)+_0x501931(0x1ac)+_0x501931(0x1d8)+_0x23317a[_0x501931(0x187)],_0x4d709b[_0x501931(0x1a2)]));}_0x18636a[_0x501931(0x20e)][_0x23317a[_0x501931(0x187)]]=_0x23317a,_0x4d709b[_0x501931(0x20b)](a,_0x501931(0x229)+_0x501931(0x1f3)+_0x501931(0x1b1)+_0x23317a[_0x501931(0x187)]+_0x501931(0x220)+_0x1fc84f,_0x4d709b[_0x501931(0x1a2)]),_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x1e6)],'role':_0x23317a[_0x501931(0x187)]}));break;}case _0x4d709b[_0x501931(0x223)]:_0x4d709b[_0x501931(0x23a)](a,_0x501931(0x1dd)+_0x501931(0x195)+_0x23317a[_0x501931(0x187)]+_0x501931(0x1c2)+_0x1fc84f,_0x4d709b[_0x501931(0x1a2)]),_0x18636a[_0x501931(0x1ed)]=_0x18636a[_0x501931(0x1ed)]||{},_0x18636a[_0x501931(0x1ed)][_0x23317a[_0x501931(0x187)]]=_0x3907ad[_0x501931(0x1e0)],_0x18636a[_0x501931(0x1ed)][_0x501931(0x1d9)]=_0x18636a[_0x501931(0x1ed)][_0x501931(0x1d9)]||[],_0xdf07dc[_0x501931(0x23e)+_0x501931(0x1cc)](_0x412138[_0x501931(0x1d0)](u,_0x1fc84f+_0x501931(0x21f)),JSON[_0x501931(0x194)](_0x18636a[_0x501931(0x1ed)],null,0x2cc+0x1*-0x1ad7+-0x180d*-0x1)),_0x4d709b[_0x501931(0x1d6)](a,_0x501931(0x247)+_0x501931(0x1b5)+_0x23317a[_0x501931(0x187)]+_0x501931(0x186),_0x4d709b[_0x501931(0x196)]),_0x18636a[_0x501931(0x1ed)][_0x501931(0x1e4)]&&_0x18636a[_0x501931(0x1ed)][_0x501931(0x1f6)]&&(_0x18636a[_0x501931(0x1ed)][_0x501931(0x208)]=_0x18636a[_0x501931(0x1ed)][_0x501931(0x208)]||_0x4d709b[_0x501931(0x214)],_0x18636a[_0x501931(0x219)+_0x501931(0x1ce)]={'player1':JSON[_0x501931(0x24a)](JSON[_0x501931(0x194)](_0x18636a[_0x501931(0x1ed)][_0x501931(0x1e4)])),'player2':JSON[_0x501931(0x24a)](JSON[_0x501931(0x194)](_0x18636a[_0x501931(0x1ed)][_0x501931(0x1f6)]))},_0x18636a[_0x501931(0x1ed)][_0x501931(0x219)+_0x501931(0x1ce)]=_0x18636a[_0x501931(0x219)+_0x501931(0x1ce)],_0xdf07dc[_0x501931(0x23e)+_0x501931(0x1cc)](_0x412138[_0x501931(0x1d0)](u,_0x1fc84f+_0x501931(0x21f)),JSON[_0x501931(0x194)](_0x18636a[_0x501931(0x1ed)],null,0x3a9*-0x7+0x1*-0x1a02+0x33a3)),_0x4d709b[_0x501931(0x215)](a,_0x501931(0x1ae)+_0x501931(0x21e)+_0x501931(0x1eb)+_0x501931(0x190)+_0x1fc84f+_0x501931(0x1c7)+_0x18636a[_0x501931(0x1ed)][_0x501931(0x208)],_0x4d709b[_0x501931(0x1a2)]),[_0x4d709b[_0x501931(0x214)],_0x4d709b[_0x501931(0x222)]][_0x501931(0x202)](_0x52f985=>{const _0x428ced=_0x501931;_0x38ba27[_0x428ced(0x18c)](_0x1428a9,_0x18636a[_0x428ced(0x20e)][_0x52f985],{'type':_0x38ba27[_0x428ced(0x22a)],'fleet':_0x18636a[_0x428ced(0x1ed)][_0x52f985],'battle_ready':!(-0x22a0+0xbfa*-0x1+0x2e9a),'turn':_0x18636a[_0x428ced(0x1ed)][_0x428ced(0x208)],'shots':_0x18636a[_0x428ced(0x1ed)][_0x428ced(0x1d9)]});}));return;case _0x4d709b[_0x501931(0x182)]:{const {x:_0x34dbab,y:_0x3ecf89}=_0x3907ad,_0x5cbfe2=g[_0x1fc84f],_0x1cef79=_0x5cbfe2[_0x501931(0x1ed)];if(_0x4d709b[_0x501931(0x217)](_0x1cef79[_0x501931(0x208)],_0x23317a[_0x501931(0x187)]))return _0x4d709b[_0x501931(0x215)](_0x1428a9,_0x23317a,{'type':_0x4d709b[_0x501931(0x216)],'message':_0x4d709b[_0x501931(0x18e)]});const _0x2e8108=_0x4d709b[_0x501931(0x17b)](_0x23317a[_0x501931(0x187)],_0x4d709b[_0x501931(0x214)])?_0x4d709b[_0x501931(0x222)]:_0x4d709b[_0x501931(0x214)],_0x2bdbb4=_0x1cef79[_0x2e8108];let _0x5ebe22=!(0x445*-0x3+-0xd4*-0x10+-0x70),_0x184c36=null;for(const [_0x560973,_0x5f5b93]of Object[_0x501931(0x1c3)](_0x2bdbb4)){const _0x53815f=_0x5f5b93[_0x501931(0x1b8)](_0x2e4a5e=>_0x2e4a5e['x']===_0x34dbab&&_0x2e4a5e['y']===_0x3ecf89);if(_0x4d709b[_0x501931(0x217)](_0x53815f,-(0x2*0xc11+0x12b3+0xab5*-0x4))){_0x5ebe22=!(0x2*-0x841+-0x2133*0x1+-0x19*-0x1fd);const _0x20148f=_0x5f5b93[_0x501931(0x1a0)];_0x5f5b93[_0x501931(0x23b)](_0x53815f,0x18ce+-0x2*-0xbe4+-0x3095);const _0x1698c5=_0x5f5b93[_0x501931(0x1a0)];_0x4d709b[_0x501931(0x21b)](a,_0x501931(0x1ef)+'в\x20'+_0x560973+_0x501931(0x241)+_0x2e8108+_0x501931(0x19f)+_0x20148f+_0x501931(0x243)+_0x1698c5,_0x4d709b[_0x501931(0x196)]),_0x4d709b[_0x501931(0x17b)](_0x1698c5,0x10*-0x16f+0x11e6+0x5*0x102)&&(_0x4d709b[_0x501931(0x178)](a,_0x501931(0x231)+_0x560973+_0x501931(0x1a1),_0x4d709b[_0x501931(0x1a2)]),_0x184c36={'ship':_0x560973,'coords':_0x5cbfe2[_0x501931(0x219)+_0x501931(0x1ce)][_0x2e8108][_0x560973]});break;}}const _0x51d324=Object[_0x501931(0x1a5)](_0x2bdbb4)[_0x501931(0x17e)](_0x200311=>_0x200311[_0x501931(0x1a0)]===-0x25b9+0x2413*-0x1+0x49cc);_0x4d709b[_0x501931(0x20a)](!_0x5ebe22,!_0x51d324)&&(_0x1cef79[_0x501931(0x208)]=_0x2e8108);const _0x318784={'type':_0x4d709b[_0x501931(0x232)],'x':_0x34dbab,'y':_0x3ecf89,'isHit':_0x5ebe22,'by':_0x23317a[_0x501931(0x187)],'turn':_0x1cef79[_0x501931(0x208)]};_0x51d324&&(_0x318784[_0x501931(0x1d5)]=!(-0x1fde+-0x1437+0x3415*0x1),_0x318784[_0x501931(0x1ca)]=_0x23317a[_0x501931(0x187)]),_0x184c36&&(_0x318784[_0x501931(0x1df)]=_0x184c36),_0x1cef79[_0x501931(0x1d9)]=_0x1cef79[_0x501931(0x1d9)]||[],_0x1cef79[_0x501931(0x1d9)][_0x501931(0x1bf)]({'x':_0x34dbab,'y':_0x3ecf89,'isHit':_0x5ebe22,'by':_0x23317a[_0x501931(0x187)],'sunk':_0x4d709b[_0x501931(0x238)](_0x184c36,null),'gameOver':_0x51d324,'winner':_0x51d324?_0x23317a[_0x501931(0x187)]:null});const _0x161483=_0x412138[_0x501931(0x1d0)](u,_0x1fc84f+_0x501931(0x21f));if(_0x51d324){try{_0xdf07dc[_0x501931(0x227)](_0x161483),_0x4d709b[_0x501931(0x1e7)](a,_0x501931(0x191)+_0x1fc84f+(_0x501931(0x19e)+_0x501931(0x204)+'ён'),_0x4d709b[_0x501931(0x1a2)]);}catch(_0x38433a){_0x4d709b[_0x501931(0x18a)](a,_0x501931(0x200)+_0x501931(0x1a3)+_0x501931(0x1f4)+_0x161483+':\x20'+_0x38433a[_0x501931(0x181)],_0x4d709b[_0x501931(0x216)]);}delete g[_0x1fc84f];}else _0xdf07dc[_0x501931(0x23e)+_0x501931(0x1cc)](_0x161483,JSON[_0x501931(0x194)](_0x1cef79,null,0xa75*0x1+0x2225*-0x1+0x9*0x2a2)),_0x4d709b[_0x501931(0x1d7)](a,_0x501931(0x191)+_0x1fc84f+(_0x501931(0x18d)+_0x501931(0x1f9)+_0x501931(0x1e8)),_0x4d709b[_0x501931(0x196)]);_0x4d709b[_0x501931(0x18a)](_0x1428a9,_0x5cbfe2[_0x501931(0x20e)][_0x501931(0x1e4)],_0x318784),_0x4d709b[_0x501931(0x19a)](_0x1428a9,_0x5cbfe2[_0x501931(0x20e)][_0x501931(0x1f6)],_0x318784);return;}case _0x4d709b[_0x501931(0x248)]:{const {text:_0x1719c0}=_0x3907ad;if(_0x4d709b[_0x501931(0x197)](typeof _0x1719c0,_0x4d709b[_0x501931(0x224)])||!_0x23317a[_0x501931(0x233)])return;const _0x5dc056=g[_0x23317a[_0x501931(0x233)]];if(!_0x5dc056)return;const _0x17070d={'type':_0x4d709b[_0x501931(0x248)],'from':_0x23317a[_0x501931(0x187)],'text':_0x1719c0[_0x501931(0x1b3)](-0xb4*-0x13+0x1*0x22da+0xb*-0x462,-0x1*-0xe7d+0x16*-0x164+0x120f)};[_0x4d709b[_0x501931(0x214)],_0x4d709b[_0x501931(0x222)]][_0x501931(0x202)](_0x126859=>{const _0x4b028a=_0x501931,_0x56244f=_0x5dc056[_0x4b028a(0x20e)][_0x126859];_0x56244f&&_0x4d709b[_0x4b028a(0x17b)](_0x56244f[_0x4b028a(0x18f)],_0x56244f[_0x4b028a(0x23c)])&&_0x56244f[_0x4b028a(0x207)](JSON[_0x4b028a(0x194)](_0x17070d));});return;}default:_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x216)],'message':_0x4d709b[_0x501931(0x1d4)]}));return;}_0x23317a[_0x501931(0x233)]=_0x1fc84f,_0x18636a[_0x501931(0x20e)][_0x23317a[_0x501931(0x187)]]=_0x23317a,_0x4d709b[_0x501931(0x184)](a,_0x501931(0x235)+_0x501931(0x1e1)+_0x23317a[_0x501931(0x187)]+_0x501931(0x1c2)+_0x1fc84f,_0x4d709b[_0x501931(0x1a2)]),_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x1e6)],'role':_0x23317a[_0x501931(0x187)]}));const _0x44bf9d=_0x18636a[_0x501931(0x20e)][_0x501931(0x1e4)],_0x1bba68=_0x18636a[_0x501931(0x20e)][_0x501931(0x1f6)],_0x46c500=!!_0x4d709b[_0x501931(0x1c6)](_0x44bf9d,_0x1bba68);_0x4d709b[_0x501931(0x17b)](_0x16de62,_0x4d709b[_0x501931(0x198)])?_0x46c500?(_0x4d709b[_0x501931(0x1b9)](a,_0x501931(0x1ae)+_0x501931(0x23f)+_0x501931(0x1e9)+_0x1fc84f,_0x4d709b[_0x501931(0x1a2)]),_0x44bf9d[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x1d2)]})),_0x1bba68[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x1d2)]}))):_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x1af)]})):_0x46c500?(_0x4d709b[_0x501931(0x18a)](a,_0x501931(0x1e3)+_0x501931(0x234)+':\x20'+_0x1fc84f,_0x4d709b[_0x501931(0x1a2)]),_0x44bf9d[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x23d)]})),_0x1bba68[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x23d)]}))):_0x23317a[_0x501931(0x207)](JSON[_0x501931(0x194)]({'type':_0x4d709b[_0x501931(0x1af)]})),_0x18636a[_0x501931(0x1ed)]?.[_0x501931(0x1e4)]&&_0x18636a[_0x501931(0x1ed)]?.[_0x501931(0x1f6)]&&_0x46c500&&(_0x4d709b[_0x501931(0x21b)](a,_0x501931(0x249)+_0x501931(0x21c)+_0x501931(0x22b)+_0x1fc84f,_0x4d709b[_0x501931(0x1a2)]),[_0x4d709b[_0x501931(0x214)],_0x4d709b[_0x501931(0x222)]][_0x501931(0x202)](_0x538ac0=>{const _0x3c7ed5=_0x501931;_0x18636a[_0x3c7ed5(0x20e)][_0x538ac0][_0x3c7ed5(0x207)](JSON[_0x3c7ed5(0x194)]({'type':_0x4d709b[_0x3c7ed5(0x22c)],'fleet':_0x18636a[_0x3c7ed5(0x1ed)][_0x538ac0],'battle_ready':!(0x18be+0x11a8+-0x2a66),'turn':_0x18636a[_0x3c7ed5(0x1ed)][_0x3c7ed5(0x208)],'shots':_0x18636a[_0x3c7ed5(0x1ed)][_0x3c7ed5(0x1d9)]}));}));}),_0x23317a['on'](_0x4d709b[_0x484554(0x210)],()=>{const _0x3c7dff=_0x484554,{secret_id:_0x3578d4,role:_0x43011b}=_0x23317a;if(_0x4d709b[_0x3c7dff(0x238)](!_0x3578d4,!_0x43011b))return;const _0x1dfe81=g[_0x3578d4];if(!_0x1dfe81)return;_0x4d709b[_0x3c7dff(0x23a)](a,_0x3c7dff(0x221)+_0x3c7dff(0x179)+_0x43011b+_0x3c7dff(0x220)+_0x3578d4,_0x4d709b[_0x3c7dff(0x1a2)]),_0x1dfe81[_0x3c7dff(0x20e)][_0x43011b]=null;const _0x2360af=_0x4d709b[_0x3c7dff(0x228)](_0x43011b,_0x4d709b[_0x3c7dff(0x214)])?_0x4d709b[_0x3c7dff(0x222)]:_0x4d709b[_0x3c7dff(0x214)],_0x8b7069=_0x1dfe81[_0x3c7dff(0x20e)][_0x2360af];_0x4d709b[_0x3c7dff(0x1b9)](_0x1428a9,_0x8b7069,{'type':_0x4d709b[_0x3c7dff(0x213)]});});});