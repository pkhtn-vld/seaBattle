const _0x3beb6e=_0x581b;(function(_0x5da126,_0x340472){const _0x17b870=_0x581b,_0x33b875=_0x5da126();while(!![]){try{const _0x466339=parseInt(_0x17b870(0xfb))/(-0x17aa+0x1*0x14c4+0x2e7)+parseInt(_0x17b870(0x101))/(-0x19*0x17d+0x1*0x1b40+0x9f7)*(-parseInt(_0x17b870(0x126))/(0x18bc+0x12d8+-0x2b91))+parseInt(_0x17b870(0xb3))/(-0x262a*0x1+-0xe10+0x343e)*(parseInt(_0x17b870(0x11a))/(-0x2*0x82c+0x313*0xb+-0x1174))+parseInt(_0x17b870(0x161))/(-0x1759+0x9a9+-0x75*-0x1e)+-parseInt(_0x17b870(0x121))/(-0x1*0x1c8d+0x1*0x1e3f+-0x1ab)*(-parseInt(_0x17b870(0xdf))/(-0x24a7*-0x1+0x1c89+-0x4128))+-parseInt(_0x17b870(0x10b))/(0x1*-0x10f3+0x17*-0x11+0x1283*0x1)*(parseInt(_0x17b870(0x13c))/(0x1a*0x56+-0x17f6+0xf44))+-parseInt(_0x17b870(0x174))/(-0x5f7*-0x2+-0xb*-0x2dd+-0x2b62)*(parseInt(_0x17b870(0xbb))/(0x5*0x11c+0x2045*-0x1+-0x1ac5*-0x1));if(_0x466339===_0x340472)break;else _0x33b875['push'](_0x33b875['shift']());}catch(_0x85fd6e){_0x33b875['push'](_0x33b875['shift']());}}}(_0x6b8b,0x421e8+0x1a54*-0x7c+0x14cb00));function _0x6b8b(){const _0x25ffe0=['scFtk','./server/g','findIndex','MwXLN','kWjkZ','3852LudUda','turn','→\x20Новое\x20We','fFTRX','.json',':\x20до=','xrSsF','entries','обязателен','error','bCUqj','MPfqh','OPEN','ваш\x20ход','ames','forEach','resume','use','\x20в\x20сессии\x20',',\x20после=','waiting','eQdft','stringify','QOFau','battleData','every','push','winner','reconnect','Назначена\x20','Aagsr','debug','lvnNv','fHRYk','\x20потоплен!','ets','32eGUfIz','connection','окет:\x20','ojnFx','bSocket-по','slice','shots','SMPPA','yRBMk','isAlive','bZOlX','←\x20Получено','close','ync','EZhWT','шает\x20http:','Создана\x20но','chat','tOlZR','zTqdu','XyOKP','writeFileS','isRkI','player1','PvAEd','battle','ljSIU','fleet','1039074rcghqg','XRYUK','CRNdi','lVEYk','durLP','\x20удалить\x20ф','484VBfcAY','→\x20Корабль\x20','PORT','readyState','utf-8','public','Подгружены','роль\x20','//localhos','пка\x20games','5782005BKfFRU',']\x20[','init','ewzoR','nUFMA','\x20флоты\x20из\x20','static','вая\x20сессия','existsSync','sunk','shoot','gcrAr','player2','includes','файла\x20для\x20','5xdIaAJ','warn','PPPHS','AEIYT','\x20обновлена','SAvxY','тся:\x20','347522uPeilF','дключение','split','rt\x20от\x20','playerIds','14187MLTsUg','Попадание\x20','mkdirSync','й\x20тип','\x20сохранены','ы:\x20','rYMMZ','fPCKW','role_assig','yPkrS','становлена','initialFle','splice','connect','ой\x20начинае','unlinkSync','hxOWu',',\x20ходит\x20','BJQuR','NrNiU','join','czYyx','10KgIXoE','ый\x20JSON','Игра\x20','Сессия\x20вос','BvkBp','rQYIQ','secret_id\x20','foHfF','pDLpp','ZEwUG','replace','send','ии\x20','parse','\x20после\x20выс','djhlm','Не\x20удалось','role','ESepd','ned','Данные\x20игр','connected','eNmEX','shot_resul','values','\x20файл\x20удал','айл\x20','message','listen','secret_id','DtruB','toISOStrin','\x20у\x20','Сейчас\x20не\x20','\x20сообщение','battle_sta','\x20окончена,','8017218nBhcLO','Оба\x20игрока','\x20готовы.\x20Б','Неизвестны','Некорректн','\x20в\x20','трела','\x20подключен','Рестарт\x20бо','sockets','Создана\x20па','length','lsqjp','playerId','gameOver','я\x20для\x20сесс','IVhcZ','Отключён\x20с','Сервер\x20слу','35871MruCSO','pause','ока\x20','env','log','string','roVWk','4230140LEnHKi','readFileSy','info'];_0x6b8b=function(){return _0x25ffe0;};return _0x6b8b();}import _0x27534d from'express';import{WebSocketServer as _0x5431b3}from'ws';import _0x2a5485 from'fs';import _0x362e2a from'path';import{send as _0x55ea84}from'./utils.js';const P=process[_0x3beb6e(0x177)][_0x3beb6e(0x103)]||-0xbf1+-0x2af+0x1a58,d=_0x362e2a[_0x3beb6e(0x13a)](_0x3beb6e(0xb7)+_0x3beb6e(0xc9)),b={};function a(_0x157a13,_0x415c66=_0x3beb6e(0xb5)){const _0x4bc463=_0x3beb6e,_0x520c1f=new Date()[_0x4bc463(0x15b)+'g']()[_0x4bc463(0x146)]('T','\x20')[_0x4bc463(0x123)]('.')[0x21e0+0x1*0x23ad+-0x458d];console[_0x4bc463(0x178)]('['+_0x520c1f+_0x4bc463(0x10c)+_0x415c66+']\x20'+_0x157a13);}_0x2a5485[_0x3beb6e(0x113)](d)||(_0x2a5485[_0x3beb6e(0x128)](d,{'recursive':!(0x5*0x209+0x2a7*0x8+-0x1f65)}),a(_0x3beb6e(0x16b)+_0x3beb6e(0x10a),_0x3beb6e(0x10d)));const T=_0x27534d();T[_0x3beb6e(0xcc)](_0x27534d[_0x3beb6e(0x111)](_0x3beb6e(0x106)));function _0x581b(_0x18007e,_0x349157){const _0x4b0b6b=_0x6b8b();return _0x581b=function(_0x24434a,_0xfe051){_0x24434a=_0x24434a-(-0x330+-0x7*0x185+0x4*0x3a1);let _0xbc4a77=_0x4b0b6b[_0x24434a];return _0xbc4a77;},_0x581b(_0x18007e,_0x349157);}const W=T[_0x3beb6e(0x158)](P,()=>a(_0x3beb6e(0x173)+_0x3beb6e(0xee)+_0x3beb6e(0x109)+'t:'+P,_0x3beb6e(0x10d))),B=new _0x5431b3({'server':W});B['on'](_0x3beb6e(0xe0),_0x4a7ea9=>{const _0x30c283=_0x3beb6e,_0x4c63af={'zTqdu':function(_0x745c9,_0x4b07c4,_0x13b5c3){return _0x745c9(_0x4b07c4,_0x13b5c3);},'czYyx':_0x30c283(0xf8),'AEIYT':function(_0x5da054,_0xb7e625){return _0x5da054===_0xb7e625;},'durLP':function(_0x5898da,_0x505472,_0x54fd39){return _0x5898da(_0x505472,_0x54fd39);},'scFtk':_0x30c283(0x165)+_0x30c283(0x13d),'roVWk':_0x30c283(0x11b),'lsqjp':function(_0x509120,_0x550cd3,_0x1183a7){return _0x509120(_0x550cd3,_0x1183a7);},'hxOWu':_0x30c283(0xda),'EZhWT':_0x30c283(0xc4),'SMPPA':_0x30c283(0x142)+_0x30c283(0xc3),'ljSIU':_0x30c283(0x133),'rYMMZ':_0x30c283(0xf6),'QOFau':_0x30c283(0x117),'DtruB':_0x30c283(0x105),'MPfqh':function(_0x1a819e,_0x3101df,_0x2fbbe5){return _0x1a819e(_0x3101df,_0x2fbbe5);},'NrNiU':_0x30c283(0xb5),'BJQuR':_0x30c283(0xd7),'XyOKP':function(_0x529320,_0x42b9b4){return _0x529320!==_0x42b9b4;},'BvkBp':_0x30c283(0x15f)+'rt','eNmEX':function(_0x2e3ebb,_0x56d1b1,_0x271b8a){return _0x2e3ebb(_0x56d1b1,_0x271b8a);},'tOlZR':_0x30c283(0x115),'ESepd':function(_0x3644af,_0x56ec7e,_0x279faf){return _0x3644af(_0x56ec7e,_0x279faf);},'IVhcZ':_0x30c283(0x15d)+_0x30c283(0xc8),'MwXLN':function(_0x54c74c,_0x401cdd){return _0x54c74c!==_0x401cdd;},'CRNdi':function(_0x53b671,_0x4593c7,_0x4266a5){return _0x53b671(_0x4593c7,_0x4266a5);},'XRYUK':function(_0x2cc5b3,_0x36fafd){return _0x2cc5b3&&_0x36fafd;},'nUFMA':_0x30c283(0x153)+'t','gcrAr':function(_0x1abdbb,_0x2be1fe){return _0x1abdbb||_0x2be1fe;},'ojnFx':function(_0x1d2492,_0x403d65,_0x2042e3){return _0x1d2492(_0x403d65,_0x2042e3);},'PvAEd':function(_0x3bee06,_0x41f9b5,_0xf078c7){return _0x3bee06(_0x41f9b5,_0xf078c7);},'kWjkZ':function(_0x458785,_0x4a1308,_0xab90d1){return _0x458785(_0x4a1308,_0xab90d1);},'fFTRX':_0x30c283(0xf0),'eQdft':function(_0x317d5b,_0x1266eb){return _0x317d5b!=_0x1266eb;},'yPkrS':_0x30c283(0xb1),'pDLpp':_0x30c283(0x164)+_0x30c283(0x129),'yRBMk':function(_0x484c31,_0x21071d,_0x4ace37){return _0x484c31(_0x21071d,_0x4ace37);},'xrSsF':_0x30c283(0x12e)+_0x30c283(0x14f),'bZOlX':function(_0x23fa89,_0x597f4d){return _0x23fa89&&_0x597f4d;},'ewzoR':function(_0x4e8b65,_0x23943b){return _0x4e8b65===_0x23943b;},'djhlm':_0x30c283(0x151),'ZEwUG':_0x30c283(0xcf),'lvnNv':function(_0x829c90,_0x587b7d,_0x2b42be){return _0x829c90(_0x587b7d,_0x2b42be);},'fPCKW':_0x30c283(0xcb),'bCUqj':function(_0x287313,_0x1ed42f,_0x1fe5df){return _0x287313(_0x1ed42f,_0x1fe5df);},'PPPHS':function(_0x18fdb1,_0x5ebc0f,_0x394f70){return _0x18fdb1(_0x5ebc0f,_0x394f70);},'fHRYk':_0x30c283(0x175),'rQYIQ':function(_0x359d26,_0x3d2500){return _0x359d26(_0x3d2500);},'Aagsr':_0x30c283(0xbd)+_0x30c283(0xe3)+_0x30c283(0x122),'SAvxY':_0x30c283(0x157),'lVEYk':_0x30c283(0xeb)};_0x4c63af[_0x30c283(0x141)](a,_0x4c63af[_0x30c283(0xd9)]),_0x4a7ea9[_0x30c283(0xe8)]=!(0x1*-0x2705+-0x1b74+-0x4d*-0xdd),_0x4a7ea9[_0x30c283(0x14d)]=null,_0x4a7ea9[_0x30c283(0x159)]=null,_0x4a7ea9['on'](_0x4c63af[_0x30c283(0x11f)],_0x4ac823=>{const _0x51a89f=_0x30c283,_0x12bbf7={'isRkI':function(_0x5001d3,_0x1d4905){const _0x1d6e84=_0x581b;return _0x4c63af[_0x1d6e84(0x11d)](_0x5001d3,_0x1d4905);},'foHfF':_0x4c63af[_0x51a89f(0x13b)]};let _0x356361;try{_0x356361=JSON[_0x51a89f(0x149)](_0x4ac823);}catch{_0x4c63af[_0x51a89f(0xff)](a,_0x4c63af[_0x51a89f(0xb6)],_0x4c63af[_0x51a89f(0xb2)]);return;}const {type:_0x2f1f24,secret_id:_0x46d881,role:_0x3e15a5,playerId:_0x53f5e9}=_0x356361;if(_0x4c63af[_0x51a89f(0x16d)](a,_0x51a89f(0xea)+_0x51a89f(0x15e)+'\x20'+_0x2f1f24,_0x4c63af[_0x51a89f(0x136)]),!_0x46d881){_0x4a7ea9[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0xed)],'message':_0x4c63af[_0x51a89f(0xe6)]}));return;}b[_0x46d881]||(b[_0x46d881]={'sockets':{'player1':null,'player2':null}},_0x4c63af[_0x51a89f(0xff)](a,_0x51a89f(0xef)+_0x51a89f(0x112)+'\x20'+_0x46d881,_0x4c63af[_0x51a89f(0x136)]));const _0x22d293=b[_0x46d881];switch(_0x22d293[_0x51a89f(0x125)]=_0x22d293[_0x51a89f(0x125)]||{'player1':null,'player2':null},_0x2f1f24){case _0x4c63af[_0x51a89f(0xf9)]:_0x4c63af[_0x51a89f(0x11d)](_0x22d293[_0x51a89f(0x125)][_0x51a89f(0xf6)],_0x53f5e9)?_0x4a7ea9[_0x51a89f(0x14d)]=_0x4c63af[_0x51a89f(0x12c)]:_0x4c63af[_0x51a89f(0x11d)](_0x22d293[_0x51a89f(0x125)][_0x51a89f(0x117)],_0x53f5e9)?_0x4a7ea9[_0x51a89f(0x14d)]=_0x4c63af[_0x51a89f(0xd2)]:(_0x4a7ea9[_0x51a89f(0x14d)]=_0x22d293[_0x51a89f(0x16a)][_0x51a89f(0xf6)]?_0x4c63af[_0x51a89f(0xd2)]:_0x4c63af[_0x51a89f(0x12c)],_0x22d293[_0x51a89f(0x125)][_0x4a7ea9[_0x51a89f(0x14d)]]=_0x53f5e9),_0x4a7ea9[_0x51a89f(0x16e)]=_0x53f5e9;{const _0x5d8e48=_0x362e2a[_0x51a89f(0x13a)](d,_0x46d881+_0x51a89f(0xbf));if(_0x2a5485[_0x51a89f(0x113)](_0x5d8e48)){const _0x8ab0a7=JSON[_0x51a89f(0x149)](_0x2a5485[_0x51a89f(0xb4)+'nc'](_0x5d8e48,_0x4c63af[_0x51a89f(0x15a)]));_0x8ab0a7[_0x51a89f(0xf6)]&&_0x8ab0a7[_0x51a89f(0x117)]&&(_0x22d293[_0x51a89f(0xd3)]=_0x8ab0a7,_0x22d293[_0x51a89f(0x131)+_0x51a89f(0xde)]={'player1':JSON[_0x51a89f(0x149)](JSON[_0x51a89f(0xd1)](_0x8ab0a7[_0x51a89f(0xf6)])),'player2':JSON[_0x51a89f(0x149)](JSON[_0x51a89f(0xd1)](_0x8ab0a7[_0x51a89f(0x117)]))},_0x4c63af[_0x51a89f(0xc6)](a,_0x51a89f(0x107)+_0x51a89f(0x110)+_0x51a89f(0x119)+_0x4a7ea9[_0x51a89f(0x14d)],_0x4c63af[_0x51a89f(0x139)]));}}break;case _0x4c63af[_0x51a89f(0x138)]:if(![_0x4c63af[_0x51a89f(0x12c)],_0x4c63af[_0x51a89f(0xd2)]][_0x51a89f(0x118)](_0x3e15a5)||_0x4c63af[_0x51a89f(0xf3)](_0x22d293[_0x51a89f(0x125)][_0x3e15a5],_0x53f5e9))return;_0x4a7ea9[_0x51a89f(0x14d)]=_0x3e15a5,_0x4a7ea9[_0x51a89f(0x16e)]=_0x53f5e9,_0x22d293[_0x51a89f(0x125)][_0x4a7ea9[_0x51a89f(0x14d)]]=_0x53f5e9;{const _0x4fdee5=_0x362e2a[_0x51a89f(0x13a)](d,_0x46d881+_0x51a89f(0xbf));if(_0x2a5485[_0x51a89f(0x113)](_0x4fdee5)){const _0x247bfb=JSON[_0x51a89f(0x149)](_0x2a5485[_0x51a89f(0xb4)+'nc'](_0x4fdee5,_0x4c63af[_0x51a89f(0x15a)]));_0x247bfb[_0x51a89f(0xf6)]&&_0x247bfb[_0x51a89f(0x117)]&&(_0x22d293[_0x51a89f(0xd3)]=_0x247bfb,_0x22d293[_0x51a89f(0x131)+_0x51a89f(0xde)]={'player1':JSON[_0x51a89f(0x149)](JSON[_0x51a89f(0xd1)](_0x247bfb[_0x51a89f(0xf6)])),'player2':JSON[_0x51a89f(0x149)](JSON[_0x51a89f(0xd1)](_0x247bfb[_0x51a89f(0x117)]))},_0x4c63af[_0x51a89f(0xc6)](a,_0x51a89f(0x107)+_0x51a89f(0x110)+_0x51a89f(0x119)+_0x4a7ea9[_0x51a89f(0x14d)],_0x4c63af[_0x51a89f(0x139)]));}}break;case _0x4c63af[_0x51a89f(0x140)]:_0x4c63af[_0x51a89f(0xf2)](a,_0x51a89f(0x15f)+_0x51a89f(0x124)+_0x4a7ea9[_0x51a89f(0x14d)]+_0x51a89f(0xcd)+_0x46d881,_0x4c63af[_0x51a89f(0x139)]),_0x22d293[_0x51a89f(0xd3)]=_0x22d293[_0x51a89f(0xd3)]||{},_0x22d293[_0x51a89f(0xd3)][_0x4a7ea9[_0x51a89f(0x14d)]]=_0x356361[_0x51a89f(0xfa)],_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0xe5)]=_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0xe5)]||[],_0x2a5485[_0x51a89f(0xf4)+_0x51a89f(0xec)](_0x362e2a[_0x51a89f(0x13a)](d,_0x46d881+_0x51a89f(0xbf)),JSON[_0x51a89f(0xd1)](_0x22d293[_0x51a89f(0xd3)],null,0x745*0x3+0x1b17+-0x30e4)),_0x4c63af[_0x51a89f(0x152)](a,_0x51a89f(0x150)+_0x51a89f(0x176)+_0x4a7ea9[_0x51a89f(0x14d)]+_0x51a89f(0x12a),_0x4c63af[_0x51a89f(0x136)]),_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0xf6)]&&_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0x117)]&&(_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0xbc)]=_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0xbc)]||_0x4c63af[_0x51a89f(0x12c)],_0x22d293[_0x51a89f(0x131)+_0x51a89f(0xde)]={'player1':JSON[_0x51a89f(0x149)](JSON[_0x51a89f(0xd1)](_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0xf6)])),'player2':JSON[_0x51a89f(0x149)](JSON[_0x51a89f(0xd1)](_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0x117)]))},_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0x131)+_0x51a89f(0xde)]=_0x22d293[_0x51a89f(0x131)+_0x51a89f(0xde)],_0x2a5485[_0x51a89f(0xf4)+_0x51a89f(0xec)](_0x362e2a[_0x51a89f(0x13a)](d,_0x46d881+_0x51a89f(0xbf)),JSON[_0x51a89f(0xd1)](_0x22d293[_0x51a89f(0xd3)],null,-0x2c*-0x13+0x1ca5*0x1+-0x1fe7*0x1)),_0x4c63af[_0x51a89f(0xf2)](a,_0x51a89f(0x162)+_0x51a89f(0x163)+_0x51a89f(0x134)+_0x51a89f(0x120)+_0x46d881+_0x51a89f(0x137)+_0x22d293[_0x51a89f(0xd3)][_0x51a89f(0xbc)],_0x4c63af[_0x51a89f(0x139)]),[_0x4c63af[_0x51a89f(0x12c)],_0x4c63af[_0x51a89f(0xd2)]][_0x51a89f(0xca)](_0x14d045=>{const _0x30ca18=_0x51a89f;_0x4c63af[_0x30ca18(0xf2)](_0x55ea84,_0x22d293[_0x30ca18(0x16a)][_0x14d045],{'type':_0x4c63af[_0x30ca18(0x13b)],'fleet':_0x22d293[_0x30ca18(0xd3)][_0x14d045],'battle_ready':!(-0x27f+0x993+-0x714),'turn':_0x22d293[_0x30ca18(0xd3)][_0x30ca18(0xbc)],'shots':_0x22d293[_0x30ca18(0xd3)][_0x30ca18(0xe5)]});}));return;case _0x4c63af[_0x51a89f(0xf1)]:{const {x:_0x55ba1f,y:_0x5eb3dd}=_0x356361,_0x5c214e=b[_0x46d881],_0x76807b=_0x5c214e[_0x51a89f(0xd3)];if(_0x4c63af[_0x51a89f(0xf3)](_0x76807b[_0x51a89f(0xbc)],_0x4a7ea9[_0x51a89f(0x14d)]))return _0x4c63af[_0x51a89f(0x14e)](_0x55ea84,_0x4a7ea9,{'type':_0x4c63af[_0x51a89f(0xed)],'message':_0x4c63af[_0x51a89f(0x171)]});const _0x57965b=_0x4c63af[_0x51a89f(0x11d)](_0x4a7ea9[_0x51a89f(0x14d)],_0x4c63af[_0x51a89f(0x12c)])?_0x4c63af[_0x51a89f(0xd2)]:_0x4c63af[_0x51a89f(0x12c)],_0x3e15fd=_0x76807b[_0x57965b];let _0x42fb85=!(0x6d9*0x2+0x2*0x6b5+0x1*-0x1b1b),_0x2eaa2b=null;for(const [_0x4931d4,_0x3211f7]of Object[_0x51a89f(0xc2)](_0x3e15fd)){const _0x3e7638=_0x3211f7[_0x51a89f(0xb8)](_0x2fbdb3=>_0x2fbdb3['x']===_0x55ba1f&&_0x2fbdb3['y']===_0x5eb3dd);if(_0x4c63af[_0x51a89f(0xb9)](_0x3e7638,-(-0x7*0x34b+-0xfea+0x1*0x26f8))){_0x42fb85=!(-0x12ed*-0x2+0x5*-0x232+0x56*-0x50);const _0x552ccc=_0x3211f7[_0x51a89f(0x16c)];_0x3211f7[_0x51a89f(0x132)](_0x3e7638,0x2*-0xe8a+-0x11ff+0x5c*0x83);const _0x1a8288=_0x3211f7[_0x51a89f(0x16c)];_0x4c63af[_0x51a89f(0xf2)](a,_0x51a89f(0x127)+'в\x20'+_0x4931d4+_0x51a89f(0x15c)+_0x57965b+_0x51a89f(0xc0)+_0x552ccc+_0x51a89f(0xce)+_0x1a8288,_0x4c63af[_0x51a89f(0x136)]),_0x4c63af[_0x51a89f(0x11d)](_0x1a8288,-0xab3*0x1+0x7*-0x2c9+0x1*0x1e32)&&(_0x4c63af[_0x51a89f(0xfd)](a,_0x51a89f(0x102)+_0x4931d4+_0x51a89f(0xdd),_0x4c63af[_0x51a89f(0x139)]),_0x2eaa2b={'ship':_0x4931d4,'coords':_0x5c214e[_0x51a89f(0x131)+_0x51a89f(0xde)][_0x57965b][_0x4931d4]});break;}}const _0x408e83=Object[_0x51a89f(0x154)](_0x3e15fd)[_0x51a89f(0xd4)](_0x349d21=>_0x349d21[_0x51a89f(0x16c)]===0x4*0x100+-0x2cb*-0xd+-0x284f);_0x4c63af[_0x51a89f(0xfc)](!_0x42fb85,!_0x408e83)&&(_0x76807b[_0x51a89f(0xbc)]=_0x57965b);const _0x5b0d0b={'type':_0x4c63af[_0x51a89f(0x10f)],'x':_0x55ba1f,'y':_0x5eb3dd,'isHit':_0x42fb85,'by':_0x4a7ea9[_0x51a89f(0x14d)],'turn':_0x76807b[_0x51a89f(0xbc)]};_0x408e83&&(_0x5b0d0b[_0x51a89f(0x16f)]=!(0xd*-0x20f+-0x246a+-0x150f*-0x3),_0x5b0d0b[_0x51a89f(0xd6)]=_0x4a7ea9[_0x51a89f(0x14d)]),_0x2eaa2b&&(_0x5b0d0b[_0x51a89f(0x114)]=_0x2eaa2b),_0x76807b[_0x51a89f(0xe5)]=_0x76807b[_0x51a89f(0xe5)]||[],_0x76807b[_0x51a89f(0xe5)][_0x51a89f(0xd5)]({'x':_0x55ba1f,'y':_0x5eb3dd,'isHit':_0x42fb85,'by':_0x4a7ea9[_0x51a89f(0x14d)],'sunk':_0x4c63af[_0x51a89f(0x116)](_0x2eaa2b,null),'gameOver':_0x408e83,'winner':_0x408e83?_0x4a7ea9[_0x51a89f(0x14d)]:null});const _0x567456=_0x362e2a[_0x51a89f(0x13a)](d,_0x46d881+_0x51a89f(0xbf));if(_0x408e83){try{_0x2a5485[_0x51a89f(0x135)](_0x567456),_0x4c63af[_0x51a89f(0xfd)](a,_0x51a89f(0x13e)+_0x46d881+(_0x51a89f(0x160)+_0x51a89f(0x155)+'ён'),_0x4c63af[_0x51a89f(0x139)]);}catch(_0xa1dc94){_0x4c63af[_0x51a89f(0xe2)](a,_0x51a89f(0x14c)+_0x51a89f(0x100)+_0x51a89f(0x156)+_0x567456+':\x20'+_0xa1dc94[_0x51a89f(0x157)],_0x4c63af[_0x51a89f(0xed)]);}delete b[_0x46d881];}else _0x2a5485[_0x51a89f(0xf4)+_0x51a89f(0xec)](_0x567456,JSON[_0x51a89f(0xd1)](_0x76807b,null,0x6*-0x6f+-0x2d2*0xd+-0x1*-0x2746)),_0x4c63af[_0x51a89f(0x152)](a,_0x51a89f(0x13e)+_0x46d881+(_0x51a89f(0x11e)+_0x51a89f(0x14a)+_0x51a89f(0x167)),_0x4c63af[_0x51a89f(0x136)]);_0x4c63af[_0x51a89f(0xf7)](_0x55ea84,_0x5c214e[_0x51a89f(0x16a)][_0x51a89f(0xf6)],_0x5b0d0b),_0x4c63af[_0x51a89f(0xba)](_0x55ea84,_0x5c214e[_0x51a89f(0x16a)][_0x51a89f(0x117)],_0x5b0d0b);return;}case _0x4c63af[_0x51a89f(0xbe)]:{const {text:_0x22efdb}=_0x356361;if(_0x4c63af[_0x51a89f(0xd0)](typeof _0x22efdb,_0x4c63af[_0x51a89f(0x12f)])||!_0x4a7ea9[_0x51a89f(0x159)])return;const _0x1db048=b[_0x4a7ea9[_0x51a89f(0x159)]];if(!_0x1db048)return;const _0x4822c5={'type':_0x4c63af[_0x51a89f(0xbe)],'from':_0x4a7ea9[_0x51a89f(0x14d)],'text':_0x22efdb[_0x51a89f(0xe4)](0x2b*-0xda+-0xc2d+0x30cb,-0xecd*-0x2+0xb67+-0x270d)};[_0x4c63af[_0x51a89f(0x12c)],_0x4c63af[_0x51a89f(0xd2)]][_0x51a89f(0xca)](_0x14e99f=>{const _0x5c35ca=_0x51a89f,_0x17f090=_0x1db048[_0x5c35ca(0x16a)][_0x14e99f];_0x17f090&&_0x12bbf7[_0x5c35ca(0xf5)](_0x17f090[_0x5c35ca(0x104)],_0x17f090[_0x5c35ca(0xc7)])&&_0x17f090[_0x5c35ca(0x147)](JSON[_0x5c35ca(0xd1)](_0x4822c5));});return;}default:_0x4a7ea9[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0xed)],'message':_0x4c63af[_0x51a89f(0x144)]}));return;}_0x4a7ea9[_0x51a89f(0x159)]=_0x46d881,_0x22d293[_0x51a89f(0x16a)][_0x4a7ea9[_0x51a89f(0x14d)]]=_0x4a7ea9,_0x4c63af[_0x51a89f(0xe7)](a,_0x51a89f(0xd8)+_0x51a89f(0x108)+_0x4a7ea9[_0x51a89f(0x14d)]+_0x51a89f(0xcd)+_0x46d881,_0x4c63af[_0x51a89f(0x139)]),_0x4a7ea9[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0xc1)],'role':_0x4a7ea9[_0x51a89f(0x14d)]}));const _0x121400=_0x22d293[_0x51a89f(0x16a)][_0x51a89f(0xf6)],_0x60c303=_0x22d293[_0x51a89f(0x16a)][_0x51a89f(0x117)],_0x1a16e7=!!_0x4c63af[_0x51a89f(0xe9)](_0x121400,_0x60c303);_0x4c63af[_0x51a89f(0x10e)](_0x2f1f24,_0x4c63af[_0x51a89f(0xf9)])?_0x1a16e7?(_0x4c63af[_0x51a89f(0xf7)](a,_0x51a89f(0x162)+_0x51a89f(0x168)+_0x51a89f(0x12b)+_0x46d881,_0x4c63af[_0x51a89f(0x139)]),_0x121400[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0x14b)]})),_0x60c303[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0x14b)]}))):_0x4a7ea9[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0x145)]})):_0x1a16e7?(_0x4c63af[_0x51a89f(0xdb)](a,_0x51a89f(0x13f)+_0x51a89f(0x130)+':\x20'+_0x46d881,_0x4c63af[_0x51a89f(0x139)]),_0x121400[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0x12d)]})),_0x60c303[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0x12d)]}))):_0x4a7ea9[_0x51a89f(0x147)](JSON[_0x51a89f(0xd1)]({'type':_0x4c63af[_0x51a89f(0x145)]})),_0x22d293[_0x51a89f(0xd3)]?.[_0x51a89f(0xf6)]&&_0x22d293[_0x51a89f(0xd3)]?.[_0x51a89f(0x117)]&&_0x1a16e7&&(_0x4c63af[_0x51a89f(0xc5)](a,_0x51a89f(0x169)+_0x51a89f(0x170)+_0x51a89f(0x148)+_0x46d881,_0x4c63af[_0x51a89f(0x139)]),[_0x4c63af[_0x51a89f(0x12c)],_0x4c63af[_0x51a89f(0xd2)]][_0x51a89f(0xca)](_0x5ac9fd=>{const _0xbab423=_0x51a89f;_0x22d293[_0xbab423(0x16a)][_0x5ac9fd][_0xbab423(0x147)](JSON[_0xbab423(0xd1)]({'type':_0x12bbf7[_0xbab423(0x143)],'fleet':_0x22d293[_0xbab423(0xd3)][_0x5ac9fd],'battle_ready':!(-0xcf*-0x1+-0x5*-0x2b0+-0x7*0x209),'turn':_0x22d293[_0xbab423(0xd3)][_0xbab423(0xbc)],'shots':_0x22d293[_0xbab423(0xd3)][_0xbab423(0xe5)]}));}));}),_0x4a7ea9['on'](_0x4c63af[_0x30c283(0xfe)],()=>{const _0x385b84=_0x30c283,{secret_id:_0x2dd882,role:_0xa7cef2}=_0x4a7ea9;if(_0x4c63af[_0x385b84(0x116)](!_0x2dd882,!_0xa7cef2))return;const _0x30f2a8=b[_0x2dd882];if(!_0x30f2a8)return;_0x4c63af[_0x385b84(0x11c)](a,_0x385b84(0x172)+_0x385b84(0xe1)+_0xa7cef2+_0x385b84(0x166)+_0x2dd882,_0x4c63af[_0x385b84(0x139)]),_0x30f2a8[_0x385b84(0x16a)][_0xa7cef2]=null;const _0x47da45=_0x4c63af[_0x385b84(0x10e)](_0xa7cef2,_0x4c63af[_0x385b84(0x12c)])?_0x4c63af[_0x385b84(0xd2)]:_0x4c63af[_0x385b84(0x12c)],_0xc6fb9f=_0x30f2a8[_0x385b84(0x16a)][_0x47da45];_0x4c63af[_0x385b84(0x14e)](_0x55ea84,_0xc6fb9f,{'type':_0x4c63af[_0x385b84(0xdc)]});});});