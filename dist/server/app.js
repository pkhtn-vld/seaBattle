function _0x500c(){const _0x2ae893=['bFocx','Некорректн','ссию\x20','Неизвестны','sgicO','Удаляем\x20се','aIkOa','PlaLX','\x20сообщение','bzePS','ой\x20начинае','tnRAj','bHVEo','501942bMplQI','RpxeX','AyVDI','lCytI','xjnuP','vOhgN','rLBZt','playerIds','ZglTR','EymWK','entries','ZUUKq','UcJRj','NbVvd','replace','cnFfM','10352IJHmag','SjlFp','cVzQq','pause','rFOSI','pOVob',':\x20неверная','uwBCf','\x20окончена,','EBXyS','oRdFw','values','bMPLu','OPEN','oFGiK','ZlkXi','ый\x20JSON','readyState','//localhos','turn','я\x20для\x20сесс','YPEhF','secret_id\x20','4745503ZqQlkz','connected','Данные\x20игр','sItor','findIndex','PpMVu','тся:\x20','forEach','\x20обновлена','DaNfW','xDbxG','log','bSocket-по','init','hrPzA','CndQa','sEzlT','playerId','clients','NaRSb','VyOme','NGTIB','Невозможен','debug','ping','роль\x20','pwfPX','Magik','\x20после\x20выс','listen','includes','SOXAH','isAlive','connection','toISOStrin','обязателен','Назначена\x20','\x20готовы.\x20Б','→\x20Корабль\x20','aiUHr','ets','shoot','stringify','Оба\x20игрока','ABnvH','XKWsp','send','string','Сервер\x20слу','ned','ibeSa','shots','←\x20Получено','rt\x20от\x20','\x20reconnect','shot_resul','cnpvi','iHkhT','DZJwt','info','zpesU','2mwRAdz','CofcV','PEeuT','connect','вая\x20сессия','now','fleet','FGQdY','\x20потоплен!','terminate','OOVzv','ojhBh','4698rbdoHG','VlCka','ystTl','error','uctYH','djEgR','battle_sta','дключение','Комната\x20за','fZPzy','\x20в\x20сессии\x20','splice','XVgYM','VaNNg','трела','ии\x20','полнена','KSELa','bGxBp','MrTUb','rpROU','kNvtr','close','\x20сохранены','становлена','2849022LyoEJu','lastActive',']\x20[','aWiaK','public','sunk','wUygs','yGNPT','fiXZI','warn','2327205robfmP','env','\x20подключен','ы:\x20','zUldb','role_assig','secret_id','unmxJ','tHkER','shift','some','SGTLE','message','CLOSED','kvtqt','role','XUyNc','parse','1121070PcFobC','FTSCR','EkqKz','reconnect','KqSHi','oDzZp','split','EaOHZ','й\x20тип','LYsxF','pooOg','player2','RHAkM','IDlMz','resume','Сессия\x20вос','tbWOJ','player1','battleData','dMYNV','HCyJh','battle','initialFle','LwaoW','iqQHM','Рестарт\x20бо','GPYGs','gameOver','\x20роль\x20или\x20','chat','waiting','sockets','EZAed','ока\x20','rKEQA','use','pong','dchkV','slice',',\x20ходит\x20','LUKap','push','static','Создана\x20но','every','426412JWcYCI','\x20файл\x20удал','шает\x20http:','PORT','length','Игра\x20','oPtkc','jfZaE','qcPkQ','→\x20Новое\x20We','winner'];_0x500c=function(){return _0x2ae893;};return _0x500c();}const _0x200d74=_0x3c15;(function(_0x2d8537,_0x37a7a2){const _0x495ad6=_0x3c15,_0x29786d=_0x2d8537();while(!![]){try{const _0x4ed695=-parseInt(_0x495ad6(0x1f0))/(-0x1*-0x17cb+-0x55d+0x35*-0x59)+parseInt(_0x495ad6(0x16a))/(-0x218b+0x14*0xf0+0x1*0xecd)*(-parseInt(_0x495ad6(0x199))/(-0x1*0x194f+-0x1*-0x248f+-0x89*0x15))+parseInt(_0x495ad6(0x1d8))/(0x92*-0x2f+0x14cb+-0x1*-0x607)+-parseInt(_0x495ad6(0x1ab))/(0x128e+0x2004+-0x1*0x328d)+parseInt(_0x495ad6(0x18f))/(-0x1676+-0x750+0x1dcc)+parseInt(_0x495ad6(0x12d))/(0x2429*0x1+0xf95+-0x1*0x33b7)+parseInt(_0x495ad6(0x200))/(-0xa*0x3bf+0x27*0x49+-0x2b*-0x9d)*(parseInt(_0x495ad6(0x176))/(-0x257b+-0x10f5+0x3679));if(_0x4ed695===_0x37a7a2)break;else _0x29786d['push'](_0x29786d['shift']());}catch(_0x47a762){_0x29786d['push'](_0x29786d['shift']());}}}(_0x500c,-0xa645+-0xb231*-0x7+0x26220));import _0x16171d from'express';import{WebSocketServer as _0x481d98,WebSocket as _0x5e3cda}from'ws';import'path';import{send as _0x1ada7c}from'./utils.js';import{restoreGame as _0x31f739,saveGame as _0x1a99bd,deleteGame as _0x2053a5,ensureGamesFolder as _0x52a3be}from'./fsGames.js';const F=process[_0x200d74(0x19a)][_0x200d74(0x1db)]||-0x1e85+-0x1290+0x3ccd,p={},D={};function h(_0x45e352,_0x15e005){const _0x382913={'bMPLu':function(_0x2b5491){return _0x2b5491();},'YPEhF':function(_0x2c63e0,_0x415bd7){return _0x2c63e0(_0x415bd7);},'IDlMz':function(_0xe02fa5,_0x44c09d){return _0xe02fa5===_0x44c09d;}};D[_0x45e352]||(D[_0x45e352]=[]);const _0x1a28a8=D[_0x45e352];return new Promise((_0x352de1,_0x2b1826)=>{const _0x19928a=_0x3c15,_0xcfb9ae=async()=>{const _0x2c5817=_0x3c15;try{const _0x50670d=await _0x382913[_0x2c5817(0x20c)](_0x15e005);_0x382913[_0x2c5817(0x12b)](_0x352de1,_0x50670d);}catch(_0xfc44c0){_0x382913[_0x2c5817(0x12b)](_0x2b1826,_0xfc44c0);}finally{_0x1a28a8[_0x2c5817(0x1a2)](),_0x1a28a8[_0x2c5817(0x1dc)]?_0x1a28a8[0x1d0c+-0x1*0x9f1+-0x131b]():delete D[_0x45e352];}};_0x1a28a8[_0x19928a(0x1d4)](_0xcfb9ae),_0x382913[_0x19928a(0x1b8)](_0x1a28a8[_0x19928a(0x1dc)],-0x1ada+-0x5ad*0x2+0x2635*0x1)&&_0x382913[_0x19928a(0x20c)](_0xcfb9ae);});}async function R(_0x208941,_0x414070,_0x41dba3,_0x4f8542){const _0x2deb03=_0x200d74,_0x1135e6={'MrTUb':_0x2deb03(0x1c0),'FTSCR':function(_0x2c5fae,_0x2a5d79,_0x4e2a39){return _0x2c5fae(_0x2a5d79,_0x4e2a39);},'rLBZt':_0x2deb03(0x168),'GPYGs':_0x2deb03(0x19e)+_0x2deb03(0x15e),'wUygs':function(_0x4153da,_0x146ac9){return _0x4153da&&_0x146ac9;},'UcJRj':function(_0x4d7c97,_0x2cfc48){return _0x4d7c97===_0x2cfc48;},'HCyJh':_0x2deb03(0x16d),'NbVvd':function(_0x1d4ac2,_0x19638d,_0x5709de){return _0x1d4ac2(_0x19638d,_0x5709de);},'sgicO':_0x2deb03(0x12e),'vOhgN':_0x2deb03(0x1c9),'oRdFw':function(_0x5d8c27,_0x2d0c9d,_0xedf06a){return _0x5d8c27(_0x2d0c9d,_0xedf06a);},'SjlFp':_0x2deb03(0x1b9),'iqQHM':function(_0x59d4ea,_0x5607e8,_0x16b9ed){return _0x59d4ea(_0x5607e8,_0x16b9ed);},'XVgYM':_0x2deb03(0x1bc),'cnpvi':_0x2deb03(0x1b6)};_0x414070[_0x2deb03(0x19f)]=_0x4f8542,_0x41dba3[_0x2deb03(0x1ca)][_0x414070[_0x2deb03(0x1a8)]]=_0x414070,_0x1135e6[_0x2deb03(0x1ac)](i,_0x2deb03(0x151)+_0x2deb03(0x146)+_0x414070[_0x2deb03(0x1a8)]+_0x2deb03(0x180)+_0x4f8542,_0x1135e6[_0x2deb03(0x1f6)]),_0x414070[_0x2deb03(0x15b)](JSON[_0x2deb03(0x157)]({'type':_0x1135e6[_0x2deb03(0x1c5)],'role':_0x414070[_0x2deb03(0x1a8)]}));const _0x532d27=_0x41dba3[_0x2deb03(0x1ca)][_0x2deb03(0x1bc)],_0x350c7a=_0x41dba3[_0x2deb03(0x1ca)][_0x2deb03(0x1b6)],_0x2d4e7b=!!_0x1135e6[_0x2deb03(0x195)](_0x532d27,_0x350c7a);_0x1135e6[_0x2deb03(0x1fc)](_0x208941,_0x1135e6[_0x2deb03(0x1bf)])?_0x2d4e7b?(_0x1135e6[_0x2deb03(0x1fd)](i,_0x2deb03(0x158)+_0x2deb03(0x19b)+_0x2deb03(0x19c)+_0x4f8542,_0x1135e6[_0x2deb03(0x1f6)]),_0x532d27[_0x2deb03(0x15b)](JSON[_0x2deb03(0x157)]({'type':_0x1135e6[_0x2deb03(0x1e7)]})),_0x350c7a[_0x2deb03(0x15b)](JSON[_0x2deb03(0x157)]({'type':_0x1135e6[_0x2deb03(0x1e7)]}))):_0x414070[_0x2deb03(0x15b)](JSON[_0x2deb03(0x157)]({'type':_0x1135e6[_0x2deb03(0x1f5)]})):_0x2d4e7b?(_0x1135e6[_0x2deb03(0x20a)](i,_0x2deb03(0x1ba)+_0x2deb03(0x18e)+':\x20'+_0x4f8542,_0x1135e6[_0x2deb03(0x1f6)]),_0x532d27[_0x2deb03(0x15b)](JSON[_0x2deb03(0x157)]({'type':_0x1135e6[_0x2deb03(0x201)]})),_0x350c7a[_0x2deb03(0x15b)](JSON[_0x2deb03(0x157)]({'type':_0x1135e6[_0x2deb03(0x201)]}))):_0x414070[_0x2deb03(0x15b)](JSON[_0x2deb03(0x157)]({'type':_0x1135e6[_0x2deb03(0x1f5)]})),_0x41dba3[_0x2deb03(0x1bd)]?.[_0x2deb03(0x1bc)]&&_0x41dba3[_0x2deb03(0x1bd)]?.[_0x2deb03(0x1b6)]&&_0x2d4e7b&&(_0x1135e6[_0x2deb03(0x1c3)](i,_0x2deb03(0x1c4)+_0x2deb03(0x12a)+_0x2deb03(0x185)+_0x4f8542,_0x1135e6[_0x2deb03(0x1f6)]),[_0x1135e6[_0x2deb03(0x182)],_0x1135e6[_0x2deb03(0x165)]][_0x2deb03(0x134)](_0x39d63c=>{const _0x5cf3e7=_0x2deb03;_0x41dba3[_0x5cf3e7(0x1ca)][_0x39d63c][_0x5cf3e7(0x15b)](JSON[_0x5cf3e7(0x157)]({'type':_0x1135e6[_0x5cf3e7(0x189)],'initialFleet':_0x41dba3[_0x5cf3e7(0x1c1)+_0x5cf3e7(0x155)][_0x39d63c],'battle_ready':!(-0x4*-0x64e+0x19*-0x23+-0x15cd*0x1),'turn':_0x41dba3[_0x5cf3e7(0x1bd)][_0x5cf3e7(0x129)],'shots':_0x41dba3[_0x5cf3e7(0x1bd)][_0x5cf3e7(0x160)]}));}));}function T(_0x355f79){return p[_0x355f79]||(p[_0x355f79]={'playerIds':{'player1':null,'player2':null},'sockets':{'player1':null,'player2':null}}),p[_0x355f79];}function i(_0x1c6023,_0x31122d=_0x200d74(0x168)){const _0x7ca5c1=_0x200d74,_0x55864d=new Date()[_0x7ca5c1(0x14f)+'g']()[_0x7ca5c1(0x1fe)]('T','\x20')[_0x7ca5c1(0x1b1)]('.')[-0x1*-0x243+0x11*0x11b+-0x150e];console[_0x7ca5c1(0x138)]('['+_0x55864d+_0x7ca5c1(0x191)+_0x31122d+']\x20'+_0x1c6023);}await _0x52a3be();const x=_0x16171d();x[_0x200d74(0x1ce)](_0x16171d[_0x200d74(0x1d5)](_0x200d74(0x193)));const j=x[_0x200d74(0x14a)](F,()=>i(_0x200d74(0x15d)+_0x200d74(0x1da)+_0x200d74(0x212)+'t:'+F,_0x200d74(0x13a))),L=new _0x481d98({'server':j});L['on'](_0x200d74(0x14e),_0x144659=>{const _0x3ef55c=_0x200d74,_0x21dec1={'aiUHr':function(_0x30e68f,_0x253d81){return _0x30e68f(_0x253d81);},'SOXAH':_0x3ef55c(0x1bc),'ABnvH':_0x3ef55c(0x1b6),'rKEQA':function(_0x102cb1,_0x49b93b){return _0x102cb1===_0x49b93b;},'tHkER':function(_0x52774d,_0x4b3df3){return _0x52774d===_0x4b3df3;},'EymWK':_0x3ef55c(0x179),'yGNPT':_0x3ef55c(0x17e)+_0x3ef55c(0x186),'dMYNV':function(_0x453537,_0x502172,_0x14458c){return _0x453537(_0x502172,_0x14458c);},'EBXyS':function(_0x432b50,_0x62aa90,_0x279eba,_0x1b2f47,_0x416c36){return _0x432b50(_0x62aa90,_0x279eba,_0x1b2f47,_0x416c36);},'VlCka':function(_0x2bf74c,_0x44b732){return _0x2bf74c(_0x44b732);},'dchkV':function(_0x434695,_0x5e4a0f){return _0x434695!==_0x5e4a0f;},'LwaoW':_0x3ef55c(0x143)+_0x3ef55c(0x163)+_0x3ef55c(0x206)+_0x3ef55c(0x1c7)+_0x3ef55c(0x13e),'XKWsp':function(_0x6cec1b,_0x4401f5){return _0x6cec1b!==_0x4401f5;},'ystTl':function(_0x4d656e,_0x557d21,_0x2e5c0e){return _0x4d656e(_0x557d21,_0x2e5c0e);},'ZlkXi':function(_0x187158,_0x2aa9e0,_0x185ea2){return _0x187158(_0x2aa9e0,_0x185ea2);},'RHAkM':_0x3ef55c(0x1c0),'Magik':_0x3ef55c(0x168),'rFOSI':function(_0x10aa6e,_0x213f6a,_0x389d4e){return _0x10aa6e(_0x213f6a,_0x389d4e);},'ojhBh':_0x3ef55c(0x144),'unmxJ':function(_0x33b291,_0x4fbdc5){return _0x33b291(_0x4fbdc5);},'DZJwt':function(_0x2be758,_0x1e3e97){return _0x2be758!==_0x1e3e97;},'PlaLX':function(_0x526430,_0x3a9b49){return _0x526430===_0x3a9b49;},'zUldb':function(_0x499d36,_0x59b68b){return _0x499d36!==_0x59b68b;},'VaNNg':function(_0x5c7342,_0x5b3613){return _0x5c7342&&_0x5b3613;},'pwfPX':_0x3ef55c(0x164)+'t','RpxeX':function(_0x38045d,_0x49ddeb){return _0x38045d||_0x49ddeb;},'tnRAj':function(_0x10916d,_0x505932,_0x5a4a47){return _0x10916d(_0x505932,_0x5a4a47);},'ibeSa':function(_0x13f23d,_0x536ab2,_0x50ac25){return _0x13f23d(_0x536ab2,_0x50ac25);},'tbWOJ':_0x3ef55c(0x1e4)+_0x3ef55c(0x210),'sEzlT':_0x3ef55c(0x198),'LUKap':function(_0x45ca6e,_0xd02f20,_0x381a8e){return _0x45ca6e(_0xd02f20,_0x381a8e);},'NaRSb':_0x3ef55c(0x12c)+_0x3ef55c(0x150),'DaNfW':function(_0xea5639,_0x563463,_0x1a5623){return _0xea5639(_0x563463,_0x1a5623);},'uwBCf':_0x3ef55c(0x16d),'NGTIB':_0x3ef55c(0x1ae),'cVzQq':_0x3ef55c(0x17c)+'rt','XUyNc':function(_0x4bd113,_0x57034e,_0xead3bf){return _0x4bd113(_0x57034e,_0xead3bf);},'cnFfM':_0x3ef55c(0x156),'bGxBp':function(_0x4d9031,_0x33a72a,_0x375110){return _0x4d9031(_0x33a72a,_0x375110);},'uctYH':_0x3ef55c(0x1c8),'ZglTR':function(_0x223ff2,_0x24c5e0){return _0x223ff2!=_0x24c5e0;},'OOVzv':_0x3ef55c(0x15c),'kNvtr':_0x3ef55c(0x1e6)+_0x3ef55c(0x1b3),'zpesU':function(_0x76ccc6,_0x21d52d){return _0x76ccc6===_0x21d52d;},'CndQa':function(_0x49ec43,_0x5d6c20){return _0x49ec43===_0x5d6c20;},'EZAed':_0x3ef55c(0x203),'AyVDI':function(_0x52de45,_0x1db057,_0x56e161){return _0x52de45(_0x1db057,_0x56e161);},'bHVEo':function(_0x1baf67,_0x59f115){return _0x1baf67(_0x59f115);},'oDzZp':_0x3ef55c(0x1e1)+_0x3ef55c(0x139)+_0x3ef55c(0x17d),'oFGiK':_0x3ef55c(0x1cf),'FGQdY':_0x3ef55c(0x1a5),'CofcV':_0x3ef55c(0x18c)};_0x21dec1[_0x3ef55c(0x1ef)](i,_0x21dec1[_0x3ef55c(0x1b0)]),_0x144659[_0x3ef55c(0x14d)]=!(-0x1858+-0x16f9+0x2f51),_0x144659['on'](_0x21dec1[_0x3ef55c(0x20e)],()=>{const _0x5acb13=_0x3ef55c;_0x144659[_0x5acb13(0x14d)]=!(-0x1b43*-0x1+0x133*-0x5+-0x1544);}),_0x144659[_0x3ef55c(0x1a8)]=null,_0x144659[_0x3ef55c(0x19f)]=null,_0x144659['on'](_0x21dec1[_0x3ef55c(0x171)],async _0x2bf8bd=>{const _0x54cbfb=_0x3ef55c,_0x182ba2={'EaOHZ':function(_0xb2926c,_0x2a5214){const _0x47a2b5=_0x3c15;return _0x21dec1[_0x47a2b5(0x177)](_0xb2926c,_0x2a5214);},'bzePS':_0x21dec1[_0x54cbfb(0x14c)],'xjnuP':_0x21dec1[_0x54cbfb(0x159)],'rpROU':function(_0x218fe2,_0x20c4ea){const _0x1cec4f=_0x54cbfb;return _0x21dec1[_0x1cec4f(0x1d0)](_0x218fe2,_0x20c4ea);},'aWiaK':_0x21dec1[_0x54cbfb(0x1f9)],'lCytI':_0x21dec1[_0x54cbfb(0x1c2)],'oPtkc':function(_0x39882f,_0x1591ec){const _0x529402=_0x54cbfb;return _0x21dec1[_0x529402(0x15a)](_0x39882f,_0x1591ec);},'VyOme':function(_0x2b9ee1,_0x5f09af,_0x379243){const _0x5f3642=_0x54cbfb;return _0x21dec1[_0x5f3642(0x178)](_0x2b9ee1,_0x5f09af,_0x379243);},'qcPkQ':function(_0x50bda7,_0x3d5ef0,_0x1c15bf,_0x510d87,_0xc9e7a3){const _0x244d27=_0x54cbfb;return _0x21dec1[_0x244d27(0x209)](_0x50bda7,_0x3d5ef0,_0x1c15bf,_0x510d87,_0xc9e7a3);},'KqSHi':function(_0x35021f,_0x259aec,_0x38d118){const _0x3cef81=_0x54cbfb;return _0x21dec1[_0x3cef81(0x20f)](_0x35021f,_0x259aec,_0x38d118);},'kvtqt':_0x21dec1[_0x54cbfb(0x1b7)],'fiXZI':function(_0x580bf2,_0x257583,_0x2e2319){const _0x4eea96=_0x54cbfb;return _0x21dec1[_0x4eea96(0x178)](_0x580bf2,_0x257583,_0x2e2319);},'pOVob':_0x21dec1[_0x54cbfb(0x148)],'LYsxF':function(_0x48a530,_0x3b93f3,_0x455a1b){const _0x154044=_0x54cbfb;return _0x21dec1[_0x154044(0x204)](_0x48a530,_0x3b93f3,_0x455a1b);},'pooOg':_0x21dec1[_0x54cbfb(0x175)],'hrPzA':function(_0x14e5e2,_0xb9316d){const _0x1530ea=_0x54cbfb;return _0x21dec1[_0x1530ea(0x1a0)](_0x14e5e2,_0xb9316d);},'PEeuT':function(_0x38989a,_0xf1161f){const _0x24abeb=_0x54cbfb;return _0x21dec1[_0x24abeb(0x167)](_0x38989a,_0xf1161f);},'fZPzy':function(_0x303769,_0x5b74f2){const _0x2c876f=_0x54cbfb;return _0x21dec1[_0x2c876f(0x1ea)](_0x303769,_0x5b74f2);},'SGTLE':function(_0x542685,_0x4c7da5){const _0x2f2142=_0x54cbfb;return _0x21dec1[_0x2f2142(0x19d)](_0x542685,_0x4c7da5);},'ZUUKq':function(_0x43a157,_0x2a5bdb){const _0x143d4b=_0x54cbfb;return _0x21dec1[_0x143d4b(0x1ea)](_0x43a157,_0x2a5bdb);},'djEgR':function(_0x27b57f,_0x149433){const _0xfe1630=_0x54cbfb;return _0x21dec1[_0xfe1630(0x183)](_0x27b57f,_0x149433);},'sItor':_0x21dec1[_0x54cbfb(0x147)],'PpMVu':function(_0x1d0583,_0x4d05b9){const _0xf610b=_0x54cbfb;return _0x21dec1[_0xf610b(0x1f1)](_0x1d0583,_0x4d05b9);},'iHkhT':function(_0x2c9f47,_0x2c8137,_0x42d5f0){const _0xcbc208=_0x54cbfb;return _0x21dec1[_0xcbc208(0x1ee)](_0x2c9f47,_0x2c8137,_0x42d5f0);}};let _0x4583f9;try{_0x4583f9=JSON[_0x54cbfb(0x1aa)](_0x2bf8bd);}catch{_0x21dec1[_0x54cbfb(0x15f)](i,_0x21dec1[_0x54cbfb(0x1bb)],_0x21dec1[_0x54cbfb(0x13d)]);return;}const {type:_0x36d0eb,secret_id:_0x450a87,role:_0xd1dccd,playerId:_0x535c71}=_0x4583f9;if(_0x21dec1[_0x54cbfb(0x1d3)](i,_0x54cbfb(0x161)+_0x54cbfb(0x1eb)+'\x20'+_0x36d0eb,_0x21dec1[_0x54cbfb(0x175)]),!_0x450a87){_0x144659[_0x54cbfb(0x15b)](JSON[_0x54cbfb(0x157)]({'type':_0x21dec1[_0x54cbfb(0x1f9)],'message':_0x21dec1[_0x54cbfb(0x140)]}));return;}p[_0x450a87]||(p[_0x450a87]={'sockets':{'player1':null,'player2':null},'lastActive':Date[_0x54cbfb(0x16f)]()},_0x21dec1[_0x54cbfb(0x136)](i,_0x54cbfb(0x1d6)+_0x54cbfb(0x16e)+'\x20'+_0x450a87,_0x21dec1[_0x54cbfb(0x175)]));const _0x5c2934=p[_0x450a87];switch(_0x5c2934[_0x54cbfb(0x190)]=Date[_0x54cbfb(0x16f)](),_0x5c2934[_0x54cbfb(0x1f7)]=_0x5c2934[_0x54cbfb(0x1f7)]||{'player1':null,'player2':null},_0x36d0eb){case _0x21dec1[_0x54cbfb(0x207)]:await _0x21dec1[_0x54cbfb(0x1ee)](h,_0x450a87,async()=>{const _0xa0ac55=_0x54cbfb,_0x21ec47=_0x21dec1[_0xa0ac55(0x154)](T,_0x450a87);for(const _0xc3f232 of[_0x21dec1[_0xa0ac55(0x14c)],_0x21dec1[_0xa0ac55(0x159)]]){const _0x4accb5=_0x21ec47[_0xa0ac55(0x1ca)][_0xc3f232];_0x4accb5&&_0x21dec1[_0xa0ac55(0x1cd)](_0x4accb5[_0xa0ac55(0x211)],_0x5e3cda[_0xa0ac55(0x1a6)])&&(_0x21ec47[_0xa0ac55(0x1ca)][_0xc3f232]=null);}let _0x40689e=null;if(_0x21dec1[_0xa0ac55(0x1a1)](_0x21ec47[_0xa0ac55(0x1f7)][_0xa0ac55(0x1bc)],_0x535c71)&&!_0x21ec47[_0xa0ac55(0x1ca)][_0xa0ac55(0x1bc)])_0x40689e=_0x21dec1[_0xa0ac55(0x14c)];else{if(_0x21dec1[_0xa0ac55(0x1cd)](_0x21ec47[_0xa0ac55(0x1f7)][_0xa0ac55(0x1b6)],_0x535c71)&&!_0x21ec47[_0xa0ac55(0x1ca)][_0xa0ac55(0x1b6)])_0x40689e=_0x21dec1[_0xa0ac55(0x159)];else{if(!_0x21ec47[_0xa0ac55(0x1ca)][_0xa0ac55(0x1bc)])_0x40689e=_0x21dec1[_0xa0ac55(0x14c)],_0x21ec47[_0xa0ac55(0x1f7)][_0xa0ac55(0x1bc)]=_0x535c71;else{if(!_0x21ec47[_0xa0ac55(0x1ca)][_0xa0ac55(0x1b6)])_0x40689e=_0x21dec1[_0xa0ac55(0x159)],_0x21ec47[_0xa0ac55(0x1f7)][_0xa0ac55(0x1b6)]=_0x535c71;else return _0x144659[_0xa0ac55(0x15b)](JSON[_0xa0ac55(0x157)]({'type':_0x21dec1[_0xa0ac55(0x1f9)],'message':_0x21dec1[_0xa0ac55(0x196)]}));}}}_0x144659[_0xa0ac55(0x1a8)]=_0x40689e,_0x144659[_0xa0ac55(0x13e)]=_0x535c71,_0x144659[_0xa0ac55(0x19f)]=_0x450a87,_0x21ec47[_0xa0ac55(0x1ca)][_0x40689e]=_0x144659,await _0x21dec1[_0xa0ac55(0x1be)](_0x31f739,_0x21ec47,_0x450a87),await _0x21dec1[_0xa0ac55(0x209)](R,_0x36d0eb,_0x144659,_0x21ec47,_0x450a87);});return;case _0x21dec1[_0x54cbfb(0x142)]:await _0x21dec1[_0x54cbfb(0x136)](h,_0x450a87,async()=>{const _0x38e215=_0x54cbfb,_0x3a0b74=_0x182ba2[_0x38e215(0x1b2)](T,_0x450a87),_0x5a0fef=_0xd1dccd;if(![_0x182ba2[_0x38e215(0x1ec)],_0x182ba2[_0x38e215(0x1f4)]][_0x38e215(0x14b)](_0x5a0fef)||_0x182ba2[_0x38e215(0x18a)](_0x3a0b74[_0x38e215(0x1f7)][_0x5a0fef],_0x535c71))return _0x144659[_0x38e215(0x15b)](JSON[_0x38e215(0x157)]({'type':_0x182ba2[_0x38e215(0x192)],'message':_0x182ba2[_0x38e215(0x1f3)]}));const _0x18fd14=_0x3a0b74[_0x38e215(0x1ca)][_0x5a0fef];_0x18fd14&&_0x182ba2[_0x38e215(0x1de)](_0x18fd14[_0x38e215(0x211)],_0x5e3cda[_0x38e215(0x1a6)])&&_0x18fd14[_0x38e215(0x18c)](),_0x144659[_0x38e215(0x1a8)]=_0x5a0fef,_0x144659[_0x38e215(0x13e)]=_0x535c71,_0x144659[_0x38e215(0x19f)]=_0x450a87,_0x3a0b74[_0x38e215(0x1ca)][_0x5a0fef]=_0x144659,await _0x182ba2[_0x38e215(0x141)](_0x31f739,_0x3a0b74,_0x450a87),await _0x182ba2[_0x38e215(0x1e0)](R,_0x36d0eb,_0x144659,_0x3a0b74,_0x450a87);});return;case _0x21dec1[_0x54cbfb(0x202)]:await _0x21dec1[_0x54cbfb(0x1a9)](h,_0x450a87,async()=>{const _0x1adef6=_0x54cbfb;_0x182ba2[_0x1adef6(0x197)](i,_0x1adef6(0x17c)+_0x1adef6(0x162)+_0x144659[_0x1adef6(0x1a8)]+_0x1adef6(0x180)+_0x450a87,_0x182ba2[_0x1adef6(0x205)]),_0x5c2934[_0x1adef6(0x1bd)]=_0x5c2934[_0x1adef6(0x1bd)]||{},_0x5c2934[_0x1adef6(0x1bd)][_0x144659[_0x1adef6(0x1a8)]]=_0x4583f9[_0x1adef6(0x170)],_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x160)]=_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x160)]||[],await _0x182ba2[_0x1adef6(0x1b4)](_0x1a99bd,_0x450a87,_0x5c2934[_0x1adef6(0x1bd)]),_0x182ba2[_0x1adef6(0x197)](i,_0x1adef6(0x12f)+_0x1adef6(0x1cc)+_0x144659[_0x1adef6(0x1a8)]+_0x1adef6(0x18d),_0x182ba2[_0x1adef6(0x1b5)]),_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x1bc)]&&_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x1b6)]&&(_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x129)]=_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x129)]||_0x182ba2[_0x1adef6(0x1ec)],_0x5c2934[_0x1adef6(0x1c1)+_0x1adef6(0x155)]={'player1':_0x182ba2[_0x1adef6(0x1b2)](structuredClone,_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x1bc)]),'player2':_0x182ba2[_0x1adef6(0x13b)](structuredClone,_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x1b6)])},_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x1c1)+_0x1adef6(0x155)]=_0x5c2934[_0x1adef6(0x1c1)+_0x1adef6(0x155)],await _0x182ba2[_0x1adef6(0x1b4)](_0x1a99bd,_0x450a87,_0x5c2934[_0x1adef6(0x1bd)]),_0x182ba2[_0x1adef6(0x141)](i,_0x1adef6(0x158)+_0x1adef6(0x152)+_0x1adef6(0x1ed)+_0x1adef6(0x133)+_0x450a87+_0x1adef6(0x1d2)+_0x5c2934[_0x1adef6(0x1bd)][_0x1adef6(0x129)],_0x182ba2[_0x1adef6(0x205)]),[_0x182ba2[_0x1adef6(0x1ec)],_0x182ba2[_0x1adef6(0x1f4)]][_0x1adef6(0x134)](_0x44da82=>{const _0x27be64=_0x1adef6;_0x182ba2[_0x27be64(0x1af)](_0x1ada7c,_0x5c2934[_0x27be64(0x1ca)][_0x44da82],{'type':_0x182ba2[_0x27be64(0x1a7)],'initialFleet':_0x5c2934[_0x27be64(0x1c1)+_0x27be64(0x155)][_0x44da82],'battle_ready':!(-0x2178+0x5f2+0xd*0x21e),'turn':_0x5c2934[_0x27be64(0x1bd)][_0x27be64(0x129)],'shots':_0x5c2934[_0x27be64(0x1bd)][_0x27be64(0x160)]});}));});return;case _0x21dec1[_0x54cbfb(0x1ff)]:await _0x21dec1[_0x54cbfb(0x188)](h,_0x450a87,async()=>{const _0xdeb777=_0x54cbfb,{x:_0x2de04d,y:_0x513eac}=_0x4583f9,_0x5a076e=p[_0x450a87],_0x1cdb54=_0x5a076e[_0xdeb777(0x1bd)];if(_0x182ba2[_0xdeb777(0x16c)](_0x1cdb54[_0xdeb777(0x129)],_0x144659[_0xdeb777(0x1a8)]))return;const _0x5d9138=_0x182ba2[_0xdeb777(0x17f)](_0x144659[_0xdeb777(0x1a8)],_0x182ba2[_0xdeb777(0x1ec)])?_0x182ba2[_0xdeb777(0x1f4)]:_0x182ba2[_0xdeb777(0x1ec)],_0x508472=_0x1cdb54[_0x5d9138];let _0x355fb9=!(-0x1*-0x9d2+-0x1ec+-0x7e5),_0x1409c3=null;for(const [_0x304bed,_0x58d0cf]of Object[_0xdeb777(0x1fa)](_0x508472)){const _0xb70c5c=_0x58d0cf[_0xdeb777(0x131)](_0x261b57=>_0x261b57['x']===_0x2de04d&&_0x261b57['y']===_0x513eac);if(_0x182ba2[_0xdeb777(0x1a4)](_0xb70c5c,-(0x329*0x1+0x1223*0x1+0x3*-0x719))){_0x355fb9=!(-0x1131+-0x1*0xec3+-0x199*-0x14),_0x58d0cf[_0xdeb777(0x181)](_0xb70c5c,0x2*0x10f+-0x2dd+0xc0),_0x182ba2[_0xdeb777(0x1fb)](_0x58d0cf[_0xdeb777(0x1dc)],0x1f8b+-0x856+0x1c9*-0xd)&&(_0x1409c3={'ship':_0x304bed,'coords':_0x5a076e[_0xdeb777(0x1c1)+_0xdeb777(0x155)][_0x5d9138][_0x304bed]},_0x182ba2[_0xdeb777(0x141)](i,_0xdeb777(0x153)+_0x304bed+_0xdeb777(0x172),_0x182ba2[_0xdeb777(0x205)]));break;}}const _0x771fbd=Object[_0xdeb777(0x20b)](_0x508472)[_0xdeb777(0x1d7)](_0x26d2fb=>_0x26d2fb[_0xdeb777(0x1dc)]===0x17*0x185+0x1*0x133f+-0x3632);_0x182ba2[_0xdeb777(0x17b)](!_0x355fb9,!_0x771fbd)&&(_0x1cdb54[_0xdeb777(0x129)]=_0x5d9138);const _0x5b63f3={'type':_0x182ba2[_0xdeb777(0x130)],'x':_0x2de04d,'y':_0x513eac,'isHit':_0x355fb9,'by':_0x144659[_0xdeb777(0x1a8)],'turn':_0x1cdb54[_0xdeb777(0x129)]};_0x1409c3&&(_0x5b63f3[_0xdeb777(0x194)]=_0x1409c3),_0x771fbd&&(_0x5b63f3[_0xdeb777(0x1c6)]=!(0x117a+0x3*-0x79+-0x100f),_0x5b63f3[_0xdeb777(0x1e2)]=_0x144659[_0xdeb777(0x1a8)]),_0x1cdb54[_0xdeb777(0x160)][_0xdeb777(0x1d4)]({'x':_0x2de04d,'y':_0x513eac,'isHit':_0x355fb9,'by':_0x144659[_0xdeb777(0x1a8)],'sunk':_0x182ba2[_0xdeb777(0x132)](_0x1409c3,null),'gameOver':_0x771fbd,'winner':_0x771fbd?_0x144659[_0xdeb777(0x1a8)]:null}),_0x771fbd?(await _0x182ba2[_0xdeb777(0x13b)](_0x2053a5,_0x450a87),delete p[_0x450a87],_0x182ba2[_0xdeb777(0x197)](i,_0xdeb777(0x1dd)+_0x450a87+(_0xdeb777(0x208)+_0xdeb777(0x1d9)+'ён'),_0x182ba2[_0xdeb777(0x205)])):(await _0x182ba2[_0xdeb777(0x197)](_0x1a99bd,_0x450a87,_0x1cdb54),_0x182ba2[_0xdeb777(0x1af)](i,_0xdeb777(0x1dd)+_0x450a87+(_0xdeb777(0x135)+_0xdeb777(0x149)+_0xdeb777(0x184)),_0x182ba2[_0xdeb777(0x1b5)])),_0x182ba2[_0xdeb777(0x197)](_0x1ada7c,_0x5a076e[_0xdeb777(0x1ca)][_0xdeb777(0x1bc)],_0x5b63f3),_0x182ba2[_0xdeb777(0x166)](_0x1ada7c,_0x5a076e[_0xdeb777(0x1ca)][_0xdeb777(0x1b6)],_0x5b63f3);});return;case _0x21dec1[_0x54cbfb(0x17a)]:{const {text:_0x3a7c52}=_0x4583f9;if(_0x21dec1[_0x54cbfb(0x1f8)](typeof _0x3a7c52,_0x21dec1[_0x54cbfb(0x174)])||!_0x144659[_0x54cbfb(0x19f)])return;const _0x45533c=p[_0x144659[_0x54cbfb(0x19f)]];if(!_0x45533c)return;const _0x4d60bc={'type':_0x21dec1[_0x54cbfb(0x17a)],'from':_0x144659[_0x54cbfb(0x1a8)],'text':_0x3a7c52[_0x54cbfb(0x1d1)](-0x179+-0x12ea*-0x1+-0x1171,0xc3e*-0x2+0x2f*-0xb5+-0x3bab*-0x1)};[_0x21dec1[_0x54cbfb(0x14c)],_0x21dec1[_0x54cbfb(0x159)]][_0x54cbfb(0x134)](_0x337d6d=>{const _0x584808=_0x54cbfb,_0x49b92b=_0x45533c[_0x584808(0x1ca)][_0x337d6d];_0x49b92b&&_0x182ba2[_0x584808(0x1fb)](_0x49b92b[_0x584808(0x211)],_0x49b92b[_0x584808(0x20d)])&&_0x49b92b[_0x584808(0x15b)](JSON[_0x584808(0x157)](_0x4d60bc));});return;}default:_0x144659[_0x54cbfb(0x15b)](JSON[_0x54cbfb(0x157)]({'type':_0x21dec1[_0x54cbfb(0x1f9)],'message':_0x21dec1[_0x54cbfb(0x18b)]}));return;}}),_0x144659['on'](_0x21dec1[_0x3ef55c(0x16b)],()=>{const _0x13fe85=_0x3ef55c;_0x21dec1[_0x13fe85(0x1f2)](h,_0x144659[_0x13fe85(0x19f)],()=>{const _0x4230b5=_0x13fe85,_0x6194a2=p[_0x144659[_0x4230b5(0x19f)]];if(_0x6194a2&&_0x144659[_0x4230b5(0x1a8)]&&_0x21dec1[_0x4230b5(0x169)](_0x6194a2[_0x4230b5(0x1ca)][_0x144659[_0x4230b5(0x1a8)]],_0x144659)){_0x6194a2[_0x4230b5(0x1ca)][_0x144659[_0x4230b5(0x1a8)]]=null;const _0x45d98b=_0x21dec1[_0x4230b5(0x13c)](_0x144659[_0x4230b5(0x1a8)],_0x21dec1[_0x4230b5(0x14c)])?_0x21dec1[_0x4230b5(0x159)]:_0x21dec1[_0x4230b5(0x14c)],_0x1b45af=_0x6194a2[_0x4230b5(0x1ca)][_0x45d98b];_0x1b45af&&_0x21dec1[_0x4230b5(0x169)](_0x1b45af[_0x4230b5(0x211)],_0x5e3cda[_0x4230b5(0x20d)])&&_0x1b45af[_0x4230b5(0x15b)](JSON[_0x4230b5(0x157)]({'type':_0x21dec1[_0x4230b5(0x1cb)]}));}});});});const W=(-0x1*-0xa67+0x241*-0xd+0x1412)*(0x15d5+0x244e+-0x363b*0x1),q=(-0x1be6*0x1+0x704+0x151e)*(-0xa5*0x39+0x1b12+0xd93*0x1);setInterval(()=>{const _0x31fd2f=_0x200d74,_0x4ea2e9={'EkqKz':_0x31fd2f(0x1bc),'xDbxG':_0x31fd2f(0x1b6),'bFocx':function(_0x23f9c0,_0x47a40e){return _0x23f9c0>_0x47a40e;},'KSELa':function(_0x1e52ca,_0x4d41d2){return _0x1e52ca-_0x4d41d2;},'jfZaE':function(_0x479780,_0x2b7bb4,_0x3eec37){return _0x479780(_0x2b7bb4,_0x3eec37);},'aIkOa':_0x31fd2f(0x168)},_0x36b8ab=Date[_0x31fd2f(0x16f)]();for(const [_0x28ca36,_0x2328dd]of Object[_0x31fd2f(0x1fa)](p))![_0x4ea2e9[_0x31fd2f(0x1ad)],_0x4ea2e9[_0x31fd2f(0x137)]][_0x31fd2f(0x1a3)](_0x2dbb6b=>_0x2328dd[_0x31fd2f(0x1ca)][_0x2dbb6b]?.[_0x31fd2f(0x211)]===_0x5e3cda[_0x31fd2f(0x20d)])&&_0x4ea2e9[_0x31fd2f(0x1e3)](_0x4ea2e9[_0x31fd2f(0x187)](_0x36b8ab,_0x2328dd[_0x31fd2f(0x190)]),W)&&(_0x4ea2e9[_0x31fd2f(0x1df)](i,_0x31fd2f(0x1e8)+_0x31fd2f(0x1e5)+_0x28ca36,_0x4ea2e9[_0x31fd2f(0x1e9)]),delete p[_0x28ca36]);},q);const B=(-0x96c+-0x1*0xe21+0x17ab)*(-0x4*-0x6a2+-0x1576+-0x12a);function _0x3c15(_0x1d3427,_0x334047){const _0x11b503=_0x500c();return _0x3c15=function(_0x3892a2,_0x16b4e0){_0x3892a2=_0x3892a2-(0x9*0xc9+0xc3d+-0x1225);let _0x3cc79d=_0x11b503[_0x3892a2];return _0x3cc79d;},_0x3c15(_0x1d3427,_0x334047);}setInterval(()=>{const _0x16716c=_0x200d74;L[_0x16716c(0x13f)][_0x16716c(0x134)](_0x323d5e=>{const _0x58f721=_0x16716c;if(!_0x323d5e[_0x58f721(0x14d)])return _0x323d5e[_0x58f721(0x173)]();_0x323d5e[_0x58f721(0x14d)]=!(-0x1e1f+0x2*0x3f3+0x239*0xa),_0x323d5e[_0x58f721(0x145)]();});},B);