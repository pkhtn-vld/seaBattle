const _0x1f54bd=_0x2eb5;(function(_0x15a9a1,_0x12f14e){const _0x3d5203=_0x2eb5,_0x9da02f=_0x15a9a1();while(!![]){try{const _0xfb6f6=parseInt(_0x3d5203(0x1f5))/(-0x470*0x2+-0x313+0xbf4)+-parseInt(_0x3d5203(0x220))/(0x1*0x1b9b+-0x26dd*-0x1+-0x213b*0x2)+-parseInt(_0x3d5203(0x1bb))/(0x19da+-0x1c31+0x56*0x7)+-parseInt(_0x3d5203(0x25c))/(0x51+-0x226a+0x221d)+-parseInt(_0x3d5203(0x1fb))/(-0xd4f+-0xda6*0x1+-0x1afa*-0x1)+parseInt(_0x3d5203(0x26b))/(-0x2359+-0x83e+0x2b9d)+parseInt(_0x3d5203(0x27d))/(0x1c55*0x1+0x17da+-0x3428);if(_0xfb6f6===_0x12f14e)break;else _0x9da02f['push'](_0x9da02f['shift']());}catch(_0x229522){_0x9da02f['push'](_0x9da02f['shift']());}}}(_0x8214,-0x3ac07*0x1+-0x11050*-0x7+0x28d8f));import _0x24ee33 from'express';function _0x2eb5(_0x38be8b,_0x2b731c){const _0x24a5ae=_0x8214();return _0x2eb5=function(_0x551972,_0x3be02f){_0x551972=_0x551972-(-0xab7+-0x16bd+0x232a);let _0x35ac66=_0x24a5ae[_0x551972];return _0x35ac66;},_0x2eb5(_0x38be8b,_0x2b731c);}import{WebSocketServer as _0x4a5cde,WebSocket as _0x39dd90}from'ws';import{send as _0x5ec708}from'./utils.js';import{restoreGame as _0x1aa9dd,saveGame as _0x149a25,deleteGame as _0x2a89d9,ensureGamesFolder as _0x5e9584}from'./fsGames.js';const T=process[_0x1f54bd(0x214)][_0x1f54bd(0x28c)]||0xb*-0x115+-0x60*-0x52+-0x721,u={},D={};function $(_0x5d2284,_0xbb1ae0){const _0x318eb0={'LHyGx':function(_0x37655e){return _0x37655e();},'GSHVE':function(_0x1dfd4c,_0x3d34a9){return _0x1dfd4c(_0x3d34a9);},'kRcYK':function(_0x57aaca,_0xb0eb5f){return _0x57aaca===_0xb0eb5f;},'aermE':function(_0xc49dc6){return _0xc49dc6();}};D[_0x5d2284]||(D[_0x5d2284]=[]);const _0x3bc937=D[_0x5d2284];return new Promise((_0x1cfcca,_0x30aa83)=>{const _0x5ed72a=_0x2eb5,_0x137912={'rfoLF':function(_0x3a5e0e){const _0x1173b8=_0x2eb5;return _0x318eb0[_0x1173b8(0x20b)](_0x3a5e0e);},'TpJuj':function(_0x425ca0,_0x2294db){const _0x272d0f=_0x2eb5;return _0x318eb0[_0x272d0f(0x1ed)](_0x425ca0,_0x2294db);}},_0x19bebe=async()=>{const _0x3d2ef3=_0x2eb5;try{const _0x498f5c=await _0x137912[_0x3d2ef3(0x284)](_0xbb1ae0);_0x137912[_0x3d2ef3(0x1f9)](_0x1cfcca,_0x498f5c);}catch(_0x9c342){_0x137912[_0x3d2ef3(0x1f9)](_0x30aa83,_0x9c342);}finally{_0x3bc937[_0x3d2ef3(0x1c6)](),_0x3bc937[_0x3d2ef3(0x226)]?_0x3bc937[0x1*0x435+0x206c+-0x24a1]():delete D[_0x5d2284];}};_0x3bc937[_0x5ed72a(0x1cb)](_0x19bebe),_0x318eb0[_0x5ed72a(0x1e3)](_0x3bc937[_0x5ed72a(0x226)],-0xd2b*-0x2+-0x37a+-0x1*0x16db)&&_0x318eb0[_0x5ed72a(0x20d)](_0x19bebe);});}async function x(_0x46d0d4,_0x5e629f,_0x3a3274,_0x5d355a){const _0x287f59=_0x1f54bd,_0x4f7396={'iEMvg':function(_0x343e59,_0x572bb7,_0x529704){return _0x343e59(_0x572bb7,_0x529704);},'FwuLX':_0x287f59(0x1e2),'ILwOQ':function(_0x3eadfc,_0x25e211,_0x4aabe4){return _0x3eadfc(_0x25e211,_0x4aabe4);},'oMSWO':_0x287f59(0x25f),'PKKub':function(_0x239e96,_0x27eff1,_0x9c1bbe){return _0x239e96(_0x27eff1,_0x9c1bbe);},'Miacz':_0x287f59(0x24e)+_0x287f59(0x1bf),'DWDin':function(_0x252dac,_0x3471eb){return _0x252dac&&_0x3471eb;},'JjKMH':function(_0x49ad51,_0x543233){return _0x49ad51===_0x543233;},'xLltc':_0x287f59(0x267),'DLbPl':function(_0xf751e,_0x66339b,_0x5c3660){return _0xf751e(_0x66339b,_0x5c3660);},'UpIqE':_0x287f59(0x224),'bbdkU':function(_0x3ae551,_0x558845,_0x566889){return _0x3ae551(_0x558845,_0x566889);},'fPPrd':_0x287f59(0x229),'RQUyM':_0x287f59(0x28e),'zIfAu':function(_0x2f2d86,_0x46c5f6,_0xb2bb2c){return _0x2f2d86(_0x46c5f6,_0xb2bb2c);},'rcAIP':function(_0x58bfb0,_0x3c6595,_0x3e1ccf){return _0x58bfb0(_0x3c6595,_0x3e1ccf);},'PFpkK':_0x287f59(0x295),'gxcug':_0x287f59(0x1d3)};_0x5e629f[_0x287f59(0x265)]=_0x5d355a,_0x3a3274[_0x287f59(0x1dc)][_0x5e629f[_0x287f59(0x281)]]=_0x5e629f,_0x4f7396[_0x287f59(0x1ff)](s,_0x287f59(0x23c)+_0x287f59(0x27b)+_0x5e629f[_0x287f59(0x281)]+_0x287f59(0x208)+_0x5d355a,_0x4f7396[_0x287f59(0x272)]),_0x4f7396[_0x287f59(0x1e6)](_0x5ec708,_0x5e629f,{'type':_0x4f7396[_0x287f59(0x1c9)],'role':_0x5e629f[_0x287f59(0x281)]});const _0x32bf15=_0x3a3274[_0x287f59(0x1dc)][_0x287f59(0x295)],_0x54beae=_0x3a3274[_0x287f59(0x1dc)][_0x287f59(0x1d3)],_0x80c6e9=!!_0x4f7396[_0x287f59(0x1f7)](_0x32bf15,_0x54beae);_0x4f7396[_0x287f59(0x274)](_0x46d0d4,_0x4f7396[_0x287f59(0x230)])?_0x80c6e9?(_0x4f7396[_0x287f59(0x1d1)](s,_0x287f59(0x1f8)+_0x287f59(0x283)+_0x287f59(0x1f0)+_0x5d355a,_0x4f7396[_0x287f59(0x272)]),_0x4f7396[_0x287f59(0x210)](_0x5ec708,_0x32bf15,{'type':_0x4f7396[_0x287f59(0x1c8)]}),_0x4f7396[_0x287f59(0x1ff)](_0x5ec708,_0x54beae,{'type':_0x4f7396[_0x287f59(0x1c8)]})):_0x4f7396[_0x287f59(0x249)](_0x5ec708,_0x5e629f,{'type':_0x4f7396[_0x287f59(0x1dd)]}):_0x80c6e9?(_0x4f7396[_0x287f59(0x1ff)](s,_0x287f59(0x203)+_0x287f59(0x290)+':\x20'+_0x5d355a,_0x4f7396[_0x287f59(0x272)]),_0x4f7396[_0x287f59(0x1ff)](_0x5ec708,_0x32bf15,{'type':_0x4f7396[_0x287f59(0x282)]}),_0x4f7396[_0x287f59(0x260)](_0x5ec708,_0x54beae,{'type':_0x4f7396[_0x287f59(0x282)]})):_0x4f7396[_0x287f59(0x2a0)](_0x5ec708,_0x5e629f,{'type':_0x4f7396[_0x287f59(0x1dd)]}),_0x3a3274[_0x287f59(0x1be)]?.[_0x287f59(0x295)]&&_0x3a3274[_0x287f59(0x1be)]?.[_0x287f59(0x1d3)]&&_0x80c6e9&&(_0x4f7396[_0x287f59(0x249)](s,_0x287f59(0x1ea)+_0x287f59(0x276)+_0x287f59(0x24f)+_0x5d355a,_0x4f7396[_0x287f59(0x272)]),[_0x4f7396[_0x287f59(0x1fd)],_0x4f7396[_0x287f59(0x250)]][_0x287f59(0x293)](_0x24284d=>{const _0x338f27=_0x287f59;_0x4f7396[_0x338f27(0x1d1)](_0x5ec708,_0x3a3274[_0x338f27(0x1dc)][_0x24284d],{'type':_0x4f7396[_0x338f27(0x1de)],'initialFleet':_0x3a3274[_0x338f27(0x1c1)+_0x338f27(0x243)][_0x24284d],'battle_ready':!(0x9*0x235+-0x1c*0x139+0xe5f),'turn':_0x3a3274[_0x338f27(0x1be)][_0x338f27(0x212)],'shots':_0x3a3274[_0x338f27(0x1be)][_0x338f27(0x26c)]});}));}function _0x8214(){const _0x27b0fa=['iEMvg','bXJYN','player2','playerIds','terminate','pause','rt\x20от\x20','HhCjo','ryQqw','\x20сохранены','Сервер\x20слу','sockets','fPPrd','FwuLX','pLGuJ','RauLo','обязателен','battle','kRcYK','IDKuo','ой\x20начинае','PKKub','\x20потоплен!','isArB','CNPaW','Рестарт\x20бо','\x20роль\x20или\x20',']\x20[','GSHVE','keLJU','вая\x20сессия','ы:\x20','pUZDt','Mltue','every','fOVIM','319163vEZAPO','iXFMR','DWDin','Оба\x20игрока','TpJuj','hhzjP','3077045ZKZFzL','т\x20клиента:','PFpkK','\x20обновлена','ILwOQ','DOOUY','readyState','CLOSED','Сессия\x20вос','shot_resul','\x20готовы.\x20Б','DuHrs','WPlLd','\x20в\x20сессии\x20','gAYci','Jxruj','LHyGx','UiWbD','aermE','ока\x20','Создана\x20но','DLbPl','mOnxy','turn','←\x20Получено','env','ycboa','CuPce','ZkDOa','secret_id\x20','тся:\x20','XXiyL','bSocket-по','ый\x20JSON','Комната\x20за','OPEN','fVkpu','301408ClDBrU','some','HLtoK','PHBej','connected','→\x20Новое\x20We','length','reconnect','chat','waiting','HCnxn','дключение','полнена','ping','init','VGeht','xLltc','SLAzi','splice','gPUFv','error','fhqJb','шает\x20http:','fTAOM','triSj','ообщении\x20о','static','public','Назначена\x20','sunk','myrrI','YWDEc','AraYD','QKCmb','UEJqY','ets','smGNG','pRMjK','й\x20тип','XyLBw','Данные\x20игр','bbdkU','playerId','now','Игра\x20','tdHht','role_assig','ии\x20','gxcug','replace','xPDsu','→\x20Корабль\x20','includes','UufKJ','XVpHT','ссию\x20','use','epqCg','oNHrp','warn','1531744naApAQ','connection','sxVcO','info','zIfAu','xLovy','vGNfB','CbEyN','gameOver','secret_id','message','connect','Невозможен','fleet','isAlive','3728940okWUtm','shots','listen','Ошибка\x20в\x20с','FlCYU','Неизвестны','PLMRb','oMSWO','eFdSl','JjKMH','\x20после\x20выс','я\x20для\x20сесс','QKmXI','wNSYs','\x20reconnect','shoot','роль\x20','//localhos','6929951mfnRqq','tmcPv','values','TLXAu','role','RQUyM','\x20подключен','rfoLF','findIndex','clients','MKLRE','bFcCM','mAMsF','youtv','OxrwS','PORT','QEXbU','resume','log','становлена','battle_sta','KnrmH','forEach','close','player1','pong','VTmQc','Некорректн','Удаляем\x20се','slice','\x20окончена,','аботки\x20','Ckckj','debug','\x20сообщение','rcAIP','winner','xHFFS','parse','VqinK','split','tXXfw','\x20файл\x20удал','tcZex','трела','hquca','guRcN','kXCpc','1100847OAZWSv',',\x20ходит\x20','lastActive','battleData','ned','YheLW','initialFle','bCHFL','toISOStrin','string','entries','shift','IsgoU','UpIqE','Miacz','CDMyC','push','Internal\x20s','hToac','Ошибка\x20обр','erver\x20erro',':\x20неверная'];_0x8214=function(){return _0x27b0fa;};return _0x8214();}function L(_0x380d44){return u[_0x380d44]||(u[_0x380d44]={'playerIds':{'player1':null,'player2':null},'sockets':{'player1':null,'player2':null}}),u[_0x380d44];}function s(_0x5274d0,_0x4d007b=_0x1f54bd(0x25f)){const _0x3e6111=_0x1f54bd,_0x25a64a=new Date()[_0x3e6111(0x1c3)+'g']()[_0x3e6111(0x251)]('T','\x20')[_0x3e6111(0x2a5)]('.')[0x82a+0x5b9+-0xde3];console[_0x3e6111(0x28f)]('['+_0x25a64a+_0x3e6111(0x1ec)+_0x4d007b+']\x20'+_0x5274d0);}await _0x5e9584();const N=_0x24ee33();N[_0x1f54bd(0x258)](_0x24ee33[_0x1f54bd(0x23a)](_0x1f54bd(0x23b)));const W=N[_0x1f54bd(0x26d)](T,()=>s(_0x1f54bd(0x1db)+_0x1f54bd(0x236)+_0x1f54bd(0x27c)+'t:'+T,_0x1f54bd(0x22e))),C=new _0x4a5cde({'server':W});C['on'](_0x1f54bd(0x25d),_0x4876e5=>{const _0x403570=_0x1f54bd,_0x4713b4={'ZkDOa':function(_0x53765b,_0x2b107a){return _0x53765b(_0x2b107a);},'HLtoK':_0x403570(0x295),'Ckckj':_0x403570(0x1d3),'epqCg':function(_0x1c1f12,_0x13a075){return _0x1c1f12!==_0x13a075;},'VqinK':function(_0x32ae85,_0x5cc8f2,_0x4076d2){return _0x32ae85(_0x5cc8f2,_0x4076d2);},'xHFFS':_0x403570(0x234),'gPUFv':_0x403570(0x268)+_0x403570(0x279)+_0x403570(0x1d0)+_0x403570(0x1eb)+_0x403570(0x24a),'eFdSl':function(_0x483db7,_0x11ca03){return _0x483db7!==_0x11ca03;},'triSj':function(_0x2d53ee,_0x28da95,_0x59d218,_0x4a2a88,_0x12d291){return _0x2d53ee(_0x28da95,_0x59d218,_0x4a2a88,_0x12d291);},'mAMsF':function(_0x3cb704,_0x57472b,_0x26341d){return _0x3cb704(_0x57472b,_0x26341d);},'YheLW':function(_0x470478,_0x1ef8ed){return _0x470478===_0x1ef8ed;},'FlCYU':function(_0xfb3cb5,_0x198323){return _0xfb3cb5===_0x198323;},'sxVcO':function(_0x44aa52,_0x5cce01,_0x3a2acd){return _0x44aa52(_0x5cce01,_0x3a2acd);},'isArB':_0x403570(0x21d)+_0x403570(0x22c),'hToac':function(_0x51c630,_0x267435,_0x185629){return _0x51c630(_0x267435,_0x185629);},'PHBej':function(_0x60dbc2,_0x462f0e,_0x3aa537,_0x306f86,_0x2c8f9d){return _0x60dbc2(_0x462f0e,_0x3aa537,_0x306f86,_0x2c8f9d);},'Mltue':_0x403570(0x1e2),'QKCmb':_0x403570(0x25f),'CbEyN':_0x403570(0x29e),'CNPaW':function(_0x1404f8,_0x25e345){return _0x1404f8!==_0x25e345;},'hquca':function(_0x4217f7,_0x42539a){return _0x4217f7&&_0x42539a;},'xPDsu':_0x403570(0x204)+'t','CDMyC':function(_0x2d766c,_0x4c0e65){return _0x2d766c||_0x4c0e65;},'guRcN':function(_0x262e1d,_0x265186,_0x1ca87e){return _0x262e1d(_0x265186,_0x1ca87e);},'QEXbU':function(_0x41788b,_0x2ff444,_0x59671c){return _0x41788b(_0x2ff444,_0x59671c);},'VTmQc':function(_0x3ff738,_0x318aa6,_0x3b238f){return _0x3ff738(_0x318aa6,_0x3b238f);},'bXJYN':_0x403570(0x298)+_0x403570(0x21c),'bCHFL':_0x403570(0x25b),'mOnxy':_0x403570(0x218)+_0x403570(0x1e1),'kXCpc':function(_0x101e69,_0x4c05af,_0x350f3a){return _0x101e69(_0x4c05af,_0x350f3a);},'pUZDt':_0x403570(0x267),'VGeht':function(_0x5d2215,_0x3856df,_0x9d9c6e){return _0x5d2215(_0x3856df,_0x9d9c6e);},'hhzjP':_0x403570(0x1cc)+_0x403570(0x1cf)+'r','ycboa':_0x403570(0x227),'tdHht':function(_0x23edfd,_0xc673c4,_0x513ab7){return _0x23edfd(_0xc673c4,_0x513ab7);},'tcZex':function(_0x37e403,_0x50d3f3,_0xce3df8){return _0x37e403(_0x50d3f3,_0xce3df8);},'xLovy':_0x403570(0x291)+'rt','HhCjo':_0x403570(0x27a),'HCnxn':function(_0x446496,_0x5b4d7a,_0x71b592){return _0x446496(_0x5b4d7a,_0x71b592);},'WPlLd':function(_0xc862ae,_0xe57fc9,_0x5e42d1){return _0xc862ae(_0xe57fc9,_0x5e42d1);},'Jxruj':_0x403570(0x228),'vGNfB':function(_0x59eb5a,_0x10b85d){return _0x59eb5a!=_0x10b85d;},'UEJqY':_0x403570(0x1c4),'wNSYs':_0x403570(0x270)+_0x403570(0x246),'iXFMR':function(_0x486924,_0x326c88,_0x5f5c98){return _0x486924(_0x326c88,_0x5f5c98);},'MKLRE':function(_0xf47ba0,_0x793a39){return _0xf47ba0===_0x793a39;},'XyLBw':_0x403570(0x1d6),'smGNG':function(_0x1974a8,_0x17cad4,_0x1a95a3){return _0x1974a8(_0x17cad4,_0x1a95a3);},'XVpHT':_0x403570(0x225)+_0x403570(0x21b)+_0x403570(0x22b),'DuHrs':_0x403570(0x296),'AraYD':_0x403570(0x266),'keLJU':_0x403570(0x294)};_0x4713b4[_0x403570(0x217)](s,_0x4713b4[_0x403570(0x256)]),_0x4876e5[_0x403570(0x26a)]=!(0x1e6*0x14+0x1082+-0x13*0x2de),_0x4876e5['on'](_0x4713b4[_0x403570(0x206)],()=>{const _0x2dba31=_0x403570;_0x4876e5[_0x2dba31(0x26a)]=!(0x307*0x7+0x1e32+-0x3363);}),_0x4876e5[_0x403570(0x281)]=null,_0x4876e5[_0x403570(0x265)]=null,_0x4876e5['on'](_0x4713b4[_0x403570(0x240)],async _0x5df93f=>{const _0x2920d8=_0x403570,_0x43eff8={'pRMjK':function(_0x1b27ba,_0x3c1fc4){const _0x2df0e8=_0x2eb5;return _0x4713b4[_0x2df0e8(0x217)](_0x1b27ba,_0x3c1fc4);},'tmcPv':_0x4713b4[_0x2920d8(0x222)],'UufKJ':_0x4713b4[_0x2920d8(0x29d)],'QKmXI':function(_0x2cf0ed,_0x47753e){const _0xef209a=_0x2920d8;return _0x4713b4[_0xef209a(0x1c0)](_0x2cf0ed,_0x47753e);},'KnrmH':function(_0x578997,_0x7c6917){const _0x2718b3=_0x2920d8;return _0x4713b4[_0x2718b3(0x26f)](_0x578997,_0x7c6917);},'IsgoU':function(_0x267c02,_0x34e8ce,_0x4ebc79){const _0x15e86f=_0x2920d8;return _0x4713b4[_0x15e86f(0x25e)](_0x267c02,_0x34e8ce,_0x4ebc79);},'pLGuJ':_0x4713b4[_0x2920d8(0x2a2)],'UiWbD':_0x4713b4[_0x2920d8(0x1e8)],'PLMRb':function(_0xe7bea9,_0x38cc52,_0xf5f615){const _0x540616=_0x2920d8;return _0x4713b4[_0x540616(0x1cd)](_0xe7bea9,_0x38cc52,_0xf5f615);},'fVkpu':function(_0x5d736a,_0x5955aa,_0x33d8b7,_0x40ffa1,_0x1febb0){const _0x364fd4=_0x2920d8;return _0x4713b4[_0x364fd4(0x223)](_0x5d736a,_0x5955aa,_0x33d8b7,_0x40ffa1,_0x1febb0);},'ryQqw':_0x4713b4[_0x2920d8(0x1f2)],'tXXfw':_0x4713b4[_0x2920d8(0x241)],'oNHrp':function(_0x465a26,_0x1f60eb,_0x48917e){const _0x5daa55=_0x2920d8;return _0x4713b4[_0x5daa55(0x1cd)](_0x465a26,_0x1f60eb,_0x48917e);},'IDKuo':_0x4713b4[_0x2920d8(0x263)],'SLAzi':function(_0x2ea0f9,_0x55bb23){const _0x1cee57=_0x2920d8;return _0x4713b4[_0x1cee57(0x1e9)](_0x2ea0f9,_0x55bb23);},'myrrI':function(_0xc2a114,_0x47a067){const _0x55fb38=_0x2920d8;return _0x4713b4[_0x55fb38(0x26f)](_0xc2a114,_0x47a067);},'fOVIM':function(_0x394e35,_0x4a9adc){const _0x30455f=_0x2920d8;return _0x4713b4[_0x30455f(0x1c0)](_0x394e35,_0x4a9adc);},'RauLo':function(_0xf5981a,_0x45be77){const _0x4bb234=_0x2920d8;return _0x4713b4[_0x4bb234(0x1b8)](_0xf5981a,_0x45be77);},'bFcCM':_0x4713b4[_0x2920d8(0x252)],'YWDEc':function(_0x21e763,_0x47c994){const _0x2d4d9f=_0x2920d8;return _0x4713b4[_0x2d4d9f(0x1ca)](_0x21e763,_0x47c994);},'gAYci':function(_0x10001f,_0x58aca4,_0x189431){const _0x52ceda=_0x2920d8;return _0x4713b4[_0x52ceda(0x1b9)](_0x10001f,_0x58aca4,_0x189431);},'DOOUY':function(_0x498a62,_0x4662f9,_0x5edd62){const _0xfda7cc=_0x2920d8;return _0x4713b4[_0xfda7cc(0x1cd)](_0x498a62,_0x4662f9,_0x5edd62);},'OxrwS':function(_0x2870b5,_0x3c62e4,_0x4c8f4e){const _0x36b9ca=_0x2920d8;return _0x4713b4[_0x36b9ca(0x28d)](_0x2870b5,_0x3c62e4,_0x4c8f4e);}};try{let _0x343665;try{_0x343665=JSON[_0x2920d8(0x2a3)](_0x5df93f);}catch{_0x4713b4[_0x2920d8(0x297)](s,_0x4713b4[_0x2920d8(0x1d2)],_0x4713b4[_0x2920d8(0x1c2)]);return;}const {type:_0x584e5b,secret_id:_0x440c25,role:_0x788ba0,playerId:_0x4431be}=_0x343665;if(_0x4713b4[_0x2920d8(0x25e)](s,_0x2920d8(0x213)+_0x2920d8(0x29f)+'\x20'+_0x584e5b,_0x4713b4[_0x2920d8(0x263)]),!_0x440c25){_0x4713b4[_0x2920d8(0x297)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0x2920d8(0x2a2)],'message':_0x4713b4[_0x2920d8(0x211)]});return;}u[_0x440c25]||(u[_0x440c25]={'sockets':{'player1':null,'player2':null},'lastActive':Date[_0x2920d8(0x24b)]()},_0x4713b4[_0x2920d8(0x1ba)](s,_0x2920d8(0x20f)+_0x2920d8(0x1ef)+'\x20'+_0x440c25,_0x4713b4[_0x2920d8(0x263)]));const _0x5bc0e8=u[_0x440c25];switch(_0x5bc0e8[_0x2920d8(0x1bd)]=Date[_0x2920d8(0x24b)](),_0x5bc0e8[_0x2920d8(0x1d4)]=_0x5bc0e8[_0x2920d8(0x1d4)]||{'player1':null,'player2':null},_0x584e5b){case _0x4713b4[_0x2920d8(0x1f1)]:try{await _0x4713b4[_0x2920d8(0x1ba)]($,_0x440c25,async()=>{const _0x1f46db=_0x2920d8,_0x7032c8=_0x43eff8[_0x1f46db(0x245)](L,_0x440c25);for(const _0x1315c0 of[_0x43eff8[_0x1f46db(0x27e)],_0x43eff8[_0x1f46db(0x255)]]){const _0x32e454=_0x7032c8[_0x1f46db(0x1dc)][_0x1315c0];_0x32e454&&_0x43eff8[_0x1f46db(0x277)](_0x32e454[_0x1f46db(0x201)],_0x39dd90[_0x1f46db(0x202)])&&(_0x7032c8[_0x1f46db(0x1dc)][_0x1315c0]=null);}let _0x4d36c3=null;if(_0x43eff8[_0x1f46db(0x292)](_0x7032c8[_0x1f46db(0x1d4)][_0x1f46db(0x295)],_0x4431be)&&!_0x7032c8[_0x1f46db(0x1dc)][_0x1f46db(0x295)])_0x4d36c3=_0x43eff8[_0x1f46db(0x27e)];else{if(_0x43eff8[_0x1f46db(0x292)](_0x7032c8[_0x1f46db(0x1d4)][_0x1f46db(0x1d3)],_0x4431be)&&!_0x7032c8[_0x1f46db(0x1dc)][_0x1f46db(0x1d3)])_0x4d36c3=_0x43eff8[_0x1f46db(0x255)];else{if(!_0x7032c8[_0x1f46db(0x1dc)][_0x1f46db(0x295)])_0x4d36c3=_0x43eff8[_0x1f46db(0x27e)],_0x7032c8[_0x1f46db(0x1d4)][_0x1f46db(0x295)]=_0x4431be;else{if(!_0x7032c8[_0x1f46db(0x1dc)][_0x1f46db(0x1d3)])_0x4d36c3=_0x43eff8[_0x1f46db(0x255)],_0x7032c8[_0x1f46db(0x1d4)][_0x1f46db(0x1d3)]=_0x4431be;else{_0x43eff8[_0x1f46db(0x1c7)](_0x5ec708,_0x4876e5,{'type':_0x43eff8[_0x1f46db(0x1df)],'message':_0x43eff8[_0x1f46db(0x20c)]});return;}}}}_0x4876e5[_0x1f46db(0x281)]=_0x4d36c3,_0x4876e5[_0x1f46db(0x24a)]=_0x4431be,_0x4876e5[_0x1f46db(0x265)]=_0x440c25,_0x7032c8[_0x1f46db(0x1dc)][_0x4d36c3]=_0x4876e5,await _0x43eff8[_0x1f46db(0x271)](_0x1aa9dd,_0x7032c8,_0x440c25),await _0x43eff8[_0x1f46db(0x21f)](x,_0x584e5b,_0x4876e5,_0x7032c8,_0x440c25);});}catch(_0x4c8fe0){_0x4713b4[_0x2920d8(0x1ba)](s,_0x2920d8(0x1ce)+_0x2920d8(0x29c)+_0x584e5b+_0x2920d8(0x208)+_0x440c25+':\x20'+_0x4c8fe0,_0x4713b4[_0x2920d8(0x2a2)]),_0x4713b4[_0x2920d8(0x22f)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0x2920d8(0x2a2)],'message':_0x4713b4[_0x2920d8(0x1fa)]});}return;case _0x4713b4[_0x2920d8(0x215)]:try{await _0x4713b4[_0x2920d8(0x24d)]($,_0x440c25,async()=>{const _0xe98418=_0x2920d8,_0x43b150=_0x4713b4[_0xe98418(0x217)](L,_0x440c25),_0xb343f5=_0x788ba0;if(![_0x4713b4[_0xe98418(0x222)],_0x4713b4[_0xe98418(0x29d)]][_0xe98418(0x254)](_0xb343f5)||_0x4713b4[_0xe98418(0x259)](_0x43b150[_0xe98418(0x1d4)][_0xb343f5],_0x4431be)){_0x4713b4[_0xe98418(0x2a4)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0xe98418(0x2a2)],'message':_0x4713b4[_0xe98418(0x233)]});return;}const _0x342a6c=_0x43b150[_0xe98418(0x1dc)][_0xb343f5];_0x342a6c&&_0x4713b4[_0xe98418(0x273)](_0x342a6c[_0xe98418(0x201)],_0x39dd90[_0xe98418(0x202)])&&_0x342a6c[_0xe98418(0x294)](),_0x4876e5[_0xe98418(0x281)]=_0xb343f5,_0x4876e5[_0xe98418(0x24a)]=_0x4431be,_0x4876e5[_0xe98418(0x265)]=_0x440c25,_0x43b150[_0xe98418(0x1dc)][_0xb343f5]=_0x4876e5,await _0x4713b4[_0xe98418(0x2a4)](_0x1aa9dd,_0x43b150,_0x440c25),await _0x4713b4[_0xe98418(0x238)](x,_0x584e5b,_0x4876e5,_0x43b150,_0x440c25);});}catch(_0x5abfec){_0x4713b4[_0x2920d8(0x1b9)](s,_0x2920d8(0x1ce)+_0x2920d8(0x29c)+_0x584e5b+_0x2920d8(0x208)+_0x440c25+':\x20'+_0x5abfec,_0x4713b4[_0x2920d8(0x2a2)]),_0x4713b4[_0x2920d8(0x1b6)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0x2920d8(0x2a2)],'message':_0x4713b4[_0x2920d8(0x1fa)]});}return;case _0x4713b4[_0x2920d8(0x261)]:try{await _0x4713b4[_0x2920d8(0x297)]($,_0x440c25,async()=>{const _0x424d4a=_0x2920d8;_0x43eff8[_0x424d4a(0x271)](s,_0x424d4a(0x291)+_0x424d4a(0x1d7)+_0x4876e5[_0x424d4a(0x281)]+_0x424d4a(0x208)+_0x440c25,_0x43eff8[_0x424d4a(0x2a6)]),_0x5bc0e8[_0x424d4a(0x1be)]=_0x5bc0e8[_0x424d4a(0x1be)]||{},_0x5bc0e8[_0x424d4a(0x1be)][_0x4876e5[_0x424d4a(0x281)]]=_0x343665[_0x424d4a(0x269)],_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x26c)]=_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x26c)]||[],await _0x43eff8[_0x424d4a(0x271)](_0x149a25,_0x440c25,_0x5bc0e8[_0x424d4a(0x1be)]),_0x43eff8[_0x424d4a(0x25a)](s,_0x424d4a(0x248)+_0x424d4a(0x20e)+_0x4876e5[_0x424d4a(0x281)]+_0x424d4a(0x1da),_0x43eff8[_0x424d4a(0x1e4)]),_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x295)]&&_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x1d3)]&&(_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x212)]=_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x212)]||_0x43eff8[_0x424d4a(0x27e)],_0x5bc0e8[_0x424d4a(0x1c1)+_0x424d4a(0x243)]={'player1':_0x43eff8[_0x424d4a(0x245)](structuredClone,_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x295)]),'player2':_0x43eff8[_0x424d4a(0x245)](structuredClone,_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x1d3)])},_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x1c1)+_0x424d4a(0x243)]=_0x5bc0e8[_0x424d4a(0x1c1)+_0x424d4a(0x243)],await _0x43eff8[_0x424d4a(0x271)](_0x149a25,_0x440c25,_0x5bc0e8[_0x424d4a(0x1be)]),_0x43eff8[_0x424d4a(0x1c7)](s,_0x424d4a(0x1f8)+_0x424d4a(0x205)+_0x424d4a(0x1e5)+_0x424d4a(0x219)+_0x440c25+_0x424d4a(0x1bc)+_0x5bc0e8[_0x424d4a(0x1be)][_0x424d4a(0x212)],_0x43eff8[_0x424d4a(0x2a6)]),[_0x43eff8[_0x424d4a(0x27e)],_0x43eff8[_0x424d4a(0x255)]][_0x424d4a(0x293)](_0x3d202e=>{const _0x3998ff=_0x424d4a;_0x43eff8[_0x3998ff(0x271)](_0x5ec708,_0x5bc0e8[_0x3998ff(0x1dc)][_0x3d202e],{'type':_0x43eff8[_0x3998ff(0x1d9)],'initialFleet':_0x5bc0e8[_0x3998ff(0x1c1)+_0x3998ff(0x243)][_0x3d202e],'battle_ready':!(0x81b+-0x191*-0x17+-0x3*0xeb6),'turn':_0x5bc0e8[_0x3998ff(0x1be)][_0x3998ff(0x212)],'shots':_0x5bc0e8[_0x3998ff(0x1be)][_0x3998ff(0x26c)]});}));});}catch(_0x5004e9){_0x4713b4[_0x2920d8(0x25e)](s,_0x2920d8(0x1ce)+_0x2920d8(0x29c)+_0x584e5b+_0x2920d8(0x208)+_0x440c25+':\x20'+_0x5004e9,_0x4713b4[_0x2920d8(0x2a2)]),_0x4713b4[_0x2920d8(0x1b9)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0x2920d8(0x2a2)],'message':_0x4713b4[_0x2920d8(0x1fa)]});}return;case _0x4713b4[_0x2920d8(0x1d8)]:try{await _0x4713b4[_0x2920d8(0x22a)]($,_0x440c25,async()=>{const _0x18b62c=_0x2920d8,{x:_0x408564,y:_0x8b17a1}=_0x343665,_0x40d0cb=u[_0x440c25],_0x3d0d80=_0x40d0cb[_0x18b62c(0x1be)];if(_0x43eff8[_0x18b62c(0x231)](_0x3d0d80[_0x18b62c(0x212)],_0x4876e5[_0x18b62c(0x281)]))return;const _0x4c5fb8=_0x43eff8[_0x18b62c(0x23e)](_0x4876e5[_0x18b62c(0x281)],_0x43eff8[_0x18b62c(0x27e)])?_0x43eff8[_0x18b62c(0x255)]:_0x43eff8[_0x18b62c(0x27e)],_0x5dde32=_0x3d0d80[_0x4c5fb8];let _0x522792=!(-0x26e2+0x3f7+0x8bb*0x4),_0x51671f=null;for(const [_0x589116,_0x4ea692]of Object[_0x18b62c(0x1c5)](_0x5dde32)){const _0x26facb=_0x4ea692[_0x18b62c(0x285)](_0x560959=>_0x560959['x']===_0x408564&&_0x560959['y']===_0x8b17a1);if(_0x43eff8[_0x18b62c(0x231)](_0x26facb,-(-0xa18+-0x1d*0xfe+0x26df))){_0x522792=!(-0x652*-0x2+0xe22+-0x1ac6),_0x4ea692[_0x18b62c(0x232)](_0x26facb,0x11ca+-0x917*0x4+0x1293),_0x43eff8[_0x18b62c(0x1f4)](_0x4ea692[_0x18b62c(0x226)],0x10c+0xced+-0xdf9)&&(_0x51671f={'ship':_0x589116,'coords':_0x40d0cb[_0x18b62c(0x1c1)+_0x18b62c(0x243)][_0x4c5fb8][_0x589116]},_0x43eff8[_0x18b62c(0x25a)](s,_0x18b62c(0x253)+_0x589116+_0x18b62c(0x1e7),_0x43eff8[_0x18b62c(0x2a6)]));break;}}const _0x6d89cb=Object[_0x18b62c(0x27f)](_0x5dde32)[_0x18b62c(0x1f3)](_0x56bbbd=>_0x56bbbd[_0x18b62c(0x226)]===-0x47b+0x12f*0x10+-0xe75);_0x43eff8[_0x18b62c(0x1e0)](!_0x522792,!_0x6d89cb)&&(_0x3d0d80[_0x18b62c(0x212)]=_0x4c5fb8);const _0x5dedd2={'type':_0x43eff8[_0x18b62c(0x288)],'x':_0x408564,'y':_0x8b17a1,'isHit':_0x522792,'by':_0x4876e5[_0x18b62c(0x281)],'turn':_0x3d0d80[_0x18b62c(0x212)]};_0x51671f&&(_0x5dedd2[_0x18b62c(0x23d)]=_0x51671f),_0x6d89cb&&(_0x5dedd2[_0x18b62c(0x264)]=!(-0x1b4f+-0x2037+-0x322*-0x13),_0x5dedd2[_0x18b62c(0x2a1)]=_0x4876e5[_0x18b62c(0x281)]),_0x3d0d80[_0x18b62c(0x26c)][_0x18b62c(0x1cb)]({'x':_0x408564,'y':_0x8b17a1,'isHit':_0x522792,'by':_0x4876e5[_0x18b62c(0x281)],'sunk':_0x43eff8[_0x18b62c(0x23f)](_0x51671f,null),'gameOver':_0x6d89cb,'winner':_0x6d89cb?_0x4876e5[_0x18b62c(0x281)]:null}),_0x6d89cb?(await _0x43eff8[_0x18b62c(0x245)](_0x2a89d9,_0x440c25),delete u[_0x440c25],_0x43eff8[_0x18b62c(0x209)](s,_0x18b62c(0x24c)+_0x440c25+(_0x18b62c(0x29b)+_0x18b62c(0x2a7)+'ён'),_0x43eff8[_0x18b62c(0x2a6)])):(await _0x43eff8[_0x18b62c(0x25a)](_0x149a25,_0x440c25,_0x3d0d80),_0x43eff8[_0x18b62c(0x209)](s,_0x18b62c(0x24c)+_0x440c25+(_0x18b62c(0x1fe)+_0x18b62c(0x275)+_0x18b62c(0x1b7)),_0x43eff8[_0x18b62c(0x1e4)])),_0x43eff8[_0x18b62c(0x200)](_0x5ec708,_0x40d0cb[_0x18b62c(0x1dc)][_0x18b62c(0x295)],_0x5dedd2),_0x43eff8[_0x18b62c(0x28b)](_0x5ec708,_0x40d0cb[_0x18b62c(0x1dc)][_0x18b62c(0x1d3)],_0x5dedd2);});}catch(_0x4faf48){_0x4713b4[_0x2920d8(0x24d)](s,_0x2920d8(0x1ce)+_0x2920d8(0x29c)+_0x584e5b+_0x2920d8(0x208)+_0x440c25+':\x20'+_0x4faf48,_0x4713b4[_0x2920d8(0x2a2)]),_0x4713b4[_0x2920d8(0x207)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0x2920d8(0x2a2)],'message':_0x4713b4[_0x2920d8(0x1fa)]});}return;case _0x4713b4[_0x2920d8(0x20a)]:{const {text:_0x5c76f6}=_0x343665;if(_0x4713b4[_0x2920d8(0x262)](typeof _0x5c76f6,_0x4713b4[_0x2920d8(0x242)])||!_0x4876e5[_0x2920d8(0x265)])return;const _0x25a476=u[_0x4876e5[_0x2920d8(0x265)]];if(!_0x25a476)return;const _0x5a351d={'type':_0x4713b4[_0x2920d8(0x20a)],'from':_0x4876e5[_0x2920d8(0x281)],'text':_0x5c76f6[_0x2920d8(0x29a)](-0x12e*-0xa+0xfe+0x1*-0xcca,-0x1*0x655+0x2258+0x3b9*-0x7)};[_0x4713b4[_0x2920d8(0x222)],_0x4713b4[_0x2920d8(0x29d)]][_0x2920d8(0x293)](_0x5495f0=>{const _0x4ba49a=_0x2920d8;_0x4713b4[_0x4ba49a(0x289)](_0x5ec708,_0x25a476[_0x4ba49a(0x1dc)][_0x5495f0],_0x5a351d);});return;}default:_0x4713b4[_0x2920d8(0x25e)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0x2920d8(0x2a2)],'message':_0x4713b4[_0x2920d8(0x278)]});return;}}catch(_0x2fc62b){_0x4713b4[_0x2920d8(0x22f)](s,_0x2920d8(0x26e)+_0x2920d8(0x239)+_0x2920d8(0x1fc)+'\x20'+_0x2fc62b,_0x4713b4[_0x2920d8(0x2a2)]),_0x4713b4[_0x2920d8(0x1f6)](_0x5ec708,_0x4876e5,{'type':_0x4713b4[_0x2920d8(0x2a2)],'message':_0x4713b4[_0x2920d8(0x1fa)]});}}),_0x4876e5['on'](_0x4713b4[_0x403570(0x1ee)],()=>{const _0x2540fe=_0x403570;_0x4876e5[_0x2540fe(0x265)]&&_0x4713b4[_0x2540fe(0x244)]($,_0x4876e5[_0x2540fe(0x265)],()=>{const _0xc5bcdb=_0x2540fe,_0x3b4985=u[_0x4876e5[_0xc5bcdb(0x265)]];if(_0x3b4985&&_0x4876e5[_0xc5bcdb(0x281)]&&_0x4713b4[_0xc5bcdb(0x26f)](_0x3b4985[_0xc5bcdb(0x1dc)][_0x4876e5[_0xc5bcdb(0x281)]],_0x4876e5)){_0x3b4985[_0xc5bcdb(0x1dc)][_0x4876e5[_0xc5bcdb(0x281)]]=null;const _0x23bb80=_0x4713b4[_0xc5bcdb(0x287)](_0x4876e5[_0xc5bcdb(0x281)],_0x4713b4[_0xc5bcdb(0x222)])?_0x4713b4[_0xc5bcdb(0x29d)]:_0x4713b4[_0xc5bcdb(0x222)],_0x52d23f=_0x3b4985[_0xc5bcdb(0x1dc)][_0x23bb80];_0x52d23f&&_0x4713b4[_0xc5bcdb(0x1b6)](_0x5ec708,_0x52d23f,{'type':_0x4713b4[_0xc5bcdb(0x247)]});}});});});const q=(-0x2537*0x1+0x43f*0x8+0x46b)*(-0x3e9+0x176e+-0xf9d),B=(0x58f+-0x2633+-0x4*-0x838)*(-0x1*0x1871+0x127*-0xa+0x27df);setInterval(()=>{const _0x3e528b=_0x1f54bd,_0xa1e435={'XXiyL':_0x3e528b(0x295),'TLXAu':_0x3e528b(0x1d3),'youtv':function(_0x5780fe,_0x14a993){return _0x5780fe>_0x14a993;},'CuPce':function(_0x581637,_0x40da24){return _0x581637-_0x40da24;},'fTAOM':function(_0x1e851d,_0x407921,_0x3ec3ae){return _0x1e851d(_0x407921,_0x3ec3ae);},'fhqJb':_0x3e528b(0x25f)},_0x2d942e=Date[_0x3e528b(0x24b)]();for(const [_0xa9cee6,_0x54c5f3]of Object[_0x3e528b(0x1c5)](u))![_0xa1e435[_0x3e528b(0x21a)],_0xa1e435[_0x3e528b(0x280)]][_0x3e528b(0x221)](_0x44414d=>_0x54c5f3[_0x3e528b(0x1dc)][_0x44414d]?.[_0x3e528b(0x201)]===_0x39dd90[_0x3e528b(0x21e)])&&_0xa1e435[_0x3e528b(0x28a)](_0xa1e435[_0x3e528b(0x216)](_0x2d942e,_0x54c5f3[_0x3e528b(0x1bd)]),q)&&(_0xa1e435[_0x3e528b(0x237)](s,_0x3e528b(0x299)+_0x3e528b(0x257)+_0xa9cee6,_0xa1e435[_0x3e528b(0x235)]),delete u[_0xa9cee6]);},B);const H=(-0xd64+0x1199+-0x417)*(0x55*0x59+-0x5d*0x25+0xb*-0x11c);setInterval(()=>{const _0x5053ed=_0x1f54bd;C[_0x5053ed(0x286)][_0x5053ed(0x293)](_0x48711e=>{const _0x2c57ad=_0x5053ed;if(!_0x48711e[_0x2c57ad(0x26a)])return _0x48711e[_0x2c57ad(0x1d5)]();_0x48711e[_0x2c57ad(0x26a)]=!(-0x12ad+0xed6+-0xf6*-0x4),_0x48711e[_0x2c57ad(0x22d)]();});},H);