const _0x41fb87=_0x23b7;(function(_0x481aa4,_0x3a1d23){const _0x59c867=_0x23b7,_0x486c2e=_0x481aa4();while(!![]){try{const _0x580a53=-parseInt(_0x59c867(0x1aa))/(-0x25b9+0xc47*-0x1+0x3201)*(parseInt(_0x59c867(0x17f))/(0xcf+-0x16cf+0x1602))+parseInt(_0x59c867(0x209))/(-0x29*-0x8e+0x1*-0x207a+0x9bf)+parseInt(_0x59c867(0x1fb))/(0x5*-0x7af+-0x163c+-0xa7*-0x5d)+-parseInt(_0x59c867(0x1ee))/(0x727+0xbe0+-0x1302*0x1)+-parseInt(_0x59c867(0x18d))/(0x11*-0x49+-0x1*-0x1ae6+-0x1607*0x1)*(-parseInt(_0x59c867(0x1fc))/(-0x2*-0x60+-0x373+0x2ba))+-parseInt(_0x59c867(0x23b))/(-0xf1+0x35*-0x8c+0x1df5)*(parseInt(_0x59c867(0x238))/(0xd58+-0x15c2+-0x67*-0x15))+parseInt(_0x59c867(0x1a7))/(0x191*-0x1+-0xd99*0x1+0xf34)*(parseInt(_0x59c867(0x1af))/(-0x1899+0x695+0x120f));if(_0x580a53===_0x3a1d23)break;else _0x486c2e['push'](_0x486c2e['shift']());}catch(_0x81eda0){_0x486c2e['push'](_0x486c2e['shift']());}}}(_0x154e,0x1022e*0x12+0x9183*-0x21+0xe5cb7));import _0x5752df from'express';import{WebSocketServer as _0x10c780,WebSocket as _0x28742a}from'ws';function _0x23b7(_0x3ba2b8,_0x2f1496){const _0x372613=_0x154e();return _0x23b7=function(_0x320ac6,_0x1d2717){_0x320ac6=_0x320ac6-(0x611+-0x1f43+0x1a98);let _0x481cb3=_0x372613[_0x320ac6];return _0x481cb3;},_0x23b7(_0x3ba2b8,_0x2f1496);}import _0x4561aa from'path';import{send as _0x2d082d}from'./utils.js';import{restoreGame as _0x12f85f,saveGame as _0x4f92fd,deleteGame as _0x2337b2,ensureGamesFolder as _0x394659}from'./fsGames.js';const G=process[_0x41fb87(0x1d9)][_0x41fb87(0x200)]||0x9f+0x15*0x1a1+-0x15c*0x11,Z=_0x4561aa[_0x41fb87(0x196)](_0x41fb87(0x1f4)+_0x41fb87(0x1ca)),y={},N={};function E(_0x9fdaeb,_0x2e06ed){const _0x237044={'cZMAm':function(_0x3920d1){return _0x3920d1();},'qNCmM':function(_0x1a0cec,_0x38f84a){return _0x1a0cec(_0x38f84a);},'IeDvL':function(_0x457ac4,_0x3c1ebf){return _0x457ac4===_0x3c1ebf;},'HaRrB':function(_0x145255){return _0x145255();}};N[_0x9fdaeb]||(N[_0x9fdaeb]=[]);const _0x41e0f3=N[_0x9fdaeb];return new Promise((_0x49915a,_0x6e7d9e)=>{const _0x52f0c6=_0x23b7,_0x566b53={'DubKs':function(_0x25d6c8){const _0x19bde5=_0x23b7;return _0x237044[_0x19bde5(0x1fd)](_0x25d6c8);},'KLIjJ':function(_0x2a0673,_0x31d1a2){const _0x8ca4f1=_0x23b7;return _0x237044[_0x8ca4f1(0x1b4)](_0x2a0673,_0x31d1a2);}},_0xf33966=async()=>{const _0x1e0931=_0x23b7;try{const _0x2f02b9=await _0x566b53[_0x1e0931(0x1a2)](_0x2e06ed);_0x566b53[_0x1e0931(0x1bd)](_0x49915a,_0x2f02b9);}catch(_0x214c9e){_0x566b53[_0x1e0931(0x1bd)](_0x6e7d9e,_0x214c9e);}finally{_0x41e0f3[_0x1e0931(0x1a0)](),_0x41e0f3[_0x1e0931(0x22e)]?_0x41e0f3[0x1584+-0x251+-0x1333]():delete N[_0x9fdaeb];}};_0x41e0f3[_0x52f0c6(0x204)](_0xf33966),_0x237044[_0x52f0c6(0x187)](_0x41e0f3[_0x52f0c6(0x22e)],0x1409+0x101*0x26+-0x3a2e*0x1)&&_0x237044[_0x52f0c6(0x1e3)](_0xf33966);});}function P(_0x555490){return y[_0x555490]||(y[_0x555490]={'playerIds':{'player1':null,'player2':null},'sockets':{'player1':null,'player2':null}}),y[_0x555490];}function n(_0x2c44bb,_0x5e067e=_0x41fb87(0x1d2)){const _0x4741c1=_0x41fb87,_0x2331ac=new Date()[_0x4741c1(0x239)+'g']()[_0x4741c1(0x16f)]('T','\x20')[_0x4741c1(0x234)]('.')[0x146c+0x2b*0x2e+-0x1c26*0x1];console[_0x4741c1(0x16c)]('['+_0x2331ac+_0x4741c1(0x166)+_0x5e067e+']\x20'+_0x2c44bb);}await _0x394659();const T=_0x5752df();T[_0x41fb87(0x1a1)](_0x5752df[_0x41fb87(0x194)](_0x41fb87(0x1d1)));function _0x154e(){const _0x3b1509=['qNCmM','становлена','forEach','HfwxA','WhFHn','ии\x20','parse','TbeVQ','close','KLIjJ','VVvbL','stringify','string','вая\x20сессия','полнена','slice','\x20подключен','secret_id\x20','Данные\x20игр','pgybb','тся:\x20','TvUcO','ames','warn','обязателен','Создана\x20но','→\x20Корабль\x20','shoot','Неизвестны','public','info','qaYfv','PHmhU','дключение','pbIBN','sunk','Некорректн','env','FRduQ','fCJTP','fleet',',\x20после=','AAloC','player2','connect','PJzjr','FdYYW','HaRrB','values','ets','ONpFF','vlbuh','FwFvG','lyBOb','роль\x20','BJLCe','role_assig','role','4642815pquuVU','bnOjI','OIYDR','Сессия\x20вос','ссию\x20','трела','./server/g','resume','FoOQs','playerId','rmQUS','now','connected','1724836sZOSdA','34615qvXQOn','cZMAm',':\x20до=','mzOBP','PORT','Оба\x20игрока','Сервер\x20слу','includes','push','shots','connection','battleData','eIqcN','176994BaJjhj','waiting','debug','\x20готовы.\x20Б','bSocket-по','\x20в\x20сессии\x20','ой\x20начинае','Назначена\x20','Wyknv','zsdYV','send','lJHkN','mvgyG','listen','Игра\x20','й\x20тип','ый\x20JSON','battle','\x20после\x20выс',',\x20ходит\x20','OPEN','cWTYD','yYHEL','isAlive','mvSko','\x20сохранены','//localhos','vstAS','OfTmg','QkVSL','\x20роль\x20или\x20','tOHyT','ока\x20','gameOver','tKxGj','nLwtn','Jarxi','length','wSwNk','CLOSED','rBcoA','Удаляем\x20се','jVStb','split','AQilX','findIndex','some','9xHFGls','toISOStrin','я\x20для\x20сесс','7617160OlnmQP','pause','playerIds','KPGsT','\x20окончена,','bTZwY','shot_resul',']\x20[','player1','→\x20Новое\x20We','TQszt','message','caKeT','log','turn','reconnect','replace','sockets','ughuv','secret_id','VQMvQ','winner','splice','TvVWJ','mpcXX','initialFle','chat','Рестарт\x20бо','YypnD','ы:\x20','MQRbH','bdhUh','3233898VkJjRH','every','\x20сообщение','RjcPq',':\x20неверная','oeGaR','KzTln','entries','IeDvL','error','lastActive','jEGEB','FxUOO','←\x20Получено','1614cAdQfT','jUfxc','Попадание\x20','battle_sta','\x20файл\x20удал','WDQkD','Комната\x20за','static','шает\x20http:','join','jEUvQ','KVDCc','rt\x20от\x20','\x20reconnect','LLIkg','lbeDV','readyState','\x20у\x20','jglHZ','shift','use','DubKs','TjoUX','vQrnB','ned','xXBxk','30eAvZGr','sRDxk','xrzyv','1cpwIVR','Невозможен','vzisV','init','WlfIC','9455941QFKUwQ','\x20потоплен!','ocUlJ','cPvyN','\x20обновлена'];_0x154e=function(){return _0x3b1509;};return _0x154e();}const B=T[_0x41fb87(0x216)](G,()=>n(_0x41fb87(0x202)+_0x41fb87(0x195)+_0x41fb87(0x223)+'t:'+G,_0x41fb87(0x1ad))),H=new _0x10c780({'server':B});H['on'](_0x41fb87(0x206),_0x422f57=>{const _0x4c32c5=_0x41fb87,_0x20e7ad={'FRduQ':function(_0x1b2f55,_0x37c200){return _0x1b2f55===_0x37c200;},'jVStb':function(_0x405c91,_0x28081a){return _0x405c91(_0x28081a);},'ughuv':_0x4c32c5(0x167),'tOHyT':_0x4c32c5(0x1df),'KzTln':_0x4c32c5(0x188),'fCJTP':_0x4c32c5(0x193)+_0x4c32c5(0x1c2),'AAloC':function(_0x4a5acb,_0x1f871b,_0xa416ef){return _0x4a5acb(_0x1f871b,_0xa416ef);},'VVvbL':_0x4c32c5(0x1ec)+_0x4c32c5(0x1a5),'WDQkD':function(_0x48635a,_0x3ea942){return _0x48635a!==_0x3ea942;},'RjcPq':_0x4c32c5(0x1ab)+_0x4c32c5(0x19a)+_0x4c32c5(0x183)+_0x4c32c5(0x227)+_0x4c32c5(0x1f7),'eIqcN':function(_0x5f5104,_0x2a7ca0){return _0x5f5104!==_0x2a7ca0;},'cWTYD':_0x4c32c5(0x21a),'lJHkN':function(_0x7b492e,_0x26b2b6,_0x34936f){return _0x7b492e(_0x26b2b6,_0x34936f);},'BJLCe':_0x4c32c5(0x1d8)+_0x4c32c5(0x219),'vQrnB':_0x4c32c5(0x1cb),'HfwxA':function(_0x453a10,_0xb0a47f,_0x3f83b1){return _0x453a10(_0xb0a47f,_0x3f83b1);},'rBcoA':_0x4c32c5(0x20b),'vzisV':_0x4c32c5(0x1c5)+_0x4c32c5(0x1cc),'bTZwY':_0x4c32c5(0x1e0),'lyBOb':_0x4c32c5(0x16e),'PHmhU':_0x4c32c5(0x190)+'rt','vstAS':_0x4c32c5(0x1d2),'TQszt':function(_0x336e53,_0x5b5e31,_0x3c6bc6){return _0x336e53(_0x5b5e31,_0x3c6bc6);},'Jarxi':function(_0x11cb15,_0x247bf2,_0x811ed2){return _0x11cb15(_0x247bf2,_0x811ed2);},'zsdYV':function(_0x456295,_0xbf8537,_0x473a93){return _0x456295(_0xbf8537,_0x473a93);},'mvSko':_0x4c32c5(0x1cf),'jEGEB':function(_0x5e14e4,_0x144ff4){return _0x5e14e4===_0x144ff4;},'qaYfv':function(_0x34ba20,_0x476613,_0x11c1c5){return _0x34ba20(_0x476613,_0x11c1c5);},'rmQUS':function(_0x351015,_0x447884){return _0x351015===_0x447884;},'wSwNk':function(_0x146e07,_0x450f71,_0x190a93){return _0x146e07(_0x450f71,_0x190a93);},'YypnD':function(_0x1085f7,_0x55449a){return _0x1085f7&&_0x55449a;},'xXBxk':_0x4c32c5(0x241)+'t','TbeVQ':function(_0x51fb95,_0x3f5739){return _0x51fb95||_0x3f5739;},'tKxGj':function(_0x2d28e4,_0xb2e056){return _0x2d28e4(_0xb2e056);},'OfTmg':function(_0x37d7ca,_0x467015,_0x4a60ed){return _0x37d7ca(_0x467015,_0x4a60ed);},'mzOBP':function(_0x34f235,_0x1474a7,_0x30e4a6){return _0x34f235(_0x1474a7,_0x30e4a6);},'lbeDV':function(_0x2b6309,_0x2d1e94,_0x32306d){return _0x2b6309(_0x2d1e94,_0x32306d);},'OIYDR':function(_0x2369bb,_0x5de1ac,_0x5402d5){return _0x2369bb(_0x5de1ac,_0x5402d5);},'vlbuh':_0x4c32c5(0x179),'ONpFF':function(_0x988d9f,_0x3e5f22){return _0x988d9f!=_0x3e5f22;},'jEUvQ':_0x4c32c5(0x1c0),'jglHZ':_0x4c32c5(0x1d0)+_0x4c32c5(0x218),'TjoUX':function(_0x2db04d,_0x542338,_0x2e661e){return _0x2db04d(_0x542338,_0x2e661e);},'PJzjr':_0x4c32c5(0x1fa),'ocUlJ':_0x4c32c5(0x20a),'yYHEL':_0x4c32c5(0x1f5),'WlfIC':_0x4c32c5(0x23c),'QkVSL':function(_0xb4051a,_0x2b3365,_0x3cfc8c){return _0xb4051a(_0x2b3365,_0x3cfc8c);},'xrzyv':_0x4c32c5(0x168)+_0x4c32c5(0x20d)+_0x4c32c5(0x1d5),'AQilX':_0x4c32c5(0x16a),'oeGaR':_0x4c32c5(0x1bc)};_0x20e7ad[_0x4c32c5(0x22b)](n,_0x20e7ad[_0x4c32c5(0x1a9)]),_0x422f57[_0x4c32c5(0x220)]=!(-0x1b46+0x11c0+0x986),_0x422f57[_0x4c32c5(0x1ed)]=null,_0x422f57[_0x4c32c5(0x172)]=null,_0x422f57['on'](_0x20e7ad[_0x4c32c5(0x235)],async _0x248689=>{const _0x55c26d=_0x4c32c5,_0x4049d8={'FoOQs':function(_0x38dab4,_0x1a153b){const _0x197414=_0x23b7;return _0x20e7ad[_0x197414(0x233)](_0x38dab4,_0x1a153b);},'sRDxk':_0x20e7ad[_0x55c26d(0x171)],'nLwtn':_0x20e7ad[_0x55c26d(0x228)],'pbIBN':function(_0xad906,_0x4b3172){const _0x395e58=_0x55c26d;return _0x20e7ad[_0x395e58(0x1da)](_0xad906,_0x4b3172);},'bnOjI':function(_0x311104,_0xa5eb98){const _0x190523=_0x55c26d;return _0x20e7ad[_0x190523(0x1da)](_0x311104,_0xa5eb98);},'WhFHn':_0x20e7ad[_0x55c26d(0x185)],'Wyknv':_0x20e7ad[_0x55c26d(0x1db)],'FwFvG':function(_0x425f62,_0x2a033e,_0x83542c){const _0x8e6e14=_0x55c26d;return _0x20e7ad[_0x8e6e14(0x1de)](_0x425f62,_0x2a033e,_0x83542c);},'TvVWJ':_0x20e7ad[_0x55c26d(0x1be)],'jUfxc':function(_0xca304b,_0x86e073){const _0x269967=_0x55c26d;return _0x20e7ad[_0x269967(0x192)](_0xca304b,_0x86e073);},'KVDCc':_0x20e7ad[_0x55c26d(0x182)],'mpcXX':function(_0x1f3999,_0x5a7614){const _0x290b5b=_0x55c26d;return _0x20e7ad[_0x290b5b(0x208)](_0x1f3999,_0x5a7614);},'FxUOO':function(_0xb3d234,_0x417f70,_0x4281df){const _0x312629=_0x55c26d;return _0x20e7ad[_0x312629(0x1de)](_0xb3d234,_0x417f70,_0x4281df);},'MQRbH':_0x20e7ad[_0x55c26d(0x21e)]};let _0x34fbd7;try{_0x34fbd7=JSON[_0x55c26d(0x1ba)](_0x248689);}catch{_0x20e7ad[_0x55c26d(0x214)](n,_0x20e7ad[_0x55c26d(0x1eb)],_0x20e7ad[_0x55c26d(0x1a4)]);return;}const {type:_0x1f7b63,secret_id:_0x23626e,role:_0x108d33,playerId:_0x282292}=_0x34fbd7;if(_0x20e7ad[_0x55c26d(0x1b7)](n,_0x55c26d(0x18c)+_0x55c26d(0x181)+'\x20'+_0x1f7b63,_0x20e7ad[_0x55c26d(0x231)]),!_0x23626e){_0x422f57[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x185)],'message':_0x20e7ad[_0x55c26d(0x1ac)]}));return;}y[_0x23626e]||(y[_0x23626e]={'sockets':{'player1':null,'player2':null},'lastActive':Date[_0x55c26d(0x1f9)]()},_0x20e7ad[_0x55c26d(0x1de)](n,_0x55c26d(0x1cd)+_0x55c26d(0x1c1)+'\x20'+_0x23626e,_0x20e7ad[_0x55c26d(0x231)]));const _0xfaa2fe=y[_0x23626e];switch(_0xfaa2fe[_0x55c26d(0x189)]=Date[_0x55c26d(0x1f9)](),_0xfaa2fe[_0x55c26d(0x23d)]=_0xfaa2fe[_0x55c26d(0x23d)]||{'player1':null,'player2':null},_0x1f7b63){case _0x20e7ad[_0x55c26d(0x240)]:{await _0x20e7ad[_0x55c26d(0x214)](E,_0x23626e,async()=>{const _0x5e0eea=_0x55c26d,_0x4c7894=_0x4049d8[_0x5e0eea(0x1f6)](P,_0x23626e);for(const _0x194b8e of[_0x4049d8[_0x5e0eea(0x1a8)],_0x4049d8[_0x5e0eea(0x22c)]]){const _0x4d3a96=_0x4c7894[_0x5e0eea(0x170)][_0x194b8e];_0x4d3a96&&_0x4049d8[_0x5e0eea(0x1d6)](_0x4d3a96[_0x5e0eea(0x19d)],_0x28742a[_0x5e0eea(0x230)])&&(_0x4c7894[_0x5e0eea(0x170)][_0x194b8e]=null);}let _0x57467e=null;if(_0x4049d8[_0x5e0eea(0x1ef)](_0x4c7894[_0x5e0eea(0x23d)][_0x5e0eea(0x167)],_0x282292)&&!_0x4c7894[_0x5e0eea(0x170)][_0x5e0eea(0x167)])_0x57467e=_0x4049d8[_0x5e0eea(0x1a8)];else{if(_0x4049d8[_0x5e0eea(0x1ef)](_0x4c7894[_0x5e0eea(0x23d)][_0x5e0eea(0x1df)],_0x282292)&&!_0x4c7894[_0x5e0eea(0x170)][_0x5e0eea(0x1df)])_0x57467e=_0x4049d8[_0x5e0eea(0x22c)];else{if(!_0x4c7894[_0x5e0eea(0x170)][_0x5e0eea(0x167)])_0x57467e=_0x4049d8[_0x5e0eea(0x1a8)],_0x4c7894[_0x5e0eea(0x23d)][_0x5e0eea(0x167)]=_0x282292;else{if(!_0x4c7894[_0x5e0eea(0x170)][_0x5e0eea(0x1df)])_0x57467e=_0x4049d8[_0x5e0eea(0x22c)],_0x4c7894[_0x5e0eea(0x23d)][_0x5e0eea(0x1df)]=_0x282292;else return _0x422f57[_0x5e0eea(0x213)](JSON[_0x5e0eea(0x1bf)]({'type':_0x4049d8[_0x5e0eea(0x1b8)],'message':_0x4049d8[_0x5e0eea(0x211)]}));}}}_0x422f57[_0x5e0eea(0x1ed)]=_0x57467e,_0x422f57[_0x5e0eea(0x1f7)]=_0x282292,_0x422f57[_0x5e0eea(0x172)]=_0x23626e,_0x4c7894[_0x5e0eea(0x170)][_0x57467e]=_0x422f57,await _0x4049d8[_0x5e0eea(0x1e8)](_0x12f85f,_0x4c7894,_0x23626e),_0x422f57[_0x5e0eea(0x213)](JSON[_0x5e0eea(0x1bf)]({'type':_0x4049d8[_0x5e0eea(0x176)],'role':_0x57467e}));});break;}case _0x20e7ad[_0x55c26d(0x1e9)]:{await _0x20e7ad[_0x55c26d(0x1b7)](E,_0x23626e,async()=>{const _0x4b36f2=_0x55c26d,_0x1e25a6=_0x4049d8[_0x4b36f2(0x1f6)](P,_0x23626e),_0x501155=_0x108d33;if(![_0x4049d8[_0x4b36f2(0x1a8)],_0x4049d8[_0x4b36f2(0x22c)]][_0x4b36f2(0x203)](_0x501155)||_0x4049d8[_0x4b36f2(0x18e)](_0x1e25a6[_0x4b36f2(0x23d)][_0x501155],_0x282292))return _0x422f57[_0x4b36f2(0x213)](JSON[_0x4b36f2(0x1bf)]({'type':_0x4049d8[_0x4b36f2(0x1b8)],'message':_0x4049d8[_0x4b36f2(0x198)]}));const _0xb90eda=_0x1e25a6[_0x4b36f2(0x170)][_0x501155];_0xb90eda&&_0x4049d8[_0x4b36f2(0x177)](_0xb90eda[_0x4b36f2(0x19d)],_0x28742a[_0x4b36f2(0x230)])&&_0xb90eda[_0x4b36f2(0x1bc)](),_0x422f57[_0x4b36f2(0x1ed)]=_0x501155,_0x422f57[_0x4b36f2(0x1f7)]=_0x282292,_0x422f57[_0x4b36f2(0x172)]=_0x23626e,_0x1e25a6[_0x4b36f2(0x170)][_0x501155]=_0x422f57,await _0x4049d8[_0x4b36f2(0x1e8)](_0x12f85f,_0x1e25a6,_0x23626e),_0x422f57[_0x4b36f2(0x213)](JSON[_0x4b36f2(0x1bf)]({'type':_0x4049d8[_0x4b36f2(0x176)],'role':_0x501155}));});break;}case _0x20e7ad[_0x55c26d(0x1d4)]:_0x20e7ad[_0x55c26d(0x1b7)](n,_0x55c26d(0x190)+_0x55c26d(0x199)+_0x422f57[_0x55c26d(0x1ed)]+_0x55c26d(0x20e)+_0x23626e,_0x20e7ad[_0x55c26d(0x224)]),_0xfaa2fe[_0x55c26d(0x207)]=_0xfaa2fe[_0x55c26d(0x207)]||{},_0xfaa2fe[_0x55c26d(0x207)][_0x422f57[_0x55c26d(0x1ed)]]=_0x34fbd7[_0x55c26d(0x1dc)],_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x205)]=_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x205)]||[],await _0x20e7ad[_0x55c26d(0x169)](_0x4f92fd,_0x23626e,_0xfaa2fe[_0x55c26d(0x207)]),_0x20e7ad[_0x55c26d(0x22d)](n,_0x55c26d(0x1c6)+_0x55c26d(0x229)+_0x422f57[_0x55c26d(0x1ed)]+_0x55c26d(0x222),_0x20e7ad[_0x55c26d(0x231)]),_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x167)]&&_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x1df)]&&(_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x16d)]=_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x16d)]||_0x20e7ad[_0x55c26d(0x171)],_0xfaa2fe[_0x55c26d(0x178)+_0x55c26d(0x1e5)]={'player1':JSON[_0x55c26d(0x1ba)](JSON[_0x55c26d(0x1bf)](_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x167)])),'player2':JSON[_0x55c26d(0x1ba)](JSON[_0x55c26d(0x1bf)](_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x1df)]))},_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x178)+_0x55c26d(0x1e5)]=_0xfaa2fe[_0x55c26d(0x178)+_0x55c26d(0x1e5)],await _0x20e7ad[_0x55c26d(0x212)](_0x4f92fd,_0x23626e,_0xfaa2fe[_0x55c26d(0x207)]),_0x20e7ad[_0x55c26d(0x214)](n,_0x55c26d(0x201)+_0x55c26d(0x20c)+_0x55c26d(0x20f)+_0x55c26d(0x1c8)+_0x23626e+_0x55c26d(0x21c)+_0xfaa2fe[_0x55c26d(0x207)][_0x55c26d(0x16d)],_0x20e7ad[_0x55c26d(0x224)]),[_0x20e7ad[_0x55c26d(0x171)],_0x20e7ad[_0x55c26d(0x228)]][_0x55c26d(0x1b6)](_0x27b7fa=>{const _0x4f5de3=_0x55c26d;_0x4049d8[_0x4f5de3(0x18b)](_0x2d082d,_0xfaa2fe[_0x4f5de3(0x170)][_0x27b7fa],{'type':_0x4049d8[_0x4f5de3(0x17d)],'initialFleet':_0xfaa2fe[_0x4f5de3(0x178)+_0x4f5de3(0x1e5)][_0x27b7fa],'battle_ready':!(-0x3*0x819+0x1*-0x1cc1+0x350c),'turn':_0xfaa2fe[_0x4f5de3(0x207)][_0x4f5de3(0x16d)],'shots':_0xfaa2fe[_0x4f5de3(0x207)][_0x4f5de3(0x205)]});}));return;case _0x20e7ad[_0x55c26d(0x221)]:{const {x:_0x1314d8,y:_0x521641}=_0x34fbd7,_0x5de759=y[_0x23626e],_0xdbf948=_0x5de759[_0x55c26d(0x207)];if(_0x20e7ad[_0x55c26d(0x208)](_0xdbf948[_0x55c26d(0x16d)],_0x422f57[_0x55c26d(0x1ed)]))return;const _0x545d01=_0x20e7ad[_0x55c26d(0x18a)](_0x422f57[_0x55c26d(0x1ed)],_0x20e7ad[_0x55c26d(0x171)])?_0x20e7ad[_0x55c26d(0x228)]:_0x20e7ad[_0x55c26d(0x171)],_0x495d49=_0xdbf948[_0x545d01];let _0x17d22d=!(-0x1985+0xa*-0xb5+0x2098),_0xfdc01a=null;for(const [_0xabc9c4,_0x6b610d]of Object[_0x55c26d(0x186)](_0x495d49)){const _0x2f4f69=_0x6b610d[_0x55c26d(0x236)](_0x30b600=>_0x30b600['x']===_0x1314d8&&_0x30b600['y']===_0x521641);if(_0x20e7ad[_0x55c26d(0x192)](_0x2f4f69,-(0x266b+0xa57+-0x30c1))){_0x17d22d=!(-0x26*0x13+0x1*-0x1bc5+-0xbf*-0x29);const _0x17fb17=_0x6b610d[_0x55c26d(0x22e)];_0x6b610d[_0x55c26d(0x175)](_0x2f4f69,0x115f+-0xd*0x9d+-0x965);const _0x54c250=_0x6b610d[_0x55c26d(0x22e)];_0x20e7ad[_0x55c26d(0x1d3)](n,_0x55c26d(0x18f)+'в\x20'+_0xabc9c4+_0x55c26d(0x19e)+_0x545d01+_0x55c26d(0x1fe)+_0x17fb17+_0x55c26d(0x1dd)+_0x54c250,_0x20e7ad[_0x55c26d(0x231)]),_0x20e7ad[_0x55c26d(0x1f8)](_0x54c250,0x23d4*0x1+-0x107*-0x19+-0x3d83)&&(_0x20e7ad[_0x55c26d(0x22f)](n,_0x55c26d(0x1ce)+_0xabc9c4+_0x55c26d(0x1b0),_0x20e7ad[_0x55c26d(0x224)]),_0xfdc01a={'ship':_0xabc9c4,'coords':_0x5de759[_0x55c26d(0x178)+_0x55c26d(0x1e5)][_0x545d01][_0xabc9c4]});break;}}const _0x3fdaea=Object[_0x55c26d(0x1e4)](_0x495d49)[_0x55c26d(0x180)](_0x4119a2=>_0x4119a2[_0x55c26d(0x22e)]===0x1*0x14f2+-0x1*-0x24c4+-0x2*0x1cdb);_0x20e7ad[_0x55c26d(0x17b)](!_0x17d22d,!_0x3fdaea)&&(_0xdbf948[_0x55c26d(0x16d)]=_0x545d01);const _0x542dad={'type':_0x20e7ad[_0x55c26d(0x1a6)],'x':_0x1314d8,'y':_0x521641,'isHit':_0x17d22d,'by':_0x422f57[_0x55c26d(0x1ed)],'turn':_0xdbf948[_0x55c26d(0x16d)]};_0x3fdaea&&(_0x542dad[_0x55c26d(0x22a)]=!(-0x2331+-0x140b+0x373c),_0x542dad[_0x55c26d(0x174)]=_0x422f57[_0x55c26d(0x1ed)]),_0xfdc01a&&(_0x542dad[_0x55c26d(0x1d7)]=_0xfdc01a),_0xdbf948[_0x55c26d(0x205)]=_0xdbf948[_0x55c26d(0x205)]||[],_0xdbf948[_0x55c26d(0x205)][_0x55c26d(0x204)]({'x':_0x1314d8,'y':_0x521641,'isHit':_0x17d22d,'by':_0x422f57[_0x55c26d(0x1ed)],'sunk':_0x20e7ad[_0x55c26d(0x1bb)](_0xfdc01a,null),'gameOver':_0x3fdaea,'winner':_0x3fdaea?_0x422f57[_0x55c26d(0x1ed)]:null}),_0x3fdaea?(await _0x20e7ad[_0x55c26d(0x22b)](_0x2337b2,_0x23626e),_0x20e7ad[_0x55c26d(0x214)](n,_0x55c26d(0x217)+_0x23626e+(_0x55c26d(0x23f)+_0x55c26d(0x191)+'ён'),_0x20e7ad[_0x55c26d(0x224)]),delete y[_0x23626e]):(await _0x20e7ad[_0x55c26d(0x225)](_0x4f92fd,_0x23626e,_0xdbf948),_0x20e7ad[_0x55c26d(0x1ff)](n,_0x55c26d(0x217)+_0x23626e+(_0x55c26d(0x1b3)+_0x55c26d(0x21b)+_0x55c26d(0x1f3)),_0x20e7ad[_0x55c26d(0x231)])),_0x20e7ad[_0x55c26d(0x19c)](_0x2d082d,_0x5de759[_0x55c26d(0x170)][_0x55c26d(0x167)],_0x542dad),_0x20e7ad[_0x55c26d(0x1f0)](_0x2d082d,_0x5de759[_0x55c26d(0x170)][_0x55c26d(0x1df)],_0x542dad);return;}case _0x20e7ad[_0x55c26d(0x1e7)]:{const {text:_0x1af090}=_0x34fbd7;if(_0x20e7ad[_0x55c26d(0x1e6)](typeof _0x1af090,_0x20e7ad[_0x55c26d(0x197)])||!_0x422f57[_0x55c26d(0x172)])return;const _0x44cc71=y[_0x422f57[_0x55c26d(0x172)]];if(!_0x44cc71)return;const _0x29a0bf={'type':_0x20e7ad[_0x55c26d(0x1e7)],'from':_0x422f57[_0x55c26d(0x1ed)],'text':_0x1af090[_0x55c26d(0x1c3)](-0x24ff+0x48*0x88+-0x141,0xb*0xfb+-0x86*-0x10+-0x1135)};[_0x20e7ad[_0x55c26d(0x171)],_0x20e7ad[_0x55c26d(0x228)]][_0x55c26d(0x1b6)](_0x126d79=>{const _0x3d26be=_0x55c26d,_0x12be79=_0x44cc71[_0x3d26be(0x170)][_0x126d79];_0x12be79&&_0x20e7ad[_0x3d26be(0x1da)](_0x12be79[_0x3d26be(0x19d)],_0x12be79[_0x3d26be(0x21d)])&&_0x12be79[_0x3d26be(0x213)](JSON[_0x3d26be(0x1bf)](_0x29a0bf));});return;}default:_0x422f57[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x185)],'message':_0x20e7ad[_0x55c26d(0x19f)]}));return;}_0x422f57[_0x55c26d(0x172)]=_0x23626e,_0xfaa2fe[_0x55c26d(0x170)][_0x422f57[_0x55c26d(0x1ed)]]=_0x422f57,_0x20e7ad[_0x55c26d(0x22f)](n,_0x55c26d(0x210)+_0x55c26d(0x1ea)+_0x422f57[_0x55c26d(0x1ed)]+_0x55c26d(0x20e)+_0x23626e,_0x20e7ad[_0x55c26d(0x224)]),_0x422f57[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x1be)],'role':_0x422f57[_0x55c26d(0x1ed)]}));const _0xf6701a=_0xfaa2fe[_0x55c26d(0x170)][_0x55c26d(0x167)],_0x75f48d=_0xfaa2fe[_0x55c26d(0x170)][_0x55c26d(0x1df)],_0x6a89b4=!!_0x20e7ad[_0x55c26d(0x17b)](_0xf6701a,_0x75f48d);_0x20e7ad[_0x55c26d(0x1f8)](_0x1f7b63,_0x20e7ad[_0x55c26d(0x240)])?_0x6a89b4?(_0x20e7ad[_0x55c26d(0x1a3)](n,_0x55c26d(0x201)+_0x55c26d(0x1c4)+_0x55c26d(0x17c)+_0x23626e,_0x20e7ad[_0x55c26d(0x224)]),_0xf6701a[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x1e1)]})),_0x75f48d[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x1e1)]}))):_0x422f57[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x1b1)]})):_0x6a89b4?(_0x20e7ad[_0x55c26d(0x1b7)](n,_0x55c26d(0x1f1)+_0x55c26d(0x1b5)+':\x20'+_0x23626e,_0x20e7ad[_0x55c26d(0x224)]),_0xf6701a[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x21f)]})),_0x75f48d[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x21f)]}))):_0x422f57[_0x55c26d(0x213)](JSON[_0x55c26d(0x1bf)]({'type':_0x20e7ad[_0x55c26d(0x1b1)]})),_0xfaa2fe[_0x55c26d(0x207)]?.[_0x55c26d(0x167)]&&_0xfaa2fe[_0x55c26d(0x207)]?.[_0x55c26d(0x1df)]&&_0x6a89b4&&(_0x20e7ad[_0x55c26d(0x225)](n,_0x55c26d(0x17a)+_0x55c26d(0x23a)+_0x55c26d(0x1b9)+_0x23626e,_0x20e7ad[_0x55c26d(0x224)]),[_0x20e7ad[_0x55c26d(0x171)],_0x20e7ad[_0x55c26d(0x228)]][_0x55c26d(0x1b6)](_0x10113b=>{const _0x42bd45=_0x55c26d;_0xfaa2fe[_0x42bd45(0x170)][_0x10113b][_0x42bd45(0x213)](JSON[_0x42bd45(0x1bf)]({'type':_0x4049d8[_0x42bd45(0x17d)],'initialFleet':_0xfaa2fe[_0x42bd45(0x178)+_0x42bd45(0x1e5)][_0x10113b],'battle_ready':!(0x1be9+0x12cc+-0x2eb5),'turn':_0xfaa2fe[_0x42bd45(0x207)][_0x42bd45(0x16d)],'shots':_0xfaa2fe[_0x42bd45(0x207)][_0x42bd45(0x205)]}));}));}),_0x422f57['on'](_0x20e7ad[_0x4c32c5(0x184)],()=>{const _0x458f32=_0x4c32c5,_0x1ee88d={'cPvyN':function(_0x26bb0b,_0x33db6d){const _0x5cdfff=_0x23b7;return _0x20e7ad[_0x5cdfff(0x1da)](_0x26bb0b,_0x33db6d);},'VQMvQ':_0x20e7ad[_0x458f32(0x171)],'KPGsT':_0x20e7ad[_0x458f32(0x228)],'pgybb':_0x20e7ad[_0x458f32(0x1ae)]};_0x20e7ad[_0x458f32(0x226)](E,_0x422f57[_0x458f32(0x172)],()=>{const _0x5e846c=_0x458f32,_0x2a5d7c=y[_0x422f57[_0x5e846c(0x172)]];if(_0x2a5d7c&&_0x422f57[_0x5e846c(0x1ed)]&&_0x1ee88d[_0x5e846c(0x1b2)](_0x2a5d7c[_0x5e846c(0x170)][_0x422f57[_0x5e846c(0x1ed)]],_0x422f57)){_0x2a5d7c[_0x5e846c(0x170)][_0x422f57[_0x5e846c(0x1ed)]]=null;const _0x1cfd66=_0x1ee88d[_0x5e846c(0x1b2)](_0x422f57[_0x5e846c(0x1ed)],_0x1ee88d[_0x5e846c(0x173)])?_0x1ee88d[_0x5e846c(0x23e)]:_0x1ee88d[_0x5e846c(0x173)],_0x444e8b=_0x2a5d7c[_0x5e846c(0x170)][_0x1cfd66];_0x444e8b&&_0x1ee88d[_0x5e846c(0x1b2)](_0x444e8b[_0x5e846c(0x19d)],_0x28742a[_0x5e846c(0x21d)])&&_0x444e8b[_0x5e846c(0x213)](JSON[_0x5e846c(0x1bf)]({'type':_0x1ee88d[_0x5e846c(0x1c7)]}));}});});});const M=(-0x1*-0x1eef+0x22*0x18+-0x20f3)*(0x43d*-0x2+-0x1*-0x2453+-0x17f1),Q=(0x239*0xd+0x145*-0x7+-0x13c6)*(-0x1*-0x26e7+0x12a+-0x2429);setInterval(()=>{const _0x49ce01=_0x41fb87,_0x12c8d0={'FdYYW':_0x49ce01(0x167),'TvUcO':_0x49ce01(0x1df),'bdhUh':function(_0x51188b,_0x33f6b4){return _0x51188b>_0x33f6b4;},'mvgyG':function(_0xf3197,_0x3c3f87){return _0xf3197-_0x3c3f87;},'LLIkg':function(_0x58b695,_0x5aca5c,_0x170a38){return _0x58b695(_0x5aca5c,_0x170a38);},'caKeT':_0x49ce01(0x1d2)},_0x391ac9=Date[_0x49ce01(0x1f9)]();for(const [_0x39eae4,_0x6ae719]of Object[_0x49ce01(0x186)](y))![_0x12c8d0[_0x49ce01(0x1e2)],_0x12c8d0[_0x49ce01(0x1c9)]][_0x49ce01(0x237)](_0x380269=>_0x6ae719[_0x49ce01(0x170)][_0x380269]?.[_0x49ce01(0x19d)]===_0x28742a[_0x49ce01(0x21d)])&&_0x12c8d0[_0x49ce01(0x17e)](_0x12c8d0[_0x49ce01(0x215)](_0x391ac9,_0x6ae719[_0x49ce01(0x189)]),M)&&(_0x12c8d0[_0x49ce01(0x19b)](n,_0x49ce01(0x232)+_0x49ce01(0x1f2)+_0x39eae4,_0x12c8d0[_0x49ce01(0x16b)]),delete y[_0x39eae4]);},Q);