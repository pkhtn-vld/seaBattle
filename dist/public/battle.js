function _0x508f(){const _0x5161b4=['Вернуться\x20','classList','gVUcB','gap','yybAg','JPQiX','KPKDC','startBattl','nvoBJ','miss','length','flex','floor','JSFWf','bixyh','static','mPRQh','min','nAQuc','div','coords','game-title','nqosC','pointerEve','Выстрел\x20по','XdJYX','stop-event','naturalWid','drawImage','e()','in-game','cgxmP','zWggG','torAll','map','display','390888RHDzsz','nEuNu','ynRBc','biDxI','querySelec','clearRect','explosion-','button','textConten','getBoundin','BRQsB','horizontal','101241jLXyYr','ZjIYm','20px','77OxGhLe','iner','width','forEach','vertical','className','twBre','CGldS','Nnjbz','твета\x20серв','16992800cDhFXS','dNyzT','Iertt','nts','tKocX','dFlep','exitBtn','омнаты','.cell[data','naturalHei','к\x20выбору\x20к','DKcum','myField','Yxlpa','13374HwaZrF','hidden','kpnOj','1281963QeRKxf','remove','left','wZFWN','.cell','height','LDDEP','click','getElement','FuStk','LkWdo','style','relative','placed-shi','gridMini','shoot','21heXdUC','VQUzi','inDoc','canvas','EZoRl','rZbhx','column','tor','contains','position','uvrna','log','ner','vXeZA','stringify','QntHi','none','resetPos','WzrIY','216tDZMqI','getContext','TkueT','grid','onclick','ght','EZtIT','appendChil','send','ion','ent','enemyField','4841185veUYaH','qLDuU','\x22][data-y=','gqVbS','gameContai','orientatio','duck-conta','pPrgZ','53232Fdczkp','p-mini','flexDirect','QAiKY','QbbYZ','createElem','every','dvVnY','per','add','kqTbk','addEventLi','gClientRec','VRefK','true','KvcfJ','ById','ZhmOc','title','hit','innerHTML','values','-x=\x22','PpNiO','vEDDt','GBUxl','tsWbw','stener','xaskJ','dataset','ера\x20⏳','cpMxu','battleWrap','Ожидание\x20о','body','JvNYH','top','UGPnA'];_0x508f=function(){return _0x5161b4;};return _0x508f();}function _0x4f0a(_0x30fb16,_0x1b2ec5){const _0x5a82c4=_0x508f();return _0x4f0a=function(_0x9d9231,_0x4b8790){_0x9d9231=_0x9d9231-(0x346*-0xa+-0x5*0x1e1+-0x1*-0x2abb);let _0x675223=_0x5a82c4[_0x9d9231];return _0x675223;},_0x4f0a(_0x30fb16,_0x1b2ec5);}(function(_0x1f3503,_0x3dc8d0){const _0x5a727c=_0x4f0a,_0x34f9e8=_0x1f3503();while(!![]){try{const _0x4dcd91=parseInt(_0x5a727c(0x116))/(0x2b*0x45+0x237b*-0x1+0x17e5)*(-parseInt(_0x5a727c(0x103))/(0xd1c+-0x9be*0x1+-0xa*0x56))+parseInt(_0x5a727c(0x106))/(0x16*0xa7+-0x2512+0x16bb)+-parseInt(_0x5a727c(0xdc))/(-0x1ba9+0xc65+0xf48)+-parseInt(_0x5a727c(0x135))/(0xe9c*0x1+0x1757+-0x25ee*0x1)+-parseInt(_0x5a727c(0x13d))/(0xd*-0x102+0x1b09+-0xde9)*(-parseInt(_0x5a727c(0xeb))/(0x14ea+0x1*0x229f+0x23*-0x196))+parseInt(_0x5a727c(0x129))/(0x638+0x1313*-0x1+-0xce3*-0x1)*(-parseInt(_0x5a727c(0xe8))/(0x27f+0x1*-0x1622+0x2*0x9d6))+parseInt(_0x5a727c(0xf5))/(-0x853*0x1+0x1*0x1d87+0x56*-0x3f);if(_0x4dcd91===_0x3dc8d0)break;else _0x34f9e8['push'](_0x34f9e8['shift']());}catch(_0xf5531){_0x34f9e8['push'](_0x34f9e8['shift']());}}}(_0x508f,0x55*-0x5b9+0x478*0x22a+0x32021));import{buildGrid as _0x4a0574}from'./setup.js';export function startBattle(_0x53685a,_0x20f651,_0x265961,_0x4dccdc,_0x4af237,_0x2257ee,_0x276827=[]){const _0x3828dc=_0x4f0a,_0x2abbb0={'EZtIT':function(_0x3bb98f){return _0x3bb98f();},'qLDuU':function(_0x113ff0,_0x504d69,_0x1c52d2){return _0x113ff0(_0x504d69,_0x1c52d2);},'cpMxu':_0x3828dc(0xd2)+'s','gqVbS':_0x3828dc(0x115),'QbbYZ':_0x3828dc(0x10d),'kpnOj':function(_0x33784f,_0x15c180){return _0x33784f+_0x15c180;},'JPQiX':_0x3828dc(0xa5),'ZjIYm':_0x3828dc(0xc1),'cgxmP':function(_0x45544b,_0x387809){return _0x45544b===_0x387809;},'rZbhx':function(_0xce079,_0x3dc8cf){return _0xce079===_0x3dc8cf;},'XdJYX':function(_0x47976b,_0x28ef2d,_0x23c811){return _0x47976b(_0x28ef2d,_0x23c811);},'nqosC':_0x3828dc(0xbf)+_0x3828dc(0xd5),'yybAg':_0x3828dc(0xd6),'LkWdo':_0x3828dc(0x139)+_0x3828dc(0x122),'mPRQh':_0x3828dc(0x104),'bixyh':_0x3828dc(0xcd),'biDxI':_0x3828dc(0xb3)+_0x3828dc(0xf4)+_0x3828dc(0xb0),'twBre':_0x3828dc(0xcb),'QAiKY':_0x3828dc(0xb2)+_0x3828dc(0x9a),'vEDDt':_0x3828dc(0xc3),'Iertt':_0x3828dc(0xea),'DKcum':_0x3828dc(0x11c),'uvrna':_0x3828dc(0xe3),'UGPnA':_0x3828dc(0xfb),'dvVnY':_0x3828dc(0xb8)+_0x3828dc(0xff)+_0x3828dc(0xfc),'dFlep':_0x3828dc(0x13b)+_0x3828dc(0xec),'nAQuc':_0x3828dc(0x101),'Nnjbz':_0x3828dc(0x114),'kqTbk':_0x3828dc(0x126),'dNyzT':_0x3828dc(0x134),'pPrgZ':_0x3828dc(0x12c),'xaskJ':function(_0x2dd57b,_0x26aeb2,_0x3e51c1){return _0x2dd57b(_0x26aeb2,_0x3e51c1);},'JvNYH':_0x3828dc(0x10a)};console[_0x3828dc(0x121)](_0x2abbb0[_0x3828dc(0xce)],_0x53685a),document[_0x3828dc(0xb4)][_0x3828dc(0xb9)][_0x3828dc(0x9b)](_0x2abbb0[_0x3828dc(0xbc)]);const _0x4e4598=document[_0x3828dc(0x10e)+_0x3828dc(0xa2)](_0x2abbb0[_0x3828dc(0x110)]);_0x4e4598[_0x3828dc(0xb9)][_0x3828dc(0x107)](_0x2abbb0[_0x3828dc(0xc8)]),_0x4e4598[_0x3828dc(0xa6)]='';const _0x3eba2e=document[_0x3828dc(0x142)+_0x3828dc(0x133)]('h2');_0x3eba2e['id']=_0x2abbb0[_0x3828dc(0xc6)],_0x3eba2e[_0x3828dc(0xe4)+'t']=_0x2abbb0[_0x3828dc(0xdf)],_0x4e4598[_0x3828dc(0x130)+'d'](_0x3eba2e);const _0x13693c=document[_0x3828dc(0x142)+_0x3828dc(0x133)](_0x2abbb0[_0x3828dc(0xf1)]);_0x13693c['id']=_0x2abbb0[_0x3828dc(0x140)],_0x13693c[_0x3828dc(0x111)][_0x3828dc(0xdb)]=_0x2abbb0[_0x3828dc(0xaa)],_0x13693c[_0x3828dc(0x111)][_0x3828dc(0xbb)]=_0x2abbb0[_0x3828dc(0xf7)],_0x13693c[_0x3828dc(0x111)][_0x3828dc(0x13f)+_0x3828dc(0x132)]=_0x2abbb0[_0x3828dc(0x100)],_0x4e4598[_0x3828dc(0x130)+'d'](_0x13693c);const _0x1b08f5=document[_0x3828dc(0x142)+_0x3828dc(0x133)](_0x2abbb0[_0x3828dc(0x120)]);_0x1b08f5['id']=_0x2abbb0[_0x3828dc(0xb7)],_0x1b08f5[_0x3828dc(0xa4)]=_0x2abbb0[_0x3828dc(0x144)],_0x13693c[_0x3828dc(0x130)+'d'](_0x1b08f5);const _0x5c721d=document[_0x3828dc(0x142)+_0x3828dc(0x133)](_0x2abbb0[_0x3828dc(0xf1)]);_0x5c721d['id']=_0x2abbb0[_0x3828dc(0xfa)],_0x13693c[_0x3828dc(0x130)+'d'](_0x5c721d),_0x1b08f5[_0x3828dc(0x12d)]=()=>{const _0x12235f=_0x3828dc;_0x2abbb0[_0x12235f(0x12f)](_0x265961);};const _0x2fa185=document[_0x3828dc(0x142)+_0x3828dc(0x133)](_0x2abbb0[_0x3828dc(0xf1)]);_0x2fa185['id']=_0x2abbb0[_0x3828dc(0xca)],_0x2fa185[_0x3828dc(0xf0)]=_0x2abbb0[_0x3828dc(0xf3)],_0x13693c[_0x3828dc(0x130)+'d'](_0x2fa185),_0x2abbb0[_0x3828dc(0x136)](_0x4a0574,_0x2fa185,0x1b6f+0xb*0x12e+-0x285e),Object[_0x3828dc(0xa7)](_0x20f651)[_0x3828dc(0xee)](_0x4ba48a=>{const _0x584160=_0x3828dc;_0x2abbb0[_0x584160(0x136)](placeSunkShip,_0x2fa185,_0x4ba48a);}),_0x2fa185[_0x3828dc(0x111)][_0x3828dc(0xcf)+_0x3828dc(0xf8)]=_0x2abbb0[_0x3828dc(0x9c)];const _0x245b88=document[_0x3828dc(0x142)+_0x3828dc(0x133)](_0x2abbb0[_0x3828dc(0xf1)]);_0x245b88['id']=_0x2abbb0[_0x3828dc(0xf6)],_0x245b88[_0x3828dc(0xf0)]=_0x2abbb0[_0x3828dc(0x13c)],_0x13693c[_0x3828dc(0x130)+'d'](_0x245b88),_0x2abbb0[_0x3828dc(0xae)](_0x4a0574,_0x245b88,-0x7f*-0x26+0x6b2*0x5+-0x3449),_0x245b88[_0x3828dc(0xe0)+_0x3828dc(0xd9)](_0x2abbb0[_0x3828dc(0xb5)])[_0x3828dc(0xee)](_0x5d08fb=>{const _0x45a67d=_0x3828dc;_0x5d08fb[_0x45a67d(0x9d)+_0x45a67d(0xad)](_0x2abbb0[_0x45a67d(0x141)],()=>{const _0x3d89fb=_0x45a67d;_0x5d08fb[_0x3d89fb(0xb9)][_0x3d89fb(0x9b)](_0x2abbb0[_0x3d89fb(0xb1)]);const _0x4cd52d=+_0x5d08fb[_0x3d89fb(0xaf)]['x'],_0x3f2069=+_0x5d08fb[_0x3d89fb(0xaf)]['y'];console[_0x3d89fb(0x121)](_0x3d89fb(0xd0)+'\x20('+_0x4cd52d+',\x20'+_0x3f2069+')'),_0x4dccdc[_0x3d89fb(0x131)](JSON[_0x3d89fb(0x124)]({'type':_0x2abbb0[_0x3d89fb(0x138)],'secret_id':_0x4af237,'role':_0x53685a,'playerId':_0x2257ee,'x':_0x4cd52d,'y':_0x3f2069}));});}),_0x276827[_0x3828dc(0xee)](({x:_0x12e5bb,y:_0x372e59,isHit:_0xd01a23,by:_0x387986,sunk:_0x19f839})=>{const _0x4e68a2=_0x3828dc,_0x3556ad={'JSFWf':function(_0xd0e00d,_0x5f5138){const _0x3c9188=_0x4f0a;return _0x2abbb0[_0x3c9188(0x105)](_0xd0e00d,_0x5f5138);},'nEuNu':_0x2abbb0[_0x4e68a2(0xbd)],'KPKDC':_0x2abbb0[_0x4e68a2(0xe9)]},_0x377b24=(_0x2abbb0[_0x4e68a2(0xd7)](_0x387986,_0x53685a)?_0x245b88:_0x2fa185)[_0x4e68a2(0xe0)+_0x4e68a2(0x11d)](_0x4e68a2(0xfd)+_0x4e68a2(0xa8)+_0x12e5bb+(_0x4e68a2(0x137)+'\x22')+_0x372e59+'\x22]');if(_0x377b24&&_0x377b24[_0x4e68a2(0xb9)][_0x4e68a2(0x9b)](_0xd01a23?_0x2abbb0[_0x4e68a2(0xbd)]:_0x2abbb0[_0x4e68a2(0xe9)]),_0x19f839){const _0xaf28bd=_0x2abbb0[_0x4e68a2(0x11b)](_0x387986,_0x53685a)?_0x245b88:_0x2fa185;_0x2abbb0[_0x4e68a2(0xd1)](placeSunkShip,_0xaf28bd,_0x19f839[_0x4e68a2(0xcc)]);const _0x75d277=[[-(0x19*-0x2e+0x1321+-0xea2),-(0x4eb+0x1f10+-0x23fa)],[-(-0x1a22+0xc5*-0xf+-0x5b*-0x6a),-0xa04+-0x8b*0x41+0x2d4f],[-(-0x1d15+0x27*-0x10+-0x3*-0xa82),0x8d*0x5+-0x1b55*-0x1+-0x1e15],[-0x1*0xacf+-0x1*-0x1777+-0x28*0x51,-(-0x2477+0x764+0x2*0xe8a)],[-0x25*0xe7+0x28*0xa3+0x7eb,0x12af+0xd*0x2d1+-0x374b],[-0x1987*-0x1+0x123*0xf+-0x207*0x15,-(-0x4a1*0x6+0x108f*-0x1+0x2c56)],[-0x2*0x370+0x37c*0x8+-0x14ff,0xd12+0x16de+-0x5*0x730],[-0x1055+-0x2*-0xcd6+0xa*-0xef,-0x10d*-0x25+-0x57+-0x2689]];_0x19f839[_0x4e68a2(0xcc)][_0x4e68a2(0xee)](({x:_0x1b385f,y:_0x54f584})=>{const _0x5cc4b7=_0x4e68a2,_0x1cc15c={'VRefK':function(_0x1107a6,_0x3a765e){const _0xe2ff7b=_0x4f0a;return _0x3556ad[_0xe2ff7b(0xc5)](_0x1107a6,_0x3a765e);},'inDoc':_0x3556ad[_0x5cc4b7(0xdd)],'tKocX':_0x3556ad[_0x5cc4b7(0xbe)]};_0x75d277[_0x5cc4b7(0xee)](([_0x15c4cb,_0x13be49])=>{const _0x27a185=_0x5cc4b7,_0x43fb3e=_0x1cc15c[_0x27a185(0x9f)](_0x1b385f,_0x15c4cb),_0x12fc0c=_0x1cc15c[_0x27a185(0x9f)](_0x54f584,_0x13be49),_0x2639bf=_0xaf28bd[_0x27a185(0xe0)+_0x27a185(0x11d)](_0x27a185(0xfd)+_0x27a185(0xa8)+_0x43fb3e+(_0x27a185(0x137)+'\x22')+_0x12fc0c+'\x22]');_0x2639bf&&!_0x2639bf[_0x27a185(0xb9)][_0x27a185(0x11e)](_0x1cc15c[_0x27a185(0x118)])&&_0x2639bf[_0x27a185(0xb9)][_0x27a185(0x9b)](_0x1cc15c[_0x27a185(0xf9)]);});});}});}export function placeSunkShip(_0x28c197,_0x5cc95d){const _0x3a339e=_0x4f0a,_0x423927={'tsWbw':_0x3a339e(0xef),'TkueT':_0x3a339e(0xe7),'Yxlpa':function(_0x236750,_0x5ea185){return _0x236750===_0x5ea185;},'zWggG':function(_0x213363,_0x579f8c){return _0x213363-_0x579f8c;},'PpNiO':_0x3a339e(0x134),'gVUcB':_0x3a339e(0x113)+'p','vXeZA':_0x3a339e(0x113)+_0x3a339e(0x13e),'ynRBc':_0x3a339e(0xcb),'GBUxl':function(_0x32ead4,_0x49f956){return _0x32ead4+_0x49f956;}},_0x3091e8=_0x5cc95d[_0x3a339e(0xc2)];if(!_0x3091e8)return;const _0x39ac83=_0x5cc95d[_0x3a339e(0x143)](_0x1053d8=>_0x1053d8['x']===_0x5cc95d[-0x1*0x464+-0x4*0x2cf+0xfa0]['x'])?_0x423927[_0x3a339e(0xac)]:_0x423927[_0x3a339e(0x12b)];let _0x525ee2;if(_0x423927[_0x3a339e(0x102)](_0x39ac83,_0x423927[_0x3a339e(0x12b)])){const _0x30271d=_0x5cc95d[-0x14b+0x22cd+-0x2182]['y'];_0x525ee2={'x':Math[_0x3a339e(0xc9)](..._0x5cc95d[_0x3a339e(0xda)](_0x38911e=>_0x38911e['x'])),'y':_0x30271d};}else{const _0x1fa8ab=_0x5cc95d[-0x11e7+-0x1a82+0x2c69]['x'],_0x22dcdb=Math[_0x3a339e(0xc9)](..._0x5cc95d[_0x3a339e(0xda)](_0x228252=>_0x228252['y']));_0x525ee2={'x':_0x1fa8ab,'y':_0x22dcdb};}const _0x2c0984=_0x28c197[_0x3a339e(0xe0)+_0x3a339e(0x11d)](_0x3a339e(0xfd)+_0x3a339e(0xa8)+_0x525ee2['x']+(_0x3a339e(0x137)+'\x22')+_0x525ee2['y']+'\x22]');if(!_0x2c0984)return;const _0x1f40dd=_0x28c197[_0x3a339e(0xe5)+_0x3a339e(0x9e)+'t'](),_0x45f4b8=_0x2c0984[_0x3a339e(0xe5)+_0x3a339e(0x9e)+'t'](),_0x2ec470=_0x423927[_0x3a339e(0xd8)](_0x45f4b8[_0x3a339e(0x108)],_0x1f40dd[_0x3a339e(0x108)]),_0x568b61=_0x423927[_0x3a339e(0xd8)](_0x45f4b8[_0x3a339e(0xb6)],_0x1f40dd[_0x3a339e(0xb6)]),_0x45f8f1=_0x423927[_0x3a339e(0x102)](_0x28c197['id'],_0x423927[_0x3a339e(0xa9)])?_0x423927[_0x3a339e(0xba)]:_0x423927[_0x3a339e(0x123)],_0x2777a7=document[_0x3a339e(0x142)+_0x3a339e(0x133)](_0x423927[_0x3a339e(0xde)]);_0x2777a7[_0x3a339e(0xb9)][_0x3a339e(0x9b)](_0x45f8f1),_0x2777a7[_0x3a339e(0xaf)][_0x3a339e(0xc2)]=_0x3091e8,_0x2777a7[_0x3a339e(0xaf)][_0x3a339e(0x13a)+'n']=_0x39ac83,_0x2777a7[_0x3a339e(0x111)][_0x3a339e(0x108)]=_0x423927[_0x3a339e(0xab)](_0x2ec470,'px'),_0x2777a7[_0x3a339e(0x111)][_0x3a339e(0xb6)]=_0x423927[_0x3a339e(0xab)](_0x568b61,'px'),_0x28c197[_0x3a339e(0x130)+'d'](_0x2777a7);}export function playExplosion(_0x56447f,_0x2d6bac=-0x252e*0x1+-0x89*0x43+0x4945,_0x38ce3c,_0x550142,_0x53b284){const _0x31f9be=_0x4f0a,_0x488d43={'BRQsB':function(_0x43cd00,_0xa1b6d6){return _0x43cd00-_0xa1b6d6;},'KvcfJ':function(_0x4a8bfb,_0x36f95f){return _0x4a8bfb/_0x36f95f;},'QntHi':function(_0x5acc38,_0x351dda){return _0x5acc38<_0x351dda;},'LDDEP':function(_0x266167,_0x38f35f){return _0x266167-_0x38f35f;},'EZoRl':function(_0x33d3a5,_0x18ae37){return _0x33d3a5(_0x18ae37);},'WzrIY':_0x31f9be(0x119),'wZFWN':_0x31f9be(0xe2)+_0x31f9be(0x119),'nvoBJ':function(_0x1080f7,_0x1e1b6a){return _0x1080f7(_0x1e1b6a);},'ZhmOc':function(_0x421288,_0xc9a520){return _0x421288===_0xc9a520;},'FuStk':_0x31f9be(0xc7),'VQUzi':_0x31f9be(0x112),'CGldS':_0x31f9be(0xa0)},_0x516ce8=_0x38ce3c?_0x550142:_0x53b284,_0x40035d=_0x516ce8[_0x31f9be(0xc2)],_0x4289da=_0x516ce8[-0x207c+0x6f*0x29+0xeb5*0x1][_0x31f9be(0xd3)+'th'],_0x3c1029=_0x516ce8[-0x213d+0x25*-0x67+0x3020][_0x31f9be(0xfe)+_0x31f9be(0x12e)],_0x37c282=document[_0x31f9be(0x142)+_0x31f9be(0x133)](_0x488d43[_0x31f9be(0x128)]);_0x37c282[_0x31f9be(0xed)]=_0x4289da,_0x37c282[_0x31f9be(0x10b)]=_0x3c1029,_0x37c282[_0x31f9be(0xf0)]=_0x488d43[_0x31f9be(0x109)];const _0x3872fe=_0x488d43[_0x31f9be(0xc0)](getComputedStyle,_0x56447f)[_0x31f9be(0x11f)];(_0x488d43[_0x31f9be(0xa3)](_0x3872fe,_0x488d43[_0x31f9be(0x10f)])||!_0x3872fe)&&(_0x56447f[_0x31f9be(0x111)][_0x31f9be(0x11f)]=_0x488d43[_0x31f9be(0x117)],_0x37c282[_0x31f9be(0xaf)][_0x31f9be(0x127)]=_0x488d43[_0x31f9be(0xf2)]),_0x56447f[_0x31f9be(0x130)+'d'](_0x37c282);const _0x26c24d=_0x37c282[_0x31f9be(0x12a)]('2d');let _0x77c745=null;function _0x50850d(_0x5907fd){const _0x37b6b5=_0x31f9be;_0x77c745||(_0x77c745=_0x5907fd);const _0xfb5134=_0x488d43[_0x37b6b5(0xe6)](_0x5907fd,_0x77c745),_0x3338b7=Math[_0x37b6b5(0xc9)](Math[_0x37b6b5(0xc4)](_0x488d43[_0x37b6b5(0xa1)](_0xfb5134,_0x2d6bac)),_0x488d43[_0x37b6b5(0xe6)](_0x40035d,-0x2281+-0x3*-0x47d+0x150b));_0x26c24d[_0x37b6b5(0xe1)](0x2*0x102b+-0x1c74+0x47*-0xe,-0xde6+-0x2358+-0x313e*-0x1,_0x4289da,_0x3c1029),_0x26c24d[_0x37b6b5(0xd4)](_0x516ce8[_0x3338b7],-0x1f23*-0x1+0xcee+-0x2c11*0x1,0x1eb3+-0x27*-0xb2+-0x39d1),_0x488d43[_0x37b6b5(0x125)](_0x3338b7,_0x488d43[_0x37b6b5(0x10c)](_0x40035d,0x1919+-0xe34+-0xae4))?_0x488d43[_0x37b6b5(0x11a)](requestAnimationFrame,_0x50850d):(_0x37c282[_0x37b6b5(0x107)](),_0x37c282[_0x37b6b5(0xaf)][_0x37b6b5(0x127)]&&(_0x56447f[_0x37b6b5(0x111)][_0x37b6b5(0x11f)]=''));}_0x488d43[_0x31f9be(0xc0)](requestAnimationFrame,_0x50850d);}